import{r as y,a as td,R as sd,b as rd,c as le,d as mr}from"./vendor-Kp6dn_L0.js";import{_ as is,u as nd,j as fi,k as pi,l as gi,p as id,n as xi,o as ad,q as yi,W as od,m as ld,r as cd}from"./wagmi-BNSAVPy4.js";import{W as dd,C as ud,w as hd}from"./web3-DSq5QntV.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();var So={exports:{}},Ks={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md=y,fd=Symbol.for("react.element"),pd=Symbol.for("react.fragment"),gd=Object.prototype.hasOwnProperty,xd=md.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yd={key:!0,ref:!0,__self:!0,__source:!0};function To(t,e,s){var n,i={},o=null,a=null;s!==void 0&&(o=""+s),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)gd.call(e,n)&&!yd.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:fd,type:t,key:o,ref:a,props:i,_owner:xd.current}}Ks.Fragment=pd;Ks.jsx=To;Ks.jsxs=To;So.exports=Ks;var r=So.exports,Po,bi=td;Po=bi.createRoot,bi.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zt(){return Zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Zt.apply(this,arguments)}var Re;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Re||(Re={}));const vi="popstate";function bd(t){t===void 0&&(t={});function e(n,i){let{pathname:o,search:a,hash:l}=n.location;return Fr("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:As(i)}return wd(e,s,null,t)}function z(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Co(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vd(){return Math.random().toString(36).substr(2,8)}function wi(t,e){return{usr:t.state,key:t.key,idx:e}}function Fr(t,e,s,n){return s===void 0&&(s=null),Zt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?St(e):e,{state:s,key:e&&e.key||n||vd()})}function As(t){let{pathname:e="/",search:s="",hash:n=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function St(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function wd(t,e,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,l=Re.Pop,c=null,d=u();d==null&&(d=0,a.replaceState(Zt({},a.state,{idx:d}),""));function u(){return(a.state||{idx:null}).idx}function h(){l=Re.Pop;let x=u(),b=x==null?null:x-d;d=x,c&&c({action:l,location:p.location,delta:b})}function m(x,b){l=Re.Push;let w=Fr(p.location,x,b);d=u()+1;let v=wi(w,d),j=p.createHref(w);try{a.pushState(v,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(j)}o&&c&&c({action:l,location:p.location,delta:1})}function f(x,b){l=Re.Replace;let w=Fr(p.location,x,b);d=u();let v=wi(w,d),j=p.createHref(w);a.replaceState(v,"",j),o&&c&&c({action:l,location:p.location,delta:0})}function g(x){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:As(x);return w=w.replace(/ $/,"%20"),z(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let p={get action(){return l},get location(){return t(i,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(vi,h),c=x,()=>{i.removeEventListener(vi,h),c=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:f,go(x){return a.go(x)}};return p}var ji;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ji||(ji={}));function jd(t,e,s){return s===void 0&&(s="/"),Nd(t,e,s)}function Nd(t,e,s,n){let i=typeof e=="string"?St(e):e,o=Nn(i.pathname||"/",s);if(o==null)return null;let a=Ao(t);kd(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=Ld(o);l=Od(a[c],d)}return l}function Ao(t,e,s,n){e===void 0&&(e=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(z(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=De([n,c.relativePath]),u=s.concat(c);o.children&&o.children.length>0&&(z(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Ao(o.children,e,u,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:Ed(d,o.index),routesMeta:u})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of Eo(o.path))i(o,a,c)}),e}function Eo(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,i=s.endsWith("?"),o=s.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=Eo(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function kd(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:Md(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const _d=/^:[\w-]+$/,Sd=3,Td=2,Pd=1,Cd=10,Ad=-2,Ni=t=>t==="*";function Ed(t,e){let s=t.split("/"),n=s.length;return s.some(Ni)&&(n+=Ad),e&&(n+=Td),s.filter(i=>!Ni(i)).reduce((i,o)=>i+(_d.test(o)?Sd:o===""?Pd:Cd),n)}function Md(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Od(t,e,s){let{routesMeta:n}=t,i={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=o==="/"?e:e.slice(o.length)||"/",h=Rd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:De([o,h.pathname]),pathnameBase:Vd(De([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=De([o,h.pathnameBase]))}return a}function Rd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=Dd(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let p=l[h]||"";a=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[h];return f&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function Dd(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),Co(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Ld(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Co(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Nn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}function Id(t,e){e===void 0&&(e="/");let{pathname:s,search:n="",hash:i=""}=typeof t=="string"?St(t):t;return{pathname:s?s.startsWith("/")?s:$d(s,e):e,search:Fd(n),hash:Bd(i)}}function $d(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function fr(t,e,s,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ud(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Mo(t,e){let s=Ud(t);return e?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Oo(t,e,s,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=St(t):(i=Zt({},t),z(!i.pathname||!i.pathname.includes("?"),fr("?","pathname","search",i)),z(!i.pathname||!i.pathname.includes("#"),fr("#","pathname","hash",i)),z(!i.search||!i.search.includes("#"),fr("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=s;else{let h=e.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=Id(i,l),d=a&&a!=="/"&&a.endsWith("/"),u=(o||a===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const De=t=>t.join("/").replace(/\/\/+/g,"/"),Vd=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Fd=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bd=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Wd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ro=["post","put","patch","delete"];new Set(Ro);const qd=["get",...Ro];new Set(qd);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jt(){return Jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Jt.apply(this,arguments)}const kn=y.createContext(null),Hd=y.createContext(null),tt=y.createContext(null),Gs=y.createContext(null),Ue=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Do=y.createContext(null);function zd(t,e){let{relative:s}=e===void 0?{}:e;as()||z(!1);let{basename:n,navigator:i}=y.useContext(tt),{hash:o,pathname:a,search:l}=Uo(t,{relative:s}),c=a;return n!=="/"&&(c=a==="/"?n:De([n,a])),i.createHref({pathname:c,search:l,hash:o})}function as(){return y.useContext(Gs)!=null}function os(){return as()||z(!1),y.useContext(Gs).location}function Lo(t){y.useContext(tt).static||y.useLayoutEffect(t)}function Io(){let{isDataRoute:t}=y.useContext(Ue);return t?iu():Kd()}function Kd(){as()||z(!1);let t=y.useContext(kn),{basename:e,future:s,navigator:n}=y.useContext(tt),{matches:i}=y.useContext(Ue),{pathname:o}=os(),a=JSON.stringify(Mo(i,s.v7_relativeSplatPath)),l=y.useRef(!1);return Lo(()=>{l.current=!0}),y.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=Oo(d,JSON.parse(a),o,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:De([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,a,o,t])}function $o(){let{matches:t}=y.useContext(Ue),e=t[t.length-1];return e?e.params:{}}function Uo(t,e){let{relative:s}=e===void 0?{}:e,{future:n}=y.useContext(tt),{matches:i}=y.useContext(Ue),{pathname:o}=os(),a=JSON.stringify(Mo(i,n.v7_relativeSplatPath));return y.useMemo(()=>Oo(t,JSON.parse(a),o,s==="path"),[t,a,o,s])}function Gd(t,e){return Yd(t,e)}function Yd(t,e,s,n){as()||z(!1);let{navigator:i}=y.useContext(tt),{matches:o}=y.useContext(Ue),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=os(),u;if(e){var h;let x=typeof e=="string"?St(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||z(!1),u=x}else u=d;let m=u.pathname||"/",f=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=jd(t,{pathname:f}),p=eu(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:De([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:De([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,s,n);return e&&p?y.createElement(Gs.Provider,{value:{location:Jt({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Re.Pop}},p):p}function Zd(){let t=nu(),e=Wd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),s?y.createElement("pre",{style:i},s):null,null)}const Jd=y.createElement(Zd,null);class Xd extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?y.createElement(Ue.Provider,{value:this.props.routeContext},y.createElement(Do.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qd(t){let{routeContext:e,match:s,children:n}=t,i=y.useContext(kn);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),y.createElement(Ue.Provider,{value:e},n)}function eu(t,e,s,n){var i;if(e===void 0&&(e=[]),s===void 0&&(s=null),n===void 0&&(n=null),t==null){var o;if(!s)return null;if(s.errors)t=s.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let a=t,l=(i=s)==null?void 0:i.errors;if(l!=null){let u=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||z(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:f}=s,g=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,h,m)=>{let f,g=!1,p=null,x=null;s&&(f=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||Jd,c&&(d<0&&m===0?(au("route-fallback"),g=!0,x=null):d===m&&(g=!0,x=h.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,m+1)),w=()=>{let v;return f?v=p:g?v=x:h.route.Component?v=y.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,y.createElement(Qd,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:s!=null},children:v})};return s&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?y.createElement(Xd,{location:s.location,revalidation:s.revalidation,component:p,error:f,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var Vo=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vo||{}),Fo=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fo||{});function tu(t){let e=y.useContext(kn);return e||z(!1),e}function su(t){let e=y.useContext(Hd);return e||z(!1),e}function ru(t){let e=y.useContext(Ue);return e||z(!1),e}function Bo(t){let e=ru(),s=e.matches[e.matches.length-1];return s.route.id||z(!1),s.route.id}function nu(){var t;let e=y.useContext(Do),s=su(),n=Bo();return e!==void 0?e:(t=s.errors)==null?void 0:t[n]}function iu(){let{router:t}=tu(Vo.UseNavigateStable),e=Bo(Fo.UseNavigateStable),s=y.useRef(!1);return Lo(()=>{s.current=!0}),y.useCallback(function(i,o){o===void 0&&(o={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Jt({fromRouteId:e},o)))},[t,e])}const ki={};function au(t,e,s){ki[t]||(ki[t]=!0)}function ou(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function se(t){z(!1)}function lu(t){let{basename:e="/",children:s=null,location:n,navigationType:i=Re.Pop,navigator:o,static:a=!1,future:l}=t;as()&&z(!1);let c=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:o,static:a,future:Jt({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof n=="string"&&(n=St(n));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:g="default"}=n,p=y.useMemo(()=>{let x=Nn(u,c);return x==null?null:{location:{pathname:x,search:h,hash:m,state:f,key:g},navigationType:i}},[c,u,h,m,f,g,i]);return p==null?null:y.createElement(tt.Provider,{value:d},y.createElement(Gs.Provider,{children:s,value:p}))}function cu(t){let{children:e,location:s}=t;return Gd(Br(e),s)}new Promise(()=>{});function Br(t,e){e===void 0&&(e=[]);let s=[];return y.Children.forEach(t,(n,i)=>{if(!y.isValidElement(n))return;let o=[...e,i];if(n.type===y.Fragment){s.push.apply(s,Br(n.props.children,o));return}n.type!==se&&z(!1),!n.props.index||!n.props.children||z(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Br(n.props.children,o)),s.push(a)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wr(){return Wr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Wr.apply(this,arguments)}function du(t,e){if(t==null)return{};var s={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(s[i]=t[i]);return s}function uu(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hu(t,e){return t.button===0&&(!e||e==="_self")&&!uu(t)}const mu=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fu="6";try{window.__reactRouterVersion=fu}catch{}const pu="startTransition",_i=sd[pu];function gu(t){let{basename:e,children:s,future:n,window:i}=t,o=y.useRef();o.current==null&&(o.current=bd({window:i,v5Compat:!0}));let a=o.current,[l,c]=y.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},u=y.useCallback(h=>{d&&_i?_i(()=>c(h)):c(h)},[c,d]);return y.useLayoutEffect(()=>a.listen(u),[a,u]),y.useEffect(()=>ou(n),[n]),y.createElement(lu,{basename:e,children:s,location:l.location,navigationType:l.action,navigator:a,future:n})}const xu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A=y.forwardRef(function(e,s){let{onClick:n,relative:i,reloadDocument:o,replace:a,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,m=du(e,mu),{basename:f}=y.useContext(tt),g,p=!1;if(typeof d=="string"&&yu.test(d)&&(g=d,xu))try{let v=new URL(window.location.href),j=d.startsWith("//")?new URL(v.protocol+d):new URL(d),N=Nn(j.pathname,f);j.origin===v.origin&&N!=null?d=N+j.search+j.hash:p=!0}catch{}let x=zd(d,{relative:i}),b=bu(d,{replace:a,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function w(v){n&&n(v),v.defaultPrevented||b(v)}return y.createElement("a",Wr({},m,{href:g||x,onClick:p||o?n:w,ref:s,target:c}))});var Si;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Si||(Si={}));var Ti;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ti||(Ti={}));function bu(t,e){let{target:s,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:l}=e===void 0?{}:e,c=Io(),d=os(),u=Uo(t,{relative:a});return y.useCallback(h=>{if(hu(h,s)){h.preventDefault();let m=n!==void 0?n:As(d)===As(u);c(t,{replace:m,state:i,preventScrollReset:o,relative:a,viewTransition:l})}},[d,c,u,n,i,s,t,o,a,l])}const vu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>is(async()=>{const{default:n}=await Promise.resolve().then(()=>Tt);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class _n extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class wu extends _n{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pi extends _n{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ci extends _n{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qr||(qr={}));var ju=function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(a){a(o)})}return new(s||(s=Promise))(function(o,a){function l(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?o(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Nu{constructor(e,{headers:s={},customFetch:n,region:i=qr.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=vu(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return ju(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:a}=s;let l={},{region:c}=s;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const h=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(p=>{throw new wu(p)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new Pi(h);if(!h.ok)throw new Ci(h);let f=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield h.json():f==="application/octet-stream"?g=yield h.blob():f==="text/event-stream"?g=h:f==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof Ci||i instanceof Pi?i.context:void 0}}})}}var re={},Sn={},Ys={},ls={},Zs={},Js={},ku=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bt=ku();const _u=bt.fetch,Wo=bt.fetch.bind(bt),qo=bt.Headers,Su=bt.Request,Tu=bt.Response,Tt=Object.freeze(Object.defineProperty({__proto__:null,Headers:qo,Request:Su,Response:Tu,default:Wo,fetch:_u},Symbol.toStringTag,{value:"Module"})),Pu=rd(Tt);var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});let Cu=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Xs.default=Cu;var Ho=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Js,"__esModule",{value:!0});const Au=Ho(Pu),Eu=Ho(Xs);let Mu=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Au.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c;let d=null,u=null,h=null,m=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const p=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,m=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const p=await o.text();try{d=JSON.parse(p),Array.isArray(d)&&o.status===404&&(u=[],d=null,m=200,f="OK")}catch{o.status===404&&p===""?(m=204,f="No Content"):d={message:p}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,f="OK"),d&&this.shouldThrowOnError)throw new Eu.default(d)}return{error:d,data:u,count:h,status:m,statusText:f}});return this.shouldThrowOnError||(i=i.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,s)}returns(){return this}overrideTypes(){return this}};Js.default=Mu;var Ou=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zs,"__esModule",{value:!0});const Ru=Ou(Js);let Du=class extends Ru.default{select(e){let s=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(a,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,s?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Zs.default=Du;var Lu=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ls,"__esModule",{value:!0});const Iu=Lu(Zs);let $u=class extends Iu.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${a}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}};ls.default=$u;var Uu=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ys,"__esModule",{value:!0});const Rt=Uu(ls);let Vu=class{constructor(e,{headers:s={},schema:n,fetch:i}){this.url=e,this.headers=s,this.schema=n,this.fetch=i}select(e,{head:s=!1,count:n}={}){const i=s?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Rt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:n=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Rt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Rt.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new Rt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Rt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ys.default=Vu;var Qs={},er={};Object.defineProperty(er,"__esModule",{value:!0});er.version=void 0;er.version="0.0.0-automated";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.DEFAULT_HEADERS=void 0;const Fu=er;Qs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Fu.version}`};var zo=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sn,"__esModule",{value:!0});const Bu=zo(Ys),Wu=zo(ls),qu=Qs;let Hu=class Ko{constructor(e,{headers:s={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},qu.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=i}from(e){const s=new URL(`${this.url}/${e}`);return new Bu.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ko(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:i=!1,count:o}={}){let a;const l=new URL(`${this.url}/rpc/${e}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(s).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(a="POST",c=s);const d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new Wu.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Sn.default=Hu;var Pt=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(re,"__esModule",{value:!0});re.PostgrestError=re.PostgrestBuilder=re.PostgrestTransformBuilder=re.PostgrestFilterBuilder=re.PostgrestQueryBuilder=re.PostgrestClient=void 0;const Go=Pt(Sn);re.PostgrestClient=Go.default;const Yo=Pt(Ys);re.PostgrestQueryBuilder=Yo.default;const Zo=Pt(ls);re.PostgrestFilterBuilder=Zo.default;const Jo=Pt(Zs);re.PostgrestTransformBuilder=Jo.default;const Xo=Pt(Js);re.PostgrestBuilder=Xo.default;const Qo=Pt(Xs);re.PostgrestError=Qo.default;var zu=re.default={PostgrestClient:Go.default,PostgrestQueryBuilder:Yo.default,PostgrestFilterBuilder:Zo.default,PostgrestTransformBuilder:Jo.default,PostgrestBuilder:Xo.default,PostgrestError:Qo.default};const{PostgrestClient:Ku,PostgrestQueryBuilder:wb,PostgrestFilterBuilder:jb,PostgrestTransformBuilder:Nb,PostgrestBuilder:kb,PostgrestError:_b}=zu;class Gu{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const i=this.dynamicRequire("undici");if(i&&i.WebSocket)return{type:"native",constructor:i.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const i=this.dynamicRequire("ws");if(i)return{type:"ws",constructor:(s=i.WebSocket)!==null&&s!==void 0?s:i};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const n=this.getWebSocketConstructor();return new n(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Yu="2.15.0",Zu=`realtime-js/${Yu}`,Ju="1.0.0",Hr=1e4,Xu=1e3,Qu=100;var Wt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Wt||(Wt={}));var G;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(G||(G={}));var ge;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ge||(ge={}));var zr;(function(t){t.websocket="websocket"})(zr||(zr={}));var Ye;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ye||(Ye={}));class eh{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const i=s.getUint8(1),o=s.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+i));a=a+i;const c=n.decode(e.slice(a,a+o));a=a+o;const d=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class el{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var I;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(I||(I={}));const Ai=(t,e,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,a)=>(o[a]=th(a,t,e,i),o),{})},th=(t,e,s,n)=>{const i=e.find(l=>l.name===t),o=i==null?void 0:i.type,a=s[t];return o&&!n.includes(o)?tl(o,a):Kr(a)},tl=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return ih(e,s)}switch(t){case I.bool:return sh(e);case I.float4:case I.float8:case I.int2:case I.int4:case I.int8:case I.numeric:case I.oid:return rh(e);case I.json:case I.jsonb:return nh(e);case I.timestamp:return ah(e);case I.abstime:case I.date:case I.daterange:case I.int4range:case I.int8range:case I.money:case I.reltime:case I.text:case I.time:case I.timestamptz:case I.timetz:case I.tsrange:case I.tstzrange:return Kr(e);default:return Kr(e)}},Kr=t=>t,sh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},rh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nh=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ih=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let o;const a=t.slice(1,s);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>tl(e,l))}return t},ah=t=>typeof t=="string"?t.replace(" ","T"):t,sl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class pr{constructor(e,s,n={},i=Hr){this.channel=e,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ei;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ei||(Ei={}));class qt{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qt.syncState(this.state,i,o,a),this.pendingDiffs.forEach(c=>{this.state=qt.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qt.syncDiff(this.state,i,o,a),l())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,i){const o=this.cloneDeep(e),a=this.transformState(s),l={},c={};return this.map(o,(d,u)=>{a[d]||(c[d]=u)}),this.map(a,(d,u)=>{const h=o[d];if(h){const m=u.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),g=u.filter(x=>f.indexOf(x.presence_ref)<0),p=h.filter(x=>m.indexOf(x.presence_ref)<0);g.length>0&&(l[d]=g),p.length>0&&(c[d]=p)}else l[d]=u}),this.syncDiff(o,{joins:l,leaves:c},n,i)}static syncDiff(e,s,n,i){const{joins:o,leaves:a}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(f=>f.presence_ref),m=u.filter(f=>h.indexOf(f.presence_ref)<0);e[l].unshift(...m)}n(l,u,c)}),this.map(a,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,i(l,d,c),d.length===0&&delete e[l]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const i=e[n];return"metas"in i?s[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[n]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Mi||(Mi={}));var Ht;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ht||(Ht={}));var Ne;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ne||(Ne={}));class Tn{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=G.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new pr(this,ge.join,this.params,this.timeout),this.rejoinTimer=new el(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=G.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=G.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=G.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=G.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=G.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ge.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new qt(this),this.broadcastEndpointURL=sl(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==G.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ht.PRESENCE]&&this.bindings[Ht.PRESENCE].length>0,u={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Ne.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Ne.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:m})=>{var f;if(this.socket.setAuth(),m===void 0){e==null||e(Ne.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,p=(f=g==null?void 0:g.length)!==null&&f!==void 0?f:0,x=[];for(let b=0;b<p;b++){const w=g[b],{filter:{event:v,schema:j,table:N,filter:S}}=w,T=m&&m[b];if(T&&T.event===v&&T.schema===j&&T.table===N&&T.filter===S)x.push(Object.assign(Object.assign({},w),{id:T.id}));else{this.unsubscribe(),this.state=G.errored,e==null||e(Ne.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Ne.SUBSCRIBED);return}}).receive("error",m=>{this.state=G.errored,e==null||e(Ne.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ne.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this.state===G.joined&&e===Ht.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,n)}async send(e,s={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const d=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=G.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ge.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new pr(this,ge.leave,{},e),n.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=G.closed,this.bindings={}}async _fetchWithTimeout(e,s,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(o),a}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new pr(this,e,s,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Qu){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var i,o;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=ge;if(n&&[l,c,d,u].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,s,n);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,p,x;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(p=f.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(f=>f.callback(m,n)):(o=this.bindings[a])===null||o===void 0||o.filter(f=>{var g,p,x,b,w,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const j=f.id,N=(g=f.filter)===null||g===void 0?void 0:g.event;return j&&((p=s.ids)===null||p===void 0?void 0:p.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(w=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((v=s==null?void 0:s.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:p,table:x,commit_timestamp:b,type:w,errors:v}=g;m=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:b,eventType:w,new:{},old:{},errors:v}),this._getPayloadRecords(g))}f.callback(m,n)})}_isClosed(){return this.state===G.closed}_isJoined(){return this.state===G.joined}_isJoining(){return this.state===G.joining}_isLeaving(){return this.state===G.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const i=e.toLocaleLowerCase(),o={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Tn.isEqual(i.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ge.close,{},e)}_onError(e){this._on(ge.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=G.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Ai(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Ai(e.columns,e.old_record)),s}}const Oi=()=>{},ps={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oh=[1e3,2e3,5e3,1e4],lh=1e4,ch=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dh{constructor(e,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hr,this.transport=null,this.heartbeatIntervalMs=ps.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Oi,this.ref=0,this.reconnectTimer=null,this.logger=Oi,this.conn=null,this.sendBuffer=[],this.serializer=new eh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>is(async()=>{const{default:l}=await Promise.resolve().then(()=>Tt);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...a)=>o(...a)},!(!((n=s==null?void 0:s.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${zr.websocket}`,this.httpEndpoint=sl(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gu.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ju}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wt.connecting:return Ye.Connecting;case Wt.open:return Ye.Open;case Wt.closing:return Ye.Closing;default:return Ye.Closed}}isConnected(){return this.connectionState()===Ye.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new Tn(`realtime:${e}`,s,this);return this.channels.push(o),o}}push(e){const{topic:s,event:n,payload:i,ref:o}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${n} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Xu,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ps.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:a}=s,l=a?`(${a})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),o),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,o,a)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ge.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${n}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([ch],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const i={access_token:s,version:Zu};s&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ge.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(s)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new el(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ps.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,n,i,o,a,l,c,d;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Hr,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ps.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:u=>oh[u-1]||lh,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(u,h)=>h(JSON.stringify(u)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Pn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Y(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class uh extends Pn{constructor(e,s,n){super(e),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gr extends Pn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var hh=function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(a){a(o)})}return new(s||(s=Promise))(function(o,a){function l(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?o(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const rl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>is(async()=>{const{default:n}=await Promise.resolve().then(()=>Tt);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},mh=()=>hh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield is(()=>Promise.resolve().then(()=>Tt),void 0)).Response:Response}),Yr=t=>{if(Array.isArray(t))return t.map(s=>Yr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Yr(n)}),e},fh=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var st=function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(a){a(o)})}return new(s||(s=Promise))(function(o,a){function l(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?o(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const gr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ph=(t,e,s)=>st(void 0,void 0,void 0,function*(){const n=yield mh();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new uh(gr(i),o,a))}).catch(i=>{e(new Gr(gr(i),i))}):e(new Gr(gr(t),t))}),gh=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(fh(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),s))};function cs(t,e,s,n,i,o){return st(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(s,gh(e,n,i,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>ph(c,l,n))})})}function Es(t,e,s,n){return st(this,void 0,void 0,function*(){return cs(t,"GET",e,s,n)})}function ke(t,e,s,n,i){return st(this,void 0,void 0,function*(){return cs(t,"POST",e,n,i,s)})}function Zr(t,e,s,n,i){return st(this,void 0,void 0,function*(){return cs(t,"PUT",e,n,i,s)})}function xh(t,e,s,n){return st(this,void 0,void 0,function*(){return cs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function nl(t,e,s,n,i){return st(this,void 0,void 0,function*(){return cs(t,"DELETE",e,n,i,s)})}var te=function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(a){a(o)})}return new(s||(s=Promise))(function(o,a){function l(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?o(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const yh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ri={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bh{constructor(e,s={},n,i){this.url=e,this.headers=s,this.bucketId=n,this.fetch=rl(i)}uploadOrUpdate(e,s,n,i){return te(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Ri),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),h=yield(e=="PUT"?Zr:ke)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}})}upload(e,s,n){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,i){return te(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:Ri.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield Zr(this.fetch,l.toString(),c,{headers:u});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(Y(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,s){return te(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const o=yield ke(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new Pn("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}})}update(e,s,n){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return te(this,void 0,void 0,function*(){try{return{data:yield ke(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}copy(e,s,n){return te(this,void 0,void 0,function*(){try{return{data:{path:(yield ke(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,n){return te(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield ke(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,n){return te(this,void 0,void 0,function*(){try{const i=yield ke(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}download(e,s){return te(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Es(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Y(l))return{data:null,error:l};throw l}})}info(e){return te(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield Es(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Yr(n),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}})}exists(e){return te(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield xh(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Y(n)&&n instanceof Gr){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),i=[],o=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&i.push(o);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return te(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}list(e,s,n){return te(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},yh),s),{prefix:e||""});return{data:yield ke(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const vh="2.10.4",wh={"X-Client-Info":`storage-js/${vh}`};var nt=function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(a){a(o)})}return new(s||(s=Promise))(function(o,a){function l(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?o(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class jh{constructor(e,s={},n,i){const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},wh),s),this.fetch=rl(n)}listBuckets(){return nt(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}})}getBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return nt(this,void 0,void 0,function*(){try{return{data:yield ke(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return nt(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}})}emptyBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:yield ke(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}deleteBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}}class Nh extends jh{constructor(e,s={},n,i){super(e,s,n,i)}from(e){return new bh(this.url,this.headers,e,this.fetch)}}const kh="2.54.0";let Ut="";typeof Deno<"u"?Ut="deno":typeof document<"u"?Ut="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ut="react-native":Ut="node";const _h={"X-Client-Info":`supabase-js-${Ut}/${kh}`},Sh={headers:_h},Th={schema:"public"},Ph={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ch={};var Ah=function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(a){a(o)})}return new(s||(s=Promise))(function(o,a){function l(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?o(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const Eh=t=>{let e;return t?e=t:typeof fetch>"u"?e=Wo:e=fetch,(...s)=>e(...s)},Mh=()=>typeof Headers>"u"?qo:Headers,Oh=(t,e,s)=>{const n=Eh(s),i=Mh();return(o,a)=>Ah(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new i(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},a),{headers:d}))})};var Rh=function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(a){a(o)})}return new(s||(s=Promise))(function(o,a){function l(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?o(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};function Dh(t){return t.endsWith("/")?t:t+"/"}function Lh(t,e){var s,n;const{db:i,auth:o,realtime:a,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Rh(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const il="2.71.1",ut=30*1e3,Jr=3,xr=Jr*ut,Ih="http://localhost:9999",$h="supabase.auth.token",Uh={"X-Client-Info":`gotrue-js/${il}`},Xr="X-Supabase-Api-Version",al={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fh=10*60*1e3;class Cn extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function E(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Bh extends Cn{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function Wh(t){return E(t)&&t.name==="AuthApiError"}class ol extends Cn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ve extends Cn{constructor(e,s,n,i){super(e,n,i),this.name=s,this.status=n}}class Ee extends Ve{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qh(t){return E(t)&&t.name==="AuthSessionMissingError"}class gs extends Ve{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xs extends Ve{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ys extends Ve{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hh(t){return E(t)&&t.name==="AuthImplicitGrantRedirectError"}class Di extends Ve{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qr extends Ve{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function yr(t){return E(t)&&t.name==="AuthRetryableFetchError"}class Li extends Ve{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class en extends Ve{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ii=` 	
\r=`.split(""),zh=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ii.length;e+=1)t[Ii[e].charCodeAt(0)]=-2;for(let e=0;e<Ms.length;e+=1)t[Ms[e].charCodeAt(0)]=e;return t})();function $i(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(Ms[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(Ms[n]),e.queuedBits-=6}}function ll(t,e,s){const n=zh[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ui(t){const e=[],s=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{Yh(a,n,s)};for(let a=0;a<t.length;a+=1)ll(t.charCodeAt(a),i,o);return e.join("")}function Kh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Gh(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Kh(n,e)}}function Yh(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Zh(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)ll(t.charCodeAt(i),s,n);return new Uint8Array(e)}function Jh(t){const e=[];return Gh(t,s=>e.push(s)),new Uint8Array(e)}function Xh(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>$i(i,s,n)),$i(null,s,n),e.join("")}function Qh(t){return Math.round(Date.now()/1e3)+t}function em(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const me=()=>typeof window<"u"&&typeof document<"u",Be={tested:!1,writable:!1},cl=()=>{if(!me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Be.tested)return Be.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Be.tested=!0,Be.writable=!0}catch{Be.tested=!0,Be.writable=!1}return Be.writable};function tm(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return s.searchParams.forEach((n,i)=>{e[i]=n}),e}const dl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>is(async()=>{const{default:n}=await Promise.resolve().then(()=>Tt);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},sm=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ht=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},We=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ce=async(t,e)=>{await t.removeItem(e)};class tr{constructor(){this.promise=new tr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}tr.promiseConstructor=Promise;function br(t){const e=t.split(".");if(e.length!==3)throw new en("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Vh.test(e[n]))throw new en("JWT not in base64url format");return{header:JSON.parse(Ui(e[0])),payload:JSON.parse(Ui(e[1])),signature:Zh(e[2]),raw:{header:e[0],payload:e[1]}}}async function rm(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nm(t,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){n(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function im(t){return("0"+t.toString(16)).substr(-2)}function am(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let o=0;o<56;o++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,im).join("")}async function om(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function lm(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await om(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function it(t,e,s=!1){const n=am();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await ht(t,`${e}-code-verifier`,i);const o=await lm(n);return[o,n===o?"plain":"s256"]}const cm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dm(t){const e=t.headers.get(Xr);if(!e||!e.match(cm))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function um(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hm(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function at(t){if(!mm.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vr(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vi(t){return JSON.parse(JSON.stringify(t))}var fm=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};const He=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pm=[502,503,504];async function Fi(t){var e;if(!sm(t))throw new Qr(He(t),0);if(pm.includes(t.status))throw new Qr(He(t),t.status);let s;try{s=await t.json()}catch(o){throw new ol(He(o),o)}let n;const i=dm(t);if(i&&i.getTime()>=al["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Li(He(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ee}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Li(He(s),t.status,s.weak_password.reasons);throw new Bh(He(s),t.status||500,n)}const gm=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function O(t,e,s,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[Xr]||(o[Xr]=al["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await xm(t,e,s+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function xm(t,e,s,n,i,o){const a=gm(e,n,i,o);let l;try{l=await t(s,Object.assign({},a))}catch(c){throw console.error(c),new Qr(He(c),0)}if(l.ok||await Fi(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Fi(c)}}function je(t){var e;let s=null;wm(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Qh(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Bi(t){const e=je(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Oe(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ym(t){return{data:t,error:null}}function bm(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:o}=t,a=fm(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function vm(t){return t}function wm(t){return t.access_token&&t.refresh_token&&t.expires_in}const wr=["global","local","others"];var jm=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};class Nm{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=dl(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=wr[0]){if(wr.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wr.join(", ")}`);try{return await O(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(E(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await O(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Oe})}catch(n){if(E(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=jm(e,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bm,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(E(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await O(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Oe})}catch(s){if(E(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,i,o,a,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:vm});if(u.error)throw u.error;const h=await u.json(),m=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=p}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(E(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){at(e);try{return await O(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Oe})}catch(s){if(E(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){at(e);try{return await O(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Oe})}catch(n){if(E(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){at(e);try{return await O(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Oe})}catch(n){if(E(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){at(e.userId);try{const{data:s,error:n}=await O(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(E(s))return{data:null,error:s};throw s}}async _deleteFactor(e){at(e.userId),at(e.id);try{return{data:await O(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(E(s))return{data:null,error:s};throw s}}}function Wi(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function km(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ot={debug:!!(globalThis&&cl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ul extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _m extends ul{}async function Sm(t,e,s){ot.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ot.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ot.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{ot.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ot.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _m(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ot.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}km();const Tm={url:Ih,storageKey:$h,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Uh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qi(t,e,s){return await s()}const lt={};class Xt{constructor(e){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xt.nextInstanceID,Xt.nextInstanceID+=1,this.instanceID>0&&me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Tm),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Nm({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=dl(i.fetch),this.lock=i.lock||qi,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:me()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Sm:this.lock=qi,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:cl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wi(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Wi(this.memoryStorage)),me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=lt[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){lt[this.storageKey]=Object.assign(Object.assign({},lt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=lt[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){lt[this.storageKey]=Object.assign(Object.assign({},lt[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${il}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=tm(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),me()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(s,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Hh(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return E(s)?{error:s}:{error:new ol("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,i;try{const o=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:je}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(E(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var s,n,i;try{let o;if("email"in e){const{email:u,password:h,options:m}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await it(this.storage,this.storageKey)),o=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:g},xform:je})}else if("phone"in e){const{phone:u,password:h,options:m}=e;o=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:je})}else throw new xs("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(E(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let s;if("email"in e){const{email:o,password:a,options:l}=e;s=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bi})}else if("phone"in e){const{phone:o,password:a,options:l}=e;s=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bi})}else throw new xs("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(E(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,n,i,o,a,l,c,d,u,h,m,f;let g,p;if("message"in e)g=e.message,p=e.signature;else{const{chain:x,wallet:b,statement:w,options:v}=e;let j;if(me())if(typeof b=="object")j=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const N=new URL((s=v==null?void 0:v.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),w?{statement:w}:null));let T;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")T=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)T=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)g=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),p=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((d=v==null?void 0:v.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:x,error:b}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Xh(p)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:je});if(b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new gs}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:b})}catch(x){if(E(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const s=await We(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:o,error:a}=await O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:je});if(await Ce(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new gs}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(E(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:s,provider:n,token:i,access_token:o,nonce:a}=e,l=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:je}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new gs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(E(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,i,o,a;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await it(this.storage,this.storageKey));const{error:h}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new xs("You must provide either an email or phone number.")}catch(l){if(E(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var s,n;try{let i,o;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:je});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(E(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,n,i;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await it(this.storage,this.storageKey)),await O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:ym})}catch(o){if(E(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new Ee;const{error:i}=await O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(E(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:a}=await O(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:a,error:l}=await O(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new xs("You must provide either an email or phone number and a type")}catch(s){if(E(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await We(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<xr:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await We(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=vr()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Oe}):await this._useSession(async s=>{var n,i,o;const{data:a,error:l}=s;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ee}:await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Oe})})}catch(s){if(E(s))return qh(s)&&(await this._removeSession(),await Ce(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new Ee;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await it(this.storage,this.storageKey));const{data:d,error:u}=await O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Oe});if(u)throw u;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(E(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ee;const s=Date.now()/1e3;let n=s,i=!0,o=null;const{payload:a}=br(e.access_token);if(a.exp&&(n=a.exp,i=n<=s),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(s){if(E(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:a,error:l}=s;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ee;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(E(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!me())throw new ys("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ys(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Di("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ys("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Di("No code detected.");const{data:w,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:d}=e;if(!o||!l||!a||!d)throw new ys("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const f=m-u;f*1e3<=ut&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=m-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,u);const{data:p,error:x}=await this._getUser(o);if(x)throw x;const b={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:h,expires_at:m,refresh_token:a,token_type:d,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(E(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await We(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:o}=s;if(o)return{error:o};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(Wh(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ce(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=em(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,i;try{const{data:{session:o},error:a}=s;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await it(this.storage,this.storageKey,!0));try{return await O(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(E(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(E(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:i}=await this._useSession(async o=>{var a,l,c,d,u;const{data:h,error:m}=o;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await O(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return me()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(E(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,i;const{data:o,error:a}=s;if(a)throw a;return await O(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(E(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await nm(async i=>(i>0&&await rm(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:je})),(i,o)=>{const a=200*Math.pow(2,i);return o&&yr(o)&&Date.now()+a-n<ut})}catch(n){if(this._debug(s,"error",n),E(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),me()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await We(this.storage,this.storageKey);if(i&&this.userStorage){let a=await We(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ht(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:vr()}else if(i&&!i.user&&!i.user){const a=await We(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Ce(this.storage,this.storageKey+"-user"),await ht(this.storage,this.storageKey,i)):i.user=vr()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<xr;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${xr}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),yr(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new Ee;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new tr;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new Ee;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(i,"error",o),E(o)){const a={session:null,error:o};return yr(o)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,s)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await ht(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const o=Vi(i);await ht(this.storage,this.storageKey,o)}else{const i=Vi(s);await ht(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ce(this.storage,this.storageKey),await Ce(this.storage,this.storageKey+"-code-verifier"),await Ce(this.storage,this.storageKey+"-user"),this.userStorage&&await Ce(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ut);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ut);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ut}ms, refresh threshold is ${Jr} ticks`),i<=Jr&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ul)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await it(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;return o?{data:null,error:o}:await O(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(E(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,i;const{data:o,error:a}=s;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await O(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(E(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const{data:a,error:l}=await O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(s){if(E(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;return o?{data:null,error:o}:await O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(E(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=br(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Fh>i)return n;const{data:o,error:a}=await O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,s={}){try{let n=e;if(!n){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};n=f.session.access_token}const{header:i,payload:o,signature:a,raw:{header:l,payload:c}}=br(n);s!=null&&s.allowExpired||um(o.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!d){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:o,header:i,signature:a},error:null}}const u=hm(i.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,a,Jh(`${l}.${c}`)))throw new en("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(n){if(E(n))return{data:null,error:n};throw n}}}Xt.nextInstanceID=0;const Pm=Xt;class Cm extends Pm{constructor(e){super(e)}}var Am=function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(a){a(o)})}return new(s||(s=Promise))(function(o,a){function l(u){try{d(n.next(u))}catch(h){a(h)}}function c(u){try{d(n.throw(u))}catch(h){a(h)}}function d(u){u.done?o(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Em{constructor(e,s,n){var i,o,a;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=Dh(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:Th,realtime:Ch,auth:Object.assign(Object.assign({},Ph),{storageKey:d}),global:Sh},h=Lh(n??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=Oh(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Ku(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Nh(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Nu(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Am(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,storageKey:o,flowType:a,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cm({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,flowType:a,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new dh(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ct=(t,e,s)=>new Em(t,e,s);function Mm(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Mm()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let jr;function Om(t){return jr||(jr=new dd({...t,_sdkVersion:`react-wagmi-${ud.VERSION}`})),jr}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_=(t,e)=>{const s=y.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:c,...d},u)=>y.createElement("svg",{ref:u,...Rm,width:i,height:i,stroke:n,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Dm(t)}`,l].join(" "),...d},[...e.map(([h,m])=>y.createElement(h,m)),...Array.isArray(c)?c:[c]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=_("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=_("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=_("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=_("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=_("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=_("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=_("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=_("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=_("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=_("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=_("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=_("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=_("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=_("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=_("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=_("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=_("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=_("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=_("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=_("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=_("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=_("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=_("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=_("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=_("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=_("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=_("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=_("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=_("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=_("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=_("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=_("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=_("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=_("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=_("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=_("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=_("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=_("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=_("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=_("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=_("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=_("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=_("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=_("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=_("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=_("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=_("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=_("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=_("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=_("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=_("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=_("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=_("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=_("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=_("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=_("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=_("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=_("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=_("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=_("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=_("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=_("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),vl=y.createContext({});function ef(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dn=y.createContext(null),wl=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tf(t=!0){const e=y.useContext(Dn);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=e,o=y.useId();y.useEffect(()=>{t&&i(o)},[t]);const a=y.useCallback(()=>t&&n&&n(o),[o,n,t]);return!s&&n?[!1,a]:[!0]}const Ln=typeof window<"u",sf=Ln?y.useLayoutEffect:y.useEffect,ne=t=>t;let jl=ne;function In(t){let e;return()=>(e===void 0&&(e=t()),e)}const jt=(t,e,s)=>{const n=e-t;return n===0?1:(s-t)/n},_e=t=>t*1e3,Se=t=>t/1e3,rf={useManualTiming:!1};function nf(t){let e=new Set,s=new Set,n=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),t()),d(a)}const c={schedule:(d,u=!1,h=!1)=>{const f=h&&n?e:s;return u&&o.add(d),f.has(d)||f.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(a=d,n){i=!0;return}n=!0,[e,s]=[s,e],e.forEach(l),e.clear(),n=!1,i&&(i=!1,c.process(d))}};return c}const bs=["read","resolveKeyframes","update","preRender","render","postRender"],af=40;function Nl(t,e){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,a=bs.reduce((b,w)=>(b[w]=nf(o),b),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:m}=a,f=()=>{const b=performance.now();s=!1,i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,af),1),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),i.isProcessing=!1,s&&e&&(n=!1,t(f))},g=()=>{s=!0,n=!0,i.isProcessing||t(f)};return{schedule:bs.reduce((b,w)=>{const v=a[w];return b[w]=(j,N=!1,S=!1)=>(s||g(),v.schedule(j,N,S)),b},{}),cancel:b=>{for(let w=0;w<bs.length;w++)a[bs[w]].cancel(b)},state:i,steps:a}}const{schedule:U,cancel:Ie,state:Z,steps:kr}=Nl(typeof requestAnimationFrame<"u"?requestAnimationFrame:ne,!0),kl=y.createContext({strict:!1}),Yi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nt={};for(const t in Yi)Nt[t]={isEnabled:e=>Yi[t].some(s=>!!e[s])};function of(t){for(const e in t)Nt[e]={...Nt[e],...t[e]}}const lf=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Us(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lf.has(t)}let _l=t=>!Us(t);function cf(t){t&&(_l=e=>e.startsWith("on")?!Us(e):t(e))}try{cf(require("@emotion/is-prop-valid").default)}catch{}function df(t,e,s){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(_l(i)||s===!0&&Us(i)||!e&&!Us(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function uf(t){if(typeof Proxy>"u")return t;const e=new Map,s=(...n)=>t(...n);return new Proxy(s,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const or=y.createContext({});function Qt(t){return typeof t=="string"||Array.isArray(t)}function lr(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const $n=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Un=["initial",...$n];function cr(t){return lr(t.animate)||Un.some(e=>Qt(t[e]))}function Sl(t){return!!(cr(t)||t.variants)}function hf(t,e){if(cr(t)){const{initial:s,animate:n}=t;return{initial:s===!1||Qt(s)?s:void 0,animate:Qt(n)?n:void 0}}return t.inherit!==!1?e:{}}function mf(t){const{initial:e,animate:s}=hf(t,y.useContext(or));return y.useMemo(()=>({initial:e,animate:s}),[Zi(e),Zi(s)])}function Zi(t){return Array.isArray(t)?t.join(" "):t}const ff=Symbol.for("motionComponentSymbol");function mt(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pf(t,e,s){return y.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),s&&(typeof s=="function"?s(n):mt(s)&&(s.current=n))},[e])}const Vn=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gf="framerAppearId",Tl="data-"+Vn(gf),{schedule:Fn}=Nl(queueMicrotask,!1),Pl=y.createContext({});function xf(t,e,s,n,i){var o,a;const{visualElement:l}=y.useContext(or),c=y.useContext(kl),d=y.useContext(Dn),u=y.useContext(wl).reducedMotion,h=y.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,f=y.useContext(Pl);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&yf(h.current,s,i,f);const g=y.useRef(!1);y.useInsertionEffect(()=>{m&&g.current&&m.update(s,d)});const p=s[Tl],x=y.useRef(!!p&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,p))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,p)));return sf(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Fn.render(m.render),x.current&&m.animationState&&m.animationState.animateChanges())}),y.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,p)}),x.current=!1))}),m}function yf(t,e,s,n){const{layoutId:i,layout:o,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:d}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Cl(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||l&&mt(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:d})}function Cl(t){if(t)return t.options.allowProjection!==!1?t.projection:Cl(t.parent)}function bf({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:n,Component:i}){var o,a;t&&of(t);function l(d,u){let h;const m={...y.useContext(wl),...d,layoutId:vf(d)},{isStatic:f}=m,g=mf(d),p=n(d,f);if(!f&&Ln){wf();const x=jf(m);h=x.MeasureLayout,g.visualElement=xf(i,p,m,e,x.ProjectionNode)}return r.jsxs(or.Provider,{value:g,children:[h&&g.visualElement?r.jsx(h,{visualElement:g.visualElement,...m}):null,s(i,d,pf(p,g.visualElement,u),p,f,g.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(a=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&a!==void 0?a:""})`}`;const c=y.forwardRef(l);return c[ff]=i,c}function vf({layoutId:t}){const e=y.useContext(vl).id;return e&&t!==void 0?e+"-"+t:t}function wf(t,e){y.useContext(kl).strict}function jf(t){const{drag:e,layout:s}=Nt;if(!e&&!s)return{};const n={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Nf=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bn(t){return typeof t!="string"||t.includes("-")?!1:!!(Nf.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ji(t){const e=[{},{}];return t==null||t.values.forEach((s,n)=>{e[0][n]=s.get(),e[1][n]=s.getVelocity()}),e}function Wn(t,e,s,n){if(typeof e=="function"){const[i,o]=Ji(n);e=e(s!==void 0?s:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=Ji(n);e=e(s!==void 0?s:t.custom,i,o)}return e}const nn=t=>Array.isArray(t),kf=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),_f=t=>nn(t)?t[t.length-1]||0:t,X=t=>!!(t&&t.getVelocity);function _s(t){const e=X(t)?t.get():t;return kf(e)?e.toValue():e}function Sf({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:s},n,i,o){const a={latestValues:Tf(n,i,o,t),renderState:e()};return s&&(a.onMount=l=>s({props:n,current:l,...a}),a.onUpdate=l=>s(l)),a}const Al=t=>(e,s)=>{const n=y.useContext(or),i=y.useContext(Dn),o=()=>Sf(t,e,n,i);return s?o():ef(o)};function Tf(t,e,s,n){const i={},o=n(t,{});for(const m in o)i[m]=_s(o[m]);let{initial:a,animate:l}=t;const c=cr(t),d=Sl(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let u=s?s.initial===!1:!1;u=u||a===!1;const h=u?l:a;if(h&&typeof h!="boolean"&&!lr(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const g=Wn(t,m[f]);if(g){const{transitionEnd:p,transition:x,...b}=g;for(const w in b){let v=b[w];if(Array.isArray(v)){const j=u?v.length-1:0;v=v[j]}v!==null&&(i[w]=v)}for(const w in p)i[w]=p[w]}}}return i}const Et=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rt=new Set(Et),El=t=>e=>typeof e=="string"&&e.startsWith(t),Ml=El("--"),Pf=El("var(--"),qn=t=>Pf(t)?Cf.test(t.split("/*")[0].trim()):!1,Cf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ol=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Te=(t,e,s)=>s>e?e:s<t?t:s,Mt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},es={...Mt,transform:t=>Te(0,1,t)},vs={...Mt,default:1},ds=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Me=ds("deg"),ve=ds("%"),P=ds("px"),Af=ds("vh"),Ef=ds("vw"),Xi={...ve,parse:t=>ve.parse(t)/100,transform:t=>ve.transform(t*100)},Mf={borderWidth:P,borderTopWidth:P,borderRightWidth:P,borderBottomWidth:P,borderLeftWidth:P,borderRadius:P,radius:P,borderTopLeftRadius:P,borderTopRightRadius:P,borderBottomRightRadius:P,borderBottomLeftRadius:P,width:P,maxWidth:P,height:P,maxHeight:P,top:P,right:P,bottom:P,left:P,padding:P,paddingTop:P,paddingRight:P,paddingBottom:P,paddingLeft:P,margin:P,marginTop:P,marginRight:P,marginBottom:P,marginLeft:P,backgroundPositionX:P,backgroundPositionY:P},Of={rotate:Me,rotateX:Me,rotateY:Me,rotateZ:Me,scale:vs,scaleX:vs,scaleY:vs,scaleZ:vs,skew:Me,skewX:Me,skewY:Me,distance:P,translateX:P,translateY:P,translateZ:P,x:P,y:P,z:P,perspective:P,transformPerspective:P,opacity:es,originX:Xi,originY:Xi,originZ:P},Qi={...Mt,transform:Math.round},Hn={...Mf,...Of,zIndex:Qi,size:P,fillOpacity:es,strokeOpacity:es,numOctaves:Qi},Rf={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Df=Et.length;function Lf(t,e,s){let n="",i=!0;for(let o=0;o<Df;o++){const a=Et[o],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=Ol(l,Hn[a]);if(!c){i=!1;const u=Rf[a]||a;n+=`${u}(${d}) `}s&&(e[a]=d)}}return n=n.trim(),s?n=s(e,i?"":n):i&&(n="none"),n}function zn(t,e,s){const{style:n,vars:i,transformOrigin:o}=t;let a=!1,l=!1;for(const c in e){const d=e[c];if(rt.has(c)){a=!0;continue}else if(Ml(c)){i[c]=d;continue}else{const u=Ol(d,Hn[c]);c.startsWith("origin")?(l=!0,o[c]=u):n[c]=u}}if(e.transform||(a||s?n.transform=Lf(e,t.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=o;n.transformOrigin=`${c} ${d} ${u}`}}const If={offset:"stroke-dashoffset",array:"stroke-dasharray"},$f={offset:"strokeDashoffset",array:"strokeDasharray"};function Uf(t,e,s=1,n=0,i=!0){t.pathLength=1;const o=i?If:$f;t[o.offset]=P.transform(-n);const a=P.transform(e),l=P.transform(s);t[o.array]=`${a} ${l}`}function ea(t,e,s){return typeof t=="string"?t:P.transform(e+s*t)}function Vf(t,e,s){const n=ea(e,t.x,t.width),i=ea(s,t.y,t.height);return`${n} ${i}`}function Kn(t,{attrX:e,attrY:s,attrScale:n,originX:i,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(zn(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:f,dimensions:g}=t;m.transform&&(g&&(f.transform=m.transform),delete m.transform),g&&(i!==void 0||o!==void 0||f.transform)&&(f.transformOrigin=Vf(g,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),s!==void 0&&(m.y=s),n!==void 0&&(m.scale=n),a!==void 0&&Uf(m,a,l,c,!1)}const Gn=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Rl=()=>({...Gn(),attrs:{}}),Yn=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Dl(t,{style:e,vars:s},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const o in s)t.style.setProperty(o,s[o])}const Ll=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Il(t,e,s,n){Dl(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(Ll.has(i)?i:Vn(i),e.attrs[i])}const Vs={};function Ff(t){Object.assign(Vs,t)}function $l(t,{layout:e,layoutId:s}){return rt.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Vs[t]||t==="opacity")}function Zn(t,e,s){var n;const{style:i}=t,o={};for(const a in i)(X(i[a])||e.style&&X(e.style[a])||$l(a,t)||((n=s==null?void 0:s.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(o[a]=i[a]);return o}function Ul(t,e,s){const n=Zn(t,e,s);for(const i in t)if(X(t[i])||X(e[i])){const o=Et.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[o]=t[i]}return n}function Bf(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const ta=["x","y","width","height","cx","cy","r"],Wf={useVisualState:Al({scrapeMotionValuesFromProps:Ul,createRenderState:Rl,onUpdate:({props:t,prevProps:e,current:s,renderState:n,latestValues:i})=>{if(!s)return;let o=!!t.drag;if(!o){for(const l in i)if(rt.has(l)){o=!0;break}}if(!o)return;let a=!e;if(e)for(let l=0;l<ta.length;l++){const c=ta[l];t[c]!==e[c]&&(a=!0)}a&&U.read(()=>{Bf(s,n),U.render(()=>{Kn(n,i,Yn(s.tagName),t.transformTemplate),Il(s,n)})})}})},qf={useVisualState:Al({scrapeMotionValuesFromProps:Zn,createRenderState:Gn})};function Vl(t,e,s){for(const n in e)!X(e[n])&&!$l(n,s)&&(t[n]=e[n])}function Hf({transformTemplate:t},e){return y.useMemo(()=>{const s=Gn();return zn(s,e,t),Object.assign({},s.vars,s.style)},[e])}function zf(t,e){const s=t.style||{},n={};return Vl(n,s,t),Object.assign(n,Hf(t,e)),n}function Kf(t,e){const s={},n=zf(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=n,s}function Gf(t,e,s,n){const i=y.useMemo(()=>{const o=Rl();return Kn(o,e,Yn(n),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Vl(o,t.style,t),i.style={...o,...i.style}}return i}function Yf(t=!1){return(s,n,i,{latestValues:o},a)=>{const c=(Bn(s)?Gf:Kf)(n,o,a,s),d=df(n,typeof s=="string",t),u=s!==y.Fragment?{...d,...c,ref:i}:{},{children:h}=n,m=y.useMemo(()=>X(h)?h.get():h,[h]);return y.createElement(s,{...u,children:m})}}function Zf(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...Bn(n)?Wf:qf,preloadedFeatures:t,useRender:Yf(i),createVisualElement:e,Component:n};return bf(a)}}function Fl(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(e[n]!==t[n])return!1;return!0}function dr(t,e,s){const n=t.getProps();return Wn(n,e,s!==void 0?s:n.custom,t)}const Jf=In(()=>window.ScrollTimeline!==void 0);class Xf{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,s){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=s}attachTimeline(e,s){const n=this.animations.map(i=>{if(Jf()&&i.attachTimeline)return i.attachTimeline(e);if(typeof s=="function")return s(i)});return()=>{n.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Qf extends Xf{then(e,s){return Promise.all(this.animations).then(e).catch(s)}}function Jn(t,e){return t?t[e]||t.default||t:void 0}const an=2e4;function Bl(t){let e=0;const s=50;let n=t.next(e);for(;!n.done&&e<an;)e+=s,n=t.next(e);return e>=an?1/0:e}function Xn(t){return typeof t=="function"}function sa(t,e){t.timeline=e,t.onfinish=null}const Qn=t=>Array.isArray(t)&&typeof t[0]=="number",ep={linearEasing:void 0};function tp(t,e){const s=In(t);return()=>{var n;return(n=ep[e])!==null&&n!==void 0?n:s()}}const Fs=tp(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wl=(t,e,s=10)=>{let n="";const i=Math.max(Math.round(e/s),2);for(let o=0;o<i;o++)n+=t(jt(0,i-1,o))+", ";return`linear(${n.substring(0,n.length-2)})`};function ql(t){return!!(typeof t=="function"&&Fs()||!t||typeof t=="string"&&(t in on||Fs())||Qn(t)||Array.isArray(t)&&t.every(ql))}const Vt=([t,e,s,n])=>`cubic-bezier(${t}, ${e}, ${s}, ${n})`,on={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vt([0,.65,.55,1]),circOut:Vt([.55,0,1,.45]),backIn:Vt([.31,.01,.66,-.59]),backOut:Vt([.33,1.53,.69,.99])};function Hl(t,e){if(t)return typeof t=="function"&&Fs()?Wl(t,e):Qn(t)?Vt(t):Array.isArray(t)?t.map(s=>Hl(s,e)||on.easeOut):on[t]}const pe={x:!1,y:!1};function zl(){return pe.x||pe.y}function sp(t,e,s){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function Kl(t,e){const s=sp(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[s,i,()=>n.abort()]}function ra(t){return e=>{e.pointerType==="touch"||zl()||t(e)}}function rp(t,e,s={}){const[n,i,o]=Kl(t,s),a=ra(l=>{const{target:c}=l,d=e(l);if(typeof d!="function"||!c)return;const u=ra(h=>{d(h),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,i)});return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),o}const Gl=(t,e)=>e?t===e?!0:Gl(t,e.parentElement):!1,ei=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,np=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ip(t){return np.has(t.tagName)||t.tabIndex!==-1}const Ft=new WeakSet;function na(t){return e=>{e.key==="Enter"&&t(e)}}function _r(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ap=(t,e)=>{const s=t.currentTarget;if(!s)return;const n=na(()=>{if(Ft.has(s))return;_r(s,"down");const i=na(()=>{_r(s,"up")}),o=()=>_r(s,"cancel");s.addEventListener("keyup",i,e),s.addEventListener("blur",o,e)});s.addEventListener("keydown",n,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),e)};function ia(t){return ei(t)&&!zl()}function op(t,e,s={}){const[n,i,o]=Kl(t,s),a=l=>{const c=l.currentTarget;if(!ia(l)||Ft.has(c))return;Ft.add(c);const d=e(l),u=(f,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!ia(f)||!Ft.has(c))&&(Ft.delete(c),typeof d=="function"&&d(f,{success:g}))},h=f=>{u(f,s.useGlobalTarget||Gl(c,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return n.forEach(l=>{!ip(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(s.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),l.addEventListener("focus",d=>ap(d,i),i)}),o}function lp(t){return t==="x"||t==="y"?pe[t]?null:(pe[t]=!0,()=>{pe[t]=!1}):pe.x||pe.y?null:(pe.x=pe.y=!0,()=>{pe.x=pe.y=!1})}const Yl=new Set(["width","height","top","left","right","bottom",...Et]);let Ss;function cp(){Ss=void 0}const we={now:()=>(Ss===void 0&&we.set(Z.isProcessing||rf.useManualTiming?Z.timestamp:performance.now()),Ss),set:t=>{Ss=t,queueMicrotask(cp)}};function ti(t,e){t.indexOf(e)===-1&&t.push(e)}function si(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class ri{constructor(){this.subscriptions=[]}add(e){return ti(this.subscriptions,e),()=>si(this.subscriptions,e)}notify(e,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,n);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Zl(t,e){return e?t*(1e3/e):0}const aa=30,dp=t=>!isNaN(parseFloat(t));class up{constructor(e,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const o=we.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=we.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dp(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new ri);const n=this.events[e].add(s);return e==="change"?()=>{n(),U.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=we.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>aa)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,aa);return Zl(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ts(t,e){return new up(t,e)}function hp(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,ts(s))}function mp(t,e){const s=dr(t,e);let{transitionEnd:n={},transition:i={},...o}=s||{};o={...o,...n};for(const a in o){const l=_f(o[a]);hp(t,a,l)}}function fp(t){return!!(X(t)&&t.add)}function ln(t,e){const s=t.getValue("willChange");if(fp(s))return s.add(e)}function Jl(t){return t.props[Tl]}const Xl=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,pp=1e-7,gp=12;function xp(t,e,s,n,i){let o,a,l=0;do a=e+(s-e)/2,o=Xl(a,n,i)-t,o>0?s=a:e=a;while(Math.abs(o)>pp&&++l<gp);return a}function us(t,e,s,n){if(t===e&&s===n)return ne;const i=o=>xp(o,0,1,t,s);return o=>o===0||o===1?o:Xl(i(o),e,n)}const Ql=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ec=t=>e=>1-t(1-e),tc=us(.33,1.53,.69,.99),ni=ec(tc),sc=Ql(ni),rc=t=>(t*=2)<1?.5*ni(t):.5*(2-Math.pow(2,-10*(t-1))),ii=t=>1-Math.sin(Math.acos(t)),nc=ec(ii),ic=Ql(ii),ac=t=>/^0[^.\s]+$/u.test(t);function yp(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ac(t):!0}const zt=t=>Math.round(t*1e5)/1e5,ai=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bp(t){return t==null}const vp=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oi=(t,e)=>s=>!!(typeof s=="string"&&vp.test(s)&&s.startsWith(t)||e&&!bp(s)&&Object.prototype.hasOwnProperty.call(s,e)),oc=(t,e,s)=>n=>{if(typeof n!="string")return n;const[i,o,a,l]=n.match(ai);return{[t]:parseFloat(i),[e]:parseFloat(o),[s]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},wp=t=>Te(0,255,t),Sr={...Mt,transform:t=>Math.round(wp(t))},Ze={test:oi("rgb","red"),parse:oc("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:n=1})=>"rgba("+Sr.transform(t)+", "+Sr.transform(e)+", "+Sr.transform(s)+", "+zt(es.transform(n))+")"};function jp(t){let e="",s="",n="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const cn={test:oi("#"),parse:jp,transform:Ze.transform},ft={test:oi("hsl","hue"),parse:oc("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:n=1})=>"hsla("+Math.round(t)+", "+ve.transform(zt(e))+", "+ve.transform(zt(s))+", "+zt(es.transform(n))+")"},J={test:t=>Ze.test(t)||cn.test(t)||ft.test(t),parse:t=>Ze.test(t)?Ze.parse(t):ft.test(t)?ft.parse(t):cn.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ze.transform(t):ft.transform(t)},Np=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kp(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ai))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(Np))===null||s===void 0?void 0:s.length)||0)>0}const lc="number",cc="color",_p="var",Sp="var(",oa="${}",Tp=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ss(t){const e=t.toString(),s=[],n={color:[],number:[],var:[]},i=[];let o=0;const l=e.replace(Tp,c=>(J.test(c)?(n.color.push(o),i.push(cc),s.push(J.parse(c))):c.startsWith(Sp)?(n.var.push(o),i.push(_p),s.push(c)):(n.number.push(o),i.push(lc),s.push(parseFloat(c))),++o,oa)).split(oa);return{values:s,split:l,indexes:n,types:i}}function dc(t){return ss(t).values}function uc(t){const{split:e,types:s}=ss(t),n=e.length;return i=>{let o="";for(let a=0;a<n;a++)if(o+=e[a],i[a]!==void 0){const l=s[a];l===lc?o+=zt(i[a]):l===cc?o+=J.transform(i[a]):o+=i[a]}return o}}const Pp=t=>typeof t=="number"?0:t;function Cp(t){const e=dc(t);return uc(t)(e.map(Pp))}const $e={test:kp,parse:dc,createTransformer:uc,getAnimatableNone:Cp},Ap=new Set(["brightness","contrast","saturate","opacity"]);function Ep(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=s.match(ai)||[];if(!n)return t;const i=s.replace(n,"");let o=Ap.has(e)?1:0;return n!==s&&(o*=100),e+"("+o+i+")"}const Mp=/\b([a-z-]*)\(.*?\)/gu,dn={...$e,getAnimatableNone:t=>{const e=t.match(Mp);return e?e.map(Ep).join(" "):t}},Op={...Hn,color:J,backgroundColor:J,outlineColor:J,fill:J,stroke:J,borderColor:J,borderTopColor:J,borderRightColor:J,borderBottomColor:J,borderLeftColor:J,filter:dn,WebkitFilter:dn},li=t=>Op[t];function hc(t,e){let s=li(t);return s!==dn&&(s=$e),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const Rp=new Set(["auto","none","0"]);function Dp(t,e,s){let n=0,i;for(;n<t.length&&!i;){const o=t[n];typeof o=="string"&&!Rp.has(o)&&ss(o).values.length&&(i=t[n]),n++}if(i&&s)for(const o of e)t[o]=hc(s,i)}const la=t=>t===Mt||t===P,ca=(t,e)=>parseFloat(t.split(", ")[e]),da=(t,e)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return ca(i[1],e);{const o=n.match(/^matrix\((.+)\)$/u);return o?ca(o[1],t):0}},Lp=new Set(["x","y","z"]),Ip=Et.filter(t=>!Lp.has(t));function $p(t){const e=[];return Ip.forEach(s=>{const n=t.getValue(s);n!==void 0&&(e.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),e}const kt={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:da(4,13),y:da(5,14)};kt.translateX=kt.x;kt.translateY=kt.y;const Xe=new Set;let un=!1,hn=!1;function mc(){if(hn){const t=Array.from(Xe).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),s=new Map;e.forEach(n=>{const i=$p(n);i.length&&(s.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([o,a])=>{var l;(l=n.getValue(o))===null||l===void 0||l.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}hn=!1,un=!1,Xe.forEach(t=>t.complete()),Xe.clear()}function fc(){Xe.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hn=!0)})}function Up(){fc(),mc()}class ci{constructor(e,s,n,i,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=n,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xe.add(this),un||(un=!0,U.read(fc),U.resolveKeyframes(mc))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:n,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&s){const c=n.readValue(s,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xe.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xe.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pc=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Vp=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Fp(t){const e=Vp.exec(t);if(!e)return[,];const[,s,n,i]=e;return[`--${s??n}`,i]}function gc(t,e,s=1){const[n,i]=Fp(t);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const a=o.trim();return pc(a)?parseFloat(a):a}return qn(i)?gc(i,e,s+1):i}const xc=t=>e=>e.test(t),Bp={test:t=>t==="auto",parse:t=>t},yc=[Mt,P,ve,Me,Ef,Af,Bp],ua=t=>yc.find(xc(t));class bc extends ci{constructor(e,s,n,i,o){super(e,s,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),qn(d))){const u=gc(d,s.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Yl.has(n)||e.length!==2)return;const[i,o]=e,a=ua(i),l=ua(o);if(a!==l)if(la(a)&&la(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,n=[];for(let i=0;i<e.length;i++)yp(e[i])&&n.push(i);n.length&&Dp(e,n,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:s,name:n,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const o=s.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=kt[n](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const ha=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($e.test(t)||t==="0")&&!t.startsWith("url("));function Wp(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function qp(t,e,s,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=ha(i,e),l=ha(o,e);return!a||!l?!1:Wp(t)||(s==="spring"||Xn(s))&&n}const Hp=t=>t!==null;function ur(t,{repeat:e,repeatType:s="loop"},n){const i=t.filter(Hp),o=e&&s!=="loop"&&e%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const zp=40;class vc{constructor({autoplay:e=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=we.now(),this.options={autoplay:e,delay:s,type:n,repeat:i,repeatDelay:o,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>zp?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Up(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=we.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:o,delay:a,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!qp(e,n,i,o))if(a)this.options.duration=0;else{c&&c(ur(e,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,s);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const B=(t,e,s)=>t+(e-t)*s;function Tr(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function Kp({hue:t,saturation:e,lightness:s,alpha:n}){t/=360,e/=100,s/=100;let i=0,o=0,a=0;if(!e)i=o=a=s;else{const l=s<.5?s*(1+e):s+e-s*e,c=2*s-l;i=Tr(c,l,t+1/3),o=Tr(c,l,t),a=Tr(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:n}}function Bs(t,e){return s=>s>0?e:t}const Pr=(t,e,s)=>{const n=t*t,i=s*(e*e-n)+n;return i<0?0:Math.sqrt(i)},Gp=[cn,Ze,ft],Yp=t=>Gp.find(e=>e.test(t));function ma(t){const e=Yp(t);if(!e)return!1;let s=e.parse(t);return e===ft&&(s=Kp(s)),s}const fa=(t,e)=>{const s=ma(t),n=ma(e);if(!s||!n)return Bs(t,e);const i={...s};return o=>(i.red=Pr(s.red,n.red,o),i.green=Pr(s.green,n.green,o),i.blue=Pr(s.blue,n.blue,o),i.alpha=B(s.alpha,n.alpha,o),Ze.transform(i))},Zp=(t,e)=>s=>e(t(s)),hs=(...t)=>t.reduce(Zp),mn=new Set(["none","hidden"]);function Jp(t,e){return mn.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function Xp(t,e){return s=>B(t,e,s)}function di(t){return typeof t=="number"?Xp:typeof t=="string"?qn(t)?Bs:J.test(t)?fa:tg:Array.isArray(t)?wc:typeof t=="object"?J.test(t)?fa:Qp:Bs}function wc(t,e){const s=[...t],n=s.length,i=t.map((o,a)=>di(o)(o,e[a]));return o=>{for(let a=0;a<n;a++)s[a]=i[a](o);return s}}function Qp(t,e){const s={...t,...e},n={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(n[i]=di(t[i])(t[i],e[i]));return i=>{for(const o in n)s[o]=n[o](i);return s}}function eg(t,e){var s;const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],l=t.indexes[a][i[a]],c=(s=t.values[l])!==null&&s!==void 0?s:0;n[o]=c,i[a]++}return n}const tg=(t,e)=>{const s=$e.createTransformer(e),n=ss(t),i=ss(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?mn.has(t)&&!i.values.length||mn.has(e)&&!n.values.length?Jp(t,e):hs(wc(eg(n,i),i.values),s):Bs(t,e)};function jc(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?B(t,e,s):di(t)(t,e)}const sg=5;function Nc(t,e,s){const n=Math.max(e-sg,0);return Zl(s-t(n),e-n)}const q={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cr=.001;function rg({duration:t=q.duration,bounce:e=q.bounce,velocity:s=q.velocity,mass:n=q.mass}){let i,o,a=1-e;a=Te(q.minDamping,q.maxDamping,a),t=Te(q.minDuration,q.maxDuration,Se(t)),a<1?(i=d=>{const u=d*a,h=u*t,m=u-s,f=fn(d,a),g=Math.exp(-h);return Cr-m/f*g},o=d=>{const h=d*a*t,m=h*s+s,f=Math.pow(a,2)*Math.pow(d,2)*t,g=Math.exp(-h),p=fn(Math.pow(d,2),a);return(-i(d)+Cr>0?-1:1)*((m-f)*g)/p}):(i=d=>{const u=Math.exp(-d*t),h=(d-s)*t+1;return-Cr+u*h},o=d=>{const u=Math.exp(-d*t),h=(s-d)*(t*t);return u*h});const l=5/t,c=ig(i,o,l);if(t=_e(t),isNaN(c))return{stiffness:q.stiffness,damping:q.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:a*2*Math.sqrt(n*d),duration:t}}}const ng=12;function ig(t,e,s){let n=s;for(let i=1;i<ng;i++)n=n-t(n)/e(n);return n}function fn(t,e){return t*Math.sqrt(1-e*e)}const ag=["duration","bounce"],og=["stiffness","damping","mass"];function pa(t,e){return e.some(s=>t[s]!==void 0)}function lg(t){let e={velocity:q.velocity,stiffness:q.stiffness,damping:q.damping,mass:q.mass,isResolvedFromDuration:!1,...t};if(!pa(t,og)&&pa(t,ag))if(t.visualDuration){const s=t.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,o=2*Te(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:q.mass,stiffness:i,damping:o}}else{const s=rg(t);e={...e,...s,mass:q.mass},e.isResolvedFromDuration=!0}return e}function kc(t=q.visualDuration,e=q.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=s;const o=s.keyframes[0],a=s.keyframes[s.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=lg({...s,velocity:-Se(s.velocity||0)}),g=m||0,p=d/(2*Math.sqrt(c*u)),x=a-o,b=Se(Math.sqrt(c/u)),w=Math.abs(x)<5;n||(n=w?q.restSpeed.granular:q.restSpeed.default),i||(i=w?q.restDelta.granular:q.restDelta.default);let v;if(p<1){const N=fn(b,p);v=S=>{const T=Math.exp(-p*b*S);return a-T*((g+p*b*x)/N*Math.sin(N*S)+x*Math.cos(N*S))}}else if(p===1)v=N=>a-Math.exp(-b*N)*(x+(g+b*x)*N);else{const N=b*Math.sqrt(p*p-1);v=S=>{const T=Math.exp(-p*b*S),C=Math.min(N*S,300);return a-T*((g+p*b*x)*Math.sinh(C)+N*x*Math.cosh(C))/N}}const j={calculatedDuration:f&&h||null,next:N=>{const S=v(N);if(f)l.done=N>=h;else{let T=0;p<1&&(T=N===0?_e(g):Nc(v,N,S));const C=Math.abs(T)<=n,M=Math.abs(a-S)<=i;l.done=C&&M}return l.value=l.done?a:S,l},toString:()=>{const N=Math.min(Bl(j),an),S=Wl(T=>j.next(N*T).value,N,30);return N+"ms "+S}};return j}function ga({keyframes:t,velocity:e=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],m={done:!1,value:h},f=C=>l!==void 0&&C<l||c!==void 0&&C>c,g=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let p=s*e;const x=h+p,b=a===void 0?x:a(x);b!==x&&(p=b-h);const w=C=>-p*Math.exp(-C/n),v=C=>b+w(C),j=C=>{const M=w(C),R=v(C);m.done=Math.abs(M)<=d,m.value=m.done?b:R};let N,S;const T=C=>{f(m.value)&&(N=C,S=kc({keyframes:[m.value,g(m.value)],velocity:Nc(v,C,m.value),damping:i,stiffness:o,restDelta:d,restSpeed:u}))};return T(0),{calculatedDuration:null,next:C=>{let M=!1;return!S&&N===void 0&&(M=!0,j(C),T(C)),N!==void 0&&C>=N?S.next(C-N):(!M&&j(C),m)}}}const cg=us(.42,0,1,1),dg=us(0,0,.58,1),_c=us(.42,0,.58,1),ug=t=>Array.isArray(t)&&typeof t[0]!="number",hg={linear:ne,easeIn:cg,easeInOut:_c,easeOut:dg,circIn:ii,circInOut:ic,circOut:nc,backIn:ni,backInOut:sc,backOut:tc,anticipate:rc},xa=t=>{if(Qn(t)){jl(t.length===4);const[e,s,n,i]=t;return us(e,s,n,i)}else if(typeof t=="string")return hg[t];return t};function mg(t,e,s){const n=[],i=s||jc,o=t.length-1;for(let a=0;a<o;a++){let l=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||ne:e;l=hs(c,l)}n.push(l)}return n}function fg(t,e,{clamp:s=!0,ease:n,mixer:i}={}){const o=t.length;if(jl(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=mg(e,n,i),c=l.length,d=u=>{if(a&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const m=jt(t[h],t[h+1],u);return l[h](m)};return s?u=>d(Te(t[0],t[o-1],u)):d}function pg(t,e){const s=t[t.length-1];for(let n=1;n<=e;n++){const i=jt(0,e,n);t.push(B(s,1,i))}}function gg(t){const e=[0];return pg(e,t.length-1),e}function xg(t,e){return t.map(s=>s*e)}function yg(t,e){return t.map(()=>e||_c).splice(0,t.length-1)}function Ws({duration:t=300,keyframes:e,times:s,ease:n="easeInOut"}){const i=ug(n)?n.map(xa):xa(n),o={done:!1,value:e[0]},a=xg(s&&s.length===e.length?s:gg(e),t),l=fg(a,e,{ease:Array.isArray(i)?i:yg(e,i)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}const bg=t=>{const e=({timestamp:s})=>t(s);return{start:()=>U.update(e,!0),stop:()=>Ie(e),now:()=>Z.isProcessing?Z.timestamp:we.now()}},vg={decay:ga,inertia:ga,tween:Ws,keyframes:Ws,spring:kc},wg=t=>t/100;class ui extends vc{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:n,element:i,keyframes:o}=this.options,a=(i==null?void 0:i.KeyframeResolver)||ci,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new a(o,l,s,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:s="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=this.options,l=Xn(s)?s:vg[s]||Ws;let c,d;l!==Ws&&typeof e[0]!="number"&&(c=hs(wg,jc(e[0],e[1])),e=[0,100]);const u=l({...this.options,keyframes:e});o==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=Bl(u));const{calculatedDuration:h}=u,m=h+i,f=m*(n+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:n}=this;if(!n){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=n;if(this.startTime===null)return o.next(0);const{delay:m,repeat:f,repeatType:g,repeatDelay:p,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-m*(this.speed>=0?1:-1),w=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let v=this.currentTime,j=o;if(f){const C=Math.min(this.currentTime,u)/h;let M=Math.floor(C),R=C%1;!R&&C>=1&&(R=1),R===1&&M--,M=Math.min(M,f+1),!!(M%2)&&(g==="reverse"?(R=1-R,p&&(R-=p/h)):g==="mirror"&&(j=a)),v=Te(0,1,R)*h}const N=w?{done:!1,value:c[0]}:j.next(v);l&&(N.value=l(N.value));let{done:S}=N;!w&&d!==null&&(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return T&&i!==void 0&&(N.value=ur(c,this.options,i)),x&&x(N.value),T&&this.finish(),N}get duration(){const{resolved:e}=this;return e?Se(e.calculatedDuration):0}get time(){return Se(this.currentTime)}set time(e){e=_e(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Se(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=bg,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const jg=new Set(["opacity","clipPath","filter","transform"]);function Ng(t,e,s,{delay:n=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const d={[e]:s};c&&(d.offset=c);const u=Hl(l,i);return Array.isArray(u)&&(d.easing=u),t.animate(d,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}const kg=In(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qs=10,_g=2e4;function Sg(t){return Xn(t.type)||t.type==="spring"||!ql(t.ease)}function Tg(t,e){const s=new ui({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const i=[];let o=0;for(;!n.done&&o<_g;)n=s.sample(o),i.push(n.value),o+=qs;return{times:void 0,keyframes:i,duration:o-qs,ease:"linear"}}const Sc={anticipate:rc,backInOut:sc,circInOut:ic};function Pg(t){return t in Sc}class ya extends vc{constructor(e){super(e);const{name:s,motionValue:n,element:i,keyframes:o}=this.options;this.resolver=new bc(o,(a,l)=>this.onKeyframesResolved(a,l),s,n,i),this.resolver.scheduleResolve()}initPlayback(e,s){let{duration:n=300,times:i,ease:o,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof o=="string"&&Fs()&&Pg(o)&&(o=Sc[o]),Sg(this.options)){const{onComplete:h,onUpdate:m,motionValue:f,element:g,...p}=this.options,x=Tg(e,p);e=x.keyframes,e.length===1&&(e[1]=e[0]),n=x.duration,i=x.times,o=x.ease,a="keyframes"}const u=Ng(l.owner.current,c,e,{...this.options,duration:n,times:i,ease:o});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(sa(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(ur(e,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:i,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return Se(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return Se(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=_e(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return ne;const{animation:n}=s;sa(n,e)}return ne}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:n,duration:i,type:o,ease:a,times:l}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:m,...f}=this.options,g=new ui({...f,keyframes:n,duration:i,type:o,ease:a,times:l,isGenerator:!0}),p=_e(this.time);d.setWithVelocity(g.sample(p-qs).value,g.sample(p).value,qs)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:n,repeatDelay:i,repeatType:o,damping:a,type:l}=e;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=s.owner.getProps();return kg()&&n&&jg.has(n)&&!c&&!d&&!i&&o!=="mirror"&&a!==0&&l!=="inertia"}}const Cg={type:"spring",stiffness:500,damping:25,restSpeed:10},Ag=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Eg={type:"keyframes",duration:.8},Mg={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Og=(t,{keyframes:e})=>e.length>2?Eg:rt.has(t)?t.startsWith("scale")?Ag(e[1]):Cg:Mg;function Rg({when:t,delay:e,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const hi=(t,e,s,n={},i,o)=>a=>{const l=Jn(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-_e(c);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:o?void 0:i};Rg(l)||(u={...u,...Og(t,u)}),u.duration&&(u.duration=_e(u.duration)),u.repeatDelay&&(u.repeatDelay=_e(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!o&&e.get()!==void 0){const m=ur(u.keyframes,l);if(m!==void 0)return U.update(()=>{u.onUpdate(m),u.onComplete()}),new Qf([])}return!o&&ya.supports(u)?new ya(u):new ui(u)};function Dg({protectedKeys:t,needsAnimating:e},s){const n=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,n}function Tc(t,e,{delay:s=0,transitionOverride:n,type:i}={}){var o;let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;n&&(a=n);const d=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in c){const m=t.getValue(h,(o=t.latestValues[h])!==null&&o!==void 0?o:null),f=c[h];if(f===void 0||u&&Dg(u,h))continue;const g={delay:s,...Jn(a||{},h)};let p=!1;if(window.MotionHandoffAnimation){const b=Jl(t);if(b){const w=window.MotionHandoffAnimation(b,h,U);w!==null&&(g.startTime=w,p=!0)}}ln(t,h),m.start(hi(h,m,f,t.shouldReduceMotion&&Yl.has(h)?{type:!1}:g,t,p));const x=m.animation;x&&d.push(x)}return l&&Promise.all(d).then(()=>{U.update(()=>{l&&mp(t,l)})}),d}function pn(t,e,s={}){var n;const i=dr(t,e,s.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(o=s.transitionOverride);const a=i?()=>Promise.all(Tc(t,i,s)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=o;return Lg(t,e,u+d,h,m,s)}:()=>Promise.resolve(),{when:c}=o;if(c){const[d,u]=c==="beforeChildren"?[a,l]:[l,a];return d().then(()=>u())}else return Promise.all([a(),l(s.delay)])}function Lg(t,e,s=0,n=0,i=1,o){const a=[],l=(t.variantChildren.size-1)*n,c=i===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(t.variantChildren).sort(Ig).forEach((d,u)=>{d.notify("AnimationStart",e),a.push(pn(d,e,{...o,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function Ig(t,e){return t.sortNodePosition(e)}function $g(t,e,s={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(o=>pn(t,o,s));n=Promise.all(i)}else if(typeof e=="string")n=pn(t,e,s);else{const i=typeof e=="function"?dr(t,e,s.custom):e;n=Promise.all(Tc(t,i,s))}return n.then(()=>{t.notify("AnimationComplete",e)})}const Ug=Un.length;function Pc(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?Pc(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<Ug;s++){const n=Un[s],i=t.props[n];(Qt(i)||i===!1)&&(e[n]=i)}return e}const Vg=[...$n].reverse(),Fg=$n.length;function Bg(t){return e=>Promise.all(e.map(({animation:s,options:n})=>$g(t,s,n)))}function Wg(t){let e=Bg(t),s=ba(),n=!0;const i=c=>(d,u)=>{var h;const m=dr(t,u,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:f,transitionEnd:g,...p}=m;d={...d,...p,...g}}return d};function o(c){e=c(t)}function a(c){const{props:d}=t,u=Pc(t.parent)||{},h=[],m=new Set;let f={},g=1/0;for(let x=0;x<Fg;x++){const b=Vg[x],w=s[b],v=d[b]!==void 0?d[b]:u[b],j=Qt(v),N=b===c?w.isActive:null;N===!1&&(g=x);let S=v===u[b]&&v!==d[b]&&j;if(S&&n&&t.manuallyAnimateOnMount&&(S=!1),w.protectedKeys={...f},!w.isActive&&N===null||!v&&!w.prevProp||lr(v)||typeof v=="boolean")continue;const T=qg(w.prevProp,v);let C=T||b===c&&w.isActive&&!S&&j||x>g&&j,M=!1;const R=Array.isArray(v)?v:[v];let Q=R.reduce(i(b),{});N===!1&&(Q={});const{prevResolvedValues:W={}}=w,ue={...W,...Q},he=k=>{C=!0,m.has(k)&&(M=!0,m.delete(k)),w.needsAnimating[k]=!0;const F=t.getValue(k);F&&(F.liveStyle=!1)};for(const k in ue){const F=Q[k],Pe=W[k];if(f.hasOwnProperty(k))continue;let Ot=!1;nn(F)&&nn(Pe)?Ot=!Fl(F,Pe):Ot=F!==Pe,Ot?F!=null?he(k):m.add(k):F!==void 0&&m.has(k)?he(k):w.protectedKeys[k]=!0}w.prevProp=v,w.prevResolvedValues=Q,w.isActive&&(f={...f,...Q}),n&&t.blockInitialAnimation&&(C=!1),C&&(!(S&&T)||M)&&h.push(...R.map(k=>({animation:k,options:{type:b}})))}if(m.size){const x={};m.forEach(b=>{const w=t.getBaseTarget(b),v=t.getValue(b);v&&(v.liveStyle=!0),x[b]=w??null}),h.push({animation:x})}let p=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(p=!1),n=!1,p?e(h):Promise.resolve()}function l(c,d){var u;if(s[c].isActive===d)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(m=>{var f;return(f=m.animationState)===null||f===void 0?void 0:f.setActive(c,d)}),s[c].isActive=d;const h=a(c);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>s,reset:()=>{s=ba(),n=!0}}}function qg(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Fl(e,t):!1}function qe(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ba(){return{animate:qe(!0),whileInView:qe(),whileHover:qe(),whileTap:qe(),whileDrag:qe(),whileFocus:qe(),exit:qe()}}class Fe{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Hg extends Fe{constructor(e){super(e),e.animationState||(e.animationState=Wg(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();lr(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let zg=0;class Kg extends Fe{constructor(){super(...arguments),this.id=zg++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Gg={animation:{Feature:Hg},exit:{Feature:Kg}};function rs(t,e,s,n={passive:!0}){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s)}function ms(t){return{point:{x:t.pageX,y:t.pageY}}}const Yg=t=>e=>ei(e)&&t(e,ms(e));function Kt(t,e,s,n){return rs(t,e,Yg(s),n)}const va=(t,e)=>Math.abs(t-e);function Zg(t,e){const s=va(t.x,e.x),n=va(t.y,e.y);return Math.sqrt(s**2+n**2)}class Cc{constructor(e,s,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Er(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=Zg(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:g}=h,{timestamp:p}=Z;this.history.push({...g,timestamp:p});const{onStart:x,onMove:b}=this.handlers;m||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ar(m,this.transformPagePoint),U.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Er(h.type==="pointercancel"?this.lastMoveEventInfo:Ar(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,x),g&&g(h,x)},!ei(e))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.contextWindow=i||window;const a=ms(e),l=Ar(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Z;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(e,Er(l,this.history)),this.removeListeners=hs(Kt(this.contextWindow,"pointermove",this.handlePointerMove),Kt(this.contextWindow,"pointerup",this.handlePointerUp),Kt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ie(this.updatePoint)}}function Ar(t,e){return e?{point:e(t.point)}:t}function wa(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Er({point:t},e){return{point:t,delta:wa(t,Ac(e)),offset:wa(t,Jg(e)),velocity:Xg(e,.1)}}function Jg(t){return t[0]}function Ac(t){return t[t.length-1]}function Xg(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,n=null;const i=Ac(t);for(;s>=0&&(n=t[s],!(i.timestamp-n.timestamp>_e(e)));)s--;if(!n)return{x:0,y:0};const o=Se(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const Ec=1e-4,Qg=1-Ec,ex=1+Ec,Mc=.01,tx=0-Mc,sx=0+Mc;function ie(t){return t.max-t.min}function rx(t,e,s){return Math.abs(t-e)<=s}function ja(t,e,s,n=.5){t.origin=n,t.originPoint=B(e.min,e.max,t.origin),t.scale=ie(s)/ie(e),t.translate=B(s.min,s.max,t.origin)-t.originPoint,(t.scale>=Qg&&t.scale<=ex||isNaN(t.scale))&&(t.scale=1),(t.translate>=tx&&t.translate<=sx||isNaN(t.translate))&&(t.translate=0)}function Gt(t,e,s,n){ja(t.x,e.x,s.x,n?n.originX:void 0),ja(t.y,e.y,s.y,n?n.originY:void 0)}function Na(t,e,s){t.min=s.min+e.min,t.max=t.min+ie(e)}function nx(t,e,s){Na(t.x,e.x,s.x),Na(t.y,e.y,s.y)}function ka(t,e,s){t.min=e.min-s.min,t.max=t.min+ie(e)}function Yt(t,e,s){ka(t.x,e.x,s.x),ka(t.y,e.y,s.y)}function ix(t,{min:e,max:s},n){return e!==void 0&&t<e?t=n?B(e,t,n.min):Math.max(t,e):s!==void 0&&t>s&&(t=n?B(s,t,n.max):Math.min(t,s)),t}function _a(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function ax(t,{top:e,left:s,bottom:n,right:i}){return{x:_a(t.x,s,i),y:_a(t.y,e,n)}}function Sa(t,e){let s=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}function ox(t,e){return{x:Sa(t.x,e.x),y:Sa(t.y,e.y)}}function lx(t,e){let s=.5;const n=ie(t),i=ie(e);return i>n?s=jt(e.min,e.max-n,t.min):n>i&&(s=jt(t.min,t.max-i,e.min)),Te(0,1,s)}function cx(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const gn=.35;function dx(t=gn){return t===!1?t=0:t===!0&&(t=gn),{x:Ta(t,"left","right"),y:Ta(t,"top","bottom")}}function Ta(t,e,s){return{min:Pa(t,e),max:Pa(t,s)}}function Pa(t,e){return typeof t=="number"?t:t[e]||0}const Ca=()=>({translate:0,scale:1,origin:0,originPoint:0}),pt=()=>({x:Ca(),y:Ca()}),Aa=()=>({min:0,max:0}),H=()=>({x:Aa(),y:Aa()});function oe(t){return[t("x"),t("y")]}function Oc({top:t,left:e,right:s,bottom:n}){return{x:{min:e,max:s},y:{min:t,max:n}}}function ux({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hx(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Mr(t){return t===void 0||t===1}function xn({scale:t,scaleX:e,scaleY:s}){return!Mr(t)||!Mr(e)||!Mr(s)}function ze(t){return xn(t)||Rc(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Rc(t){return Ea(t.x)||Ea(t.y)}function Ea(t){return t&&t!=="0%"}function Hs(t,e,s){const n=t-s,i=e*n;return s+i}function Ma(t,e,s,n,i){return i!==void 0&&(t=Hs(t,i,n)),Hs(t,s,n)+e}function yn(t,e=0,s=1,n,i){t.min=Ma(t.min,e,s,n,i),t.max=Ma(t.max,e,s,n,i)}function Dc(t,{x:e,y:s}){yn(t.x,e.translate,e.scale,e.originPoint),yn(t.y,s.translate,s.scale,s.originPoint)}const Oa=.999999999999,Ra=1.0000000000001;function mx(t,e,s,n=!1){const i=s.length;if(!i)return;e.x=e.y=1;let o,a;for(let l=0;l<i;l++){o=s[l],a=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&xt(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Dc(t,a)),n&&ze(o.latestValues)&&xt(t,o.latestValues))}e.x<Ra&&e.x>Oa&&(e.x=1),e.y<Ra&&e.y>Oa&&(e.y=1)}function gt(t,e){t.min=t.min+e,t.max=t.max+e}function Da(t,e,s,n,i=.5){const o=B(t.min,t.max,i);yn(t,e,s,o,n)}function xt(t,e){Da(t.x,e.x,e.scaleX,e.scale,e.originX),Da(t.y,e.y,e.scaleY,e.scale,e.originY)}function Lc(t,e){return Oc(hx(t.getBoundingClientRect(),e))}function fx(t,e,s){const n=Lc(t,s),{scroll:i}=e;return i&&(gt(n.x,i.offset.x),gt(n.y,i.offset.y)),n}const Ic=({current:t})=>t?t.ownerDocument.defaultView:null,px=new WeakMap;class gx{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=H(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(ms(u).point)},o=(u,h)=>{const{drag:m,dragPropagation:f,onDragStart:g}=this.getProps();if(m&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lp(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oe(x=>{let b=this.getAxisMotionValue(x).get()||0;if(ve.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[x];v&&(b=ie(v)*(parseFloat(b)/100))}}this.originPoint[x]=b}),g&&U.postRender(()=>g(u,h)),ln(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},a=(u,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:g,onDrag:p}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=h;if(f&&this.currentDirection===null){this.currentDirection=xx(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),p&&p(u,h)},l=(u,h)=>this.stop(u,h),c=()=>oe(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Cc(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Ic(this.visualElement)})}stop(e,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&U.postRender(()=>o(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,n){const{drag:i}=this.getProps();if(!n||!ws(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=ix(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;s&&mt(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=ax(i.layoutBox,s):this.constraints=!1,this.elastic=dx(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&oe(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=cx(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!mt(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=fx(n,i.root,this.visualElement.getTransformPagePoint());let a=ox(i.layout.layoutBox,o);if(s){const l=s(ux(a));this.hasMutatedConstraints=!!l,l&&(a=Oc(l))}return a}startAnimation(e){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=oe(u=>{if(!ws(u,s,this.currentDirection))return;let h=c&&c[u]||{};a&&(h={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:n?e[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(e,s){const n=this.getAxisMotionValue(e);return ln(this.visualElement,e),n.start(hi(e,n,0,s,this.visualElement,!1))}stopAnimation(){oe(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){oe(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){oe(s=>{const{drag:n}=this.getProps();if(!ws(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(s);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[s];o.set(e[s]-B(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!mt(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};oe(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=lx({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),oe(a=>{if(!ws(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(B(c,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;px.set(this.visualElement,this);const e=this.visualElement.current,s=Kt(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();mt(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),U.read(n);const a=rs(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(oe(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{a(),s(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=gn,dragMomentum:l=!0}=e;return{...e,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function ws(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function xx(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class yx extends Fe{constructor(e){super(e),this.removeGroupControls=ne,this.removeListeners=ne,this.controls=new gx(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ne}unmount(){this.removeGroupControls(),this.removeListeners()}}const La=t=>(e,s)=>{t&&U.postRender(()=>t(e,s))};class bx extends Fe{constructor(){super(...arguments),this.removePointerDownListener=ne}onPointerDown(e){this.session=new Cc(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ic(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:La(e),onStart:La(s),onMove:n,onEnd:(o,a)=>{delete this.session,i&&U.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=Kt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ts={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ia(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Dt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(P.test(t))t=parseFloat(t);else return t;const s=Ia(t,e.target.x),n=Ia(t,e.target.y);return`${s}% ${n}%`}},vx={correct:(t,{treeScale:e,projectionDelta:s})=>{const n=t,i=$e.parse(t);if(i.length>5)return n;const o=$e.createTransformer(t),a=typeof i[0]!="number"?1:0,l=s.x.scale*e.x,c=s.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const d=B(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),o(i)}};class wx extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=e;Ff(jx),o&&(s.group&&s.group.add(o),n&&n.register&&i&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ts.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:n,drag:i,isPresent:o}=this.props,a=n.projection;return a&&(a.isPresent=o,i||e.layoutDependency!==s||s===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||U.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fn.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $c(t){const[e,s]=tf(),n=y.useContext(vl);return r.jsx(wx,{...t,layoutGroup:n,switchLayoutGroup:y.useContext(Pl),isPresent:e,safeToRemove:s})}const jx={borderRadius:{...Dt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dt,borderTopRightRadius:Dt,borderBottomLeftRadius:Dt,borderBottomRightRadius:Dt,boxShadow:vx};function Nx(t,e,s){const n=X(t)?t:ts(t);return n.start(hi("",n,e,s)),n.animation}function kx(t){return t instanceof SVGElement&&t.tagName!=="svg"}const _x=(t,e)=>t.depth-e.depth;class Sx{constructor(){this.children=[],this.isDirty=!1}add(e){ti(this.children,e),this.isDirty=!0}remove(e){si(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_x),this.isDirty=!1,this.children.forEach(e)}}function Tx(t,e){const s=we.now(),n=({timestamp:i})=>{const o=i-s;o>=e&&(Ie(n),t(o-e))};return U.read(n,!0),()=>Ie(n)}const Uc=["TopLeft","TopRight","BottomLeft","BottomRight"],Px=Uc.length,$a=t=>typeof t=="string"?parseFloat(t):t,Ua=t=>typeof t=="number"||P.test(t);function Cx(t,e,s,n,i,o){i?(t.opacity=B(0,s.opacity!==void 0?s.opacity:1,Ax(n)),t.opacityExit=B(e.opacity!==void 0?e.opacity:1,0,Ex(n))):o&&(t.opacity=B(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let a=0;a<Px;a++){const l=`border${Uc[a]}Radius`;let c=Va(e,l),d=Va(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Ua(c)===Ua(d)?(t[l]=Math.max(B($a(c),$a(d),n),0),(ve.test(d)||ve.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||s.rotate)&&(t.rotate=B(e.rotate||0,s.rotate||0,n))}function Va(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ax=Vc(0,.5,nc),Ex=Vc(.5,.95,ne);function Vc(t,e,s){return n=>n<t?0:n>e?1:s(jt(t,e,n))}function Fa(t,e){t.min=e.min,t.max=e.max}function ae(t,e){Fa(t.x,e.x),Fa(t.y,e.y)}function Ba(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Wa(t,e,s,n,i){return t-=e,t=Hs(t,1/s,n),i!==void 0&&(t=Hs(t,1/i,n)),t}function Mx(t,e=0,s=1,n=.5,i,o=t,a=t){if(ve.test(e)&&(e=parseFloat(e),e=B(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=B(o.min,o.max,n);t===o&&(l-=e),t.min=Wa(t.min,e,s,l,i),t.max=Wa(t.max,e,s,l,i)}function qa(t,e,[s,n,i],o,a){Mx(t,e[s],e[n],e[i],e.scale,o,a)}const Ox=["x","scaleX","originX"],Rx=["y","scaleY","originY"];function Ha(t,e,s,n){qa(t.x,e,Ox,s?s.x:void 0,n?n.x:void 0),qa(t.y,e,Rx,s?s.y:void 0,n?n.y:void 0)}function za(t){return t.translate===0&&t.scale===1}function Fc(t){return za(t.x)&&za(t.y)}function Ka(t,e){return t.min===e.min&&t.max===e.max}function Dx(t,e){return Ka(t.x,e.x)&&Ka(t.y,e.y)}function Ga(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Bc(t,e){return Ga(t.x,e.x)&&Ga(t.y,e.y)}function Ya(t){return ie(t.x)/ie(t.y)}function Za(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Lx{constructor(){this.members=[]}add(e){ti(this.members,e),e.scheduleRender()}remove(e){if(si(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,s){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,s&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:n}=e;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ix(t,e,s){let n="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(s==null?void 0:s.z)||0;if((i||o||a)&&(n=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:g}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),f&&(n+=`skewX(${f}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Ke={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Bt=typeof window<"u"&&window.MotionDebug!==void 0,Or=["","X","Y","Z"],$x={visibility:"hidden"},Ja=1e3;let Ux=0;function Rr(t,e,s,n){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Wc(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=Jl(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",U,!(i||o))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Wc(n)}function qc({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=e==null?void 0:e()){this.id=Ux++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bt&&(Ke.totalNodes=Ke.resolvedTargetDeltas=Ke.recalculatedProjection=0),this.nodes.forEach(Bx),this.nodes.forEach(Kx),this.nodes.forEach(Gx),this.nodes.forEach(Wx),Bt&&window.MotionDebug.record(Ke)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sx)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ri),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kx(a),this.instance=a;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Tx(m,250),Ts.hasAnimatedSinceResize&&(Ts.hasAnimatedSinceResize=!1,this.nodes.forEach(Qa))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Qx,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!Bc(this.targetLayout,g)||f,v=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||m&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const j={...Jn(p,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||Qa(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ie(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yx),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xa);return}this.isUpdating||this.nodes.forEach(Hx),this.isUpdating=!1,this.nodes.forEach(zx),this.nodes.forEach(Vx),this.nodes.forEach(Fx),this.clearAllSnapshots();const l=we.now();Z.delta=Te(0,1e3/60,l-Z.timestamp),Z.timestamp=l,Z.isProcessing=!0,kr.update.process(Z),kr.preRender.process(Z),kr.render.process(Z),Z.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qx),this.sharedNodes.forEach(Zx)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,U.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){U.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=H(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Fc(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;a&&(l||ze(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),e0(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return H();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(t0))){const{scroll:u}=this.root;u&&(gt(c.x,u.offset.x),gt(c.y,u.offset.y))}return c}removeElementScroll(a){var l;const c=H();if(ae(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&ae(c,a),gt(c.x,h.offset.x),gt(c.y,h.offset.y))}return c}applyTransform(a,l=!1){const c=H();ae(c,a);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xt(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ze(u.latestValues)&&xt(c,u.latestValues)}return ze(this.latestValues)&&xt(c,this.latestValues),c}removeTransform(a){const l=H();ae(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ze(d.latestValues))continue;xn(d.latestValues)&&d.updateSnapshot();const u=H(),h=d.measurePageBox();ae(u,h),Ha(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ze(this.latestValues)&&Ha(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Z.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Z.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=H(),this.relativeTargetOrigin=H(),Yt(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ae(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=H(),this.targetWithTransforms=H()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nx(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ae(this.target,this.layout.layoutBox),Dc(this.target,this.targetDelta)):ae(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=H(),this.relativeTargetOrigin=H(),Yt(this.relativeTargetOrigin,this.target,f.target),ae(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bt&&Ke.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||xn(this.parent.latestValues)||Rc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Z.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;ae(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;mx(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=H());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ba(this.prevProjectionDelta.x,this.projectionDelta.x),Ba(this.prevProjectionDelta.y,this.projectionDelta.y)),Gt(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!Za(this.projectionDelta.x,this.prevProjectionDelta.x)||!Za(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Bt&&Ke.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pt(),this.projectionDelta=pt(),this.projectionDeltaWithTransform=pt()}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=pt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=H(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=f!==g,x=this.getStack(),b=!x||x.members.length<=1,w=!!(p&&!b&&this.options.crossfade===!0&&!this.path.some(Xx));this.animationProgress=0;let v;this.mixTargetDelta=j=>{const N=j/1e3;eo(h.x,a.x,N),eo(h.y,a.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yt(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jx(this.relativeTarget,this.relativeTargetOrigin,m,N),v&&Dx(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=H()),ae(v,this.relativeTarget)),p&&(this.animationValues=u,Cx(u,d,this.latestValues,N,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ie(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=U.update(()=>{Ts.hasAnimatedSinceResize=!0,this.currentAnimation=Nx(0,Ja,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ja),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&Hc(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||H();const h=ie(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const m=ie(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}ae(l,c),xt(l,u),Gt(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Lx),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Rr("z",a,d,this.animationValues);for(let u=0;u<Or.length;u++)Rr(`rotate${Or[u]}`,a,d,this.animationValues),Rr(`skew${Or[u]}`,a,d,this.animationValues);a.render();for(const u in d)a.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $x;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=_s(a==null?void 0:a.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=_s(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ze(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Ix(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:f,y:g}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const p in Vs){if(m[p]===void 0)continue;const{correct:x,applyTo:b}=Vs[p],w=d.transform==="none"?m[p]:x(m[p],h);if(b){const v=b.length;for(let j=0;j<v;j++)d[b[j]]=w}else d[p]=w}return this.options.layoutId&&(d.pointerEvents=h===this?_s(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Xa),this.root.sharedNodes.clear()}}}function Vx(t){t.updateLayout()}function Fx(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:o}=t.options,a=s.source!==t.layout.source;o==="size"?oe(h=>{const m=a?s.measuredBox[h]:s.layoutBox[h],f=ie(m);m.min=n[h].min,m.max=m.min+f}):Hc(o,s.layoutBox,n)&&oe(h=>{const m=a?s.measuredBox[h]:s.layoutBox[h],f=ie(n[h]);m.max=m.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const l=pt();Gt(l,n,s.layoutBox);const c=pt();a?Gt(c,t.applyTransform(i,!0),s.measuredBox):Gt(c,n,s.layoutBox);const d=!Fc(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const g=H();Yt(g,s.layoutBox,m.layoutBox);const p=H();Yt(p,n,f.layoutBox),Bc(g,p)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Bx(t){Bt&&Ke.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Wx(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qx(t){t.clearSnapshot()}function Xa(t){t.clearMeasurements()}function Hx(t){t.isLayoutDirty=!1}function zx(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Qa(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Kx(t){t.resolveTargetDelta()}function Gx(t){t.calcProjection()}function Yx(t){t.resetSkewAndRotation()}function Zx(t){t.removeLeadSnapshot()}function eo(t,e,s){t.translate=B(e.translate,0,s),t.scale=B(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function to(t,e,s,n){t.min=B(e.min,s.min,n),t.max=B(e.max,s.max,n)}function Jx(t,e,s,n){to(t.x,e.x,s.x,n),to(t.y,e.y,s.y,n)}function Xx(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Qx={duration:.45,ease:[.4,0,.1,1]},so=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ro=so("applewebkit/")&&!so("chrome/")?Math.round:ne;function no(t){t.min=ro(t.min),t.max=ro(t.max)}function e0(t){no(t.x),no(t.y)}function Hc(t,e,s){return t==="position"||t==="preserve-aspect"&&!rx(Ya(e),Ya(s),.2)}function t0(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const s0=qc({attachResizeListener:(t,e)=>rs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dr={current:void 0},zc=qc({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dr.current){const t=new s0({});t.mount(window),t.setOptions({layoutScroll:!0}),Dr.current=t}return Dr.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),r0={pan:{Feature:bx},drag:{Feature:yx,ProjectionNode:zc,MeasureLayout:$c}};function io(t,e,s){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,o=n[i];o&&U.postRender(()=>o(e,ms(e)))}class n0 extends Fe{mount(){const{current:e}=this.node;e&&(this.unmount=rp(e,s=>(io(this.node,s,"Start"),n=>io(this.node,n,"End"))))}unmount(){}}class i0 extends Fe{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hs(rs(this.node.current,"focus",()=>this.onFocus()),rs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ao(t,e,s){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),o=n[i];o&&U.postRender(()=>o(e,ms(e)))}class a0 extends Fe{mount(){const{current:e}=this.node;e&&(this.unmount=op(e,s=>(ao(this.node,s,"Start"),(n,{success:i})=>ao(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bn=new WeakMap,Lr=new WeakMap,o0=t=>{const e=bn.get(t.target);e&&e(t)},l0=t=>{t.forEach(o0)};function c0({root:t,...e}){const s=t||document;Lr.has(s)||Lr.set(s,{});const n=Lr.get(s),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(l0,{root:t,...e})),n[i]}function d0(t,e,s){const n=c0(e);return bn.set(t,s),n.observe(t),()=>{bn.delete(t),n.unobserve(t)}}const u0={some:0,all:1};class h0 extends Fe{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:o}=e,a={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:u0[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return d0(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(m0(e,s))&&this.startObserver()}unmount(){}}function m0({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const f0={inView:{Feature:h0},tap:{Feature:a0},focus:{Feature:i0},hover:{Feature:n0}},p0={layout:{ProjectionNode:zc,MeasureLayout:$c}},vn={current:null},Kc={current:!1};function g0(){if(Kc.current=!0,!!Ln)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vn.current=t.matches;t.addListener(e),e()}else vn.current=!1}const x0=[...yc,J,$e],y0=t=>x0.find(xc(t)),oo=new WeakMap;function b0(t,e,s){for(const n in e){const i=e[n],o=s[n];if(X(i))t.addValue(n,i);else if(X(o))t.addValue(n,ts(i,{owner:t}));else if(o!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,ts(a!==void 0?a:i,{owner:t}))}}for(const n in s)e[n]===void 0&&t.removeValue(n);return e}const lo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class v0{scrapeMotionValuesFromProps(e,s,n){return{}}constructor({parent:e,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ci,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=we.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,U.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=a;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=s,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=cr(s),this.isVariantNode=Sl(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in m){const g=m[f];c[f]!==void 0&&X(g)&&g.set(c[f],!1)}}mount(e){this.current=e,oo.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),Kc.current||g0(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oo.delete(this.current),this.projection&&this.projection.unmount(),Ie(this.notifyUpdate),Ie(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=rt.has(e),i=s.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&U.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),o(),a&&a(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nt){const s=Nt[e];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):H()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<lo.length;n++){const i=lo[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=b0(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const n=this.values.get(e);s!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&s!==void 0&&(n=ts(s===null?void 0:s,{owner:this}),this.addValue(e,n)),n}readValue(e,s){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(pc(i)||ac(i))?i=parseFloat(i):!y0(i)&&$e.test(s)&&(i=hc(e,s)),this.setBaseTarget(e,X(i)?i.get():i)),X(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=Wn(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!X(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new ri),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class Gc extends v0{constructor(){super(...arguments),this.KeyframeResolver=bc}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:n}){delete s[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;X(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function w0(t){return window.getComputedStyle(t)}class j0 extends Gc{constructor(){super(...arguments),this.type="html",this.renderInstance=Dl}readValueFromInstance(e,s){if(rt.has(s)){const n=li(s);return n&&n.default||0}else{const n=w0(e),i=(Ml(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Lc(e,s)}build(e,s,n){zn(e,s,n.transformTemplate)}scrapeMotionValuesFromProps(e,s,n){return Zn(e,s,n)}}class N0 extends Gc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=H}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(rt.has(s)){const n=li(s);return n&&n.default||0}return s=Ll.has(s)?s:Vn(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,n){return Ul(e,s,n)}build(e,s,n){Kn(e,s,this.isSVGTag,n.transformTemplate)}renderInstance(e,s,n,i){Il(e,s,n,i)}mount(e){this.isSVGTag=Yn(e.tagName),super.mount(e)}}const k0=(t,e)=>Bn(t)?new N0(e):new j0(e,{allowProjection:t!==y.Fragment}),_0=Zf({...Gg,...f0,...r0,...p0},k0),$=uf(_0);function xe(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function et(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Yc=6048e5,S0=864e5;let T0={};function hr(){return T0}function ns(t,e){var l,c,d,u;const s=hr(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=xe(t),o=i.getDay(),a=(o<n?7:0)+o-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function zs(t){return ns(t,{weekStartsOn:1})}function Zc(t){const e=xe(t),s=e.getFullYear(),n=et(t,0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);const i=zs(n),o=et(t,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=zs(o);return e.getTime()>=i.getTime()?s+1:e.getTime()>=a.getTime()?s:s-1}function co(t){const e=xe(t);return e.setHours(0,0,0,0),e}function uo(t){const e=xe(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function P0(t,e){const s=co(t),n=co(e),i=+s-uo(s),o=+n-uo(n);return Math.round((i-o)/S0)}function C0(t){const e=Zc(t),s=et(t,0);return s.setFullYear(e,0,4),s.setHours(0,0,0,0),zs(s)}function A0(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function E0(t){if(!A0(t)&&typeof t!="number")return!1;const e=xe(t);return!isNaN(Number(e))}function M0(t){const e=xe(t),s=et(t,0);return s.setFullYear(e.getFullYear(),0,1),s.setHours(0,0,0,0),s}const O0={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},R0=(t,e,s)=>{let n;const i=O0[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function Ir(t){return(e={})=>{const s=e.width?String(e.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const D0={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L0={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},I0={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$0={date:Ir({formats:D0,defaultWidth:"full"}),time:Ir({formats:L0,defaultWidth:"full"}),dateTime:Ir({formats:I0,defaultWidth:"full"})},U0={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V0=(t,e,s,n)=>U0[t];function Lt(t){return(e,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=s!=null&&s.width?String(s.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=s!=null&&s.width?String(s.width):t.defaultWidth;i=t.values[l]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const F0={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},B0={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q0={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},z0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},K0=(t,e)=>{const s=Number(t),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},G0={ordinalNumber:K0,era:Lt({values:F0,defaultWidth:"wide"}),quarter:Lt({values:B0,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lt({values:W0,defaultWidth:"wide"}),day:Lt({values:q0,defaultWidth:"wide"}),dayPeriod:Lt({values:H0,defaultWidth:"wide",formattingValues:z0,defaultFormattingWidth:"wide"})};function It(t){return(e,s={})=>{const n=s.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Z0(l,h=>h.test(a)):Y0(l,h=>h.test(a));let d;d=t.valueCallback?t.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=e.slice(a.length);return{value:d,rest:u}}}function Y0(t,e){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return s}function Z0(t,e){for(let s=0;s<t.length;s++)if(e(t[s]))return s}function J0(t){return(e,s={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=s.valueCallback?s.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const X0=/^(\d+)(th|st|nd|rd)?/i,Q0=/\d+/i,ey={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ty={any:[/^b/i,/^(a|c)/i]},sy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ry={any:[/1/i,/2/i,/3/i,/4/i]},ny={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iy={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ay={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oy={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ly={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cy={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dy={ordinalNumber:J0({matchPattern:X0,parsePattern:Q0,valueCallback:t=>parseInt(t,10)}),era:It({matchPatterns:ey,defaultMatchWidth:"wide",parsePatterns:ty,defaultParseWidth:"any"}),quarter:It({matchPatterns:sy,defaultMatchWidth:"wide",parsePatterns:ry,defaultParseWidth:"any",valueCallback:t=>t+1}),month:It({matchPatterns:ny,defaultMatchWidth:"wide",parsePatterns:iy,defaultParseWidth:"any"}),day:It({matchPatterns:ay,defaultMatchWidth:"wide",parsePatterns:oy,defaultParseWidth:"any"}),dayPeriod:It({matchPatterns:ly,defaultMatchWidth:"any",parsePatterns:cy,defaultParseWidth:"any"})},uy={code:"en-US",formatDistance:R0,formatLong:$0,formatRelative:V0,localize:G0,match:dy,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hy(t){const e=xe(t);return P0(e,M0(e))+1}function my(t){const e=xe(t),s=+zs(e)-+C0(e);return Math.round(s/Yc)+1}function Jc(t,e){var u,h,m,f;const s=xe(t),n=s.getFullYear(),i=hr(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(m=i.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,a=et(t,0);a.setFullYear(n+1,0,o),a.setHours(0,0,0,0);const l=ns(a,e),c=et(t,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const d=ns(c,e);return s.getTime()>=l.getTime()?n+1:s.getTime()>=d.getTime()?n:n-1}function fy(t,e){var l,c,d,u;const s=hr(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=Jc(t,e),o=et(t,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),ns(o,e)}function py(t,e){const s=xe(t),n=+ns(s,e)-+fy(s,e);return Math.round(n/Yc)+1}function D(t,e){const s=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return s+n}const Ae={y(t,e){const s=t.getFullYear(),n=s>0?s:1-s;return D(e==="yy"?n%100:n,e.length)},M(t,e){const s=t.getMonth();return e==="M"?String(s+1):D(s+1,2)},d(t,e){return D(t.getDate(),e.length)},a(t,e){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,e){return D(t.getHours()%12||12,e.length)},H(t,e){return D(t.getHours(),e.length)},m(t,e){return D(t.getMinutes(),e.length)},s(t,e){return D(t.getSeconds(),e.length)},S(t,e){const s=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,s-3));return D(i,e.length)}},ct={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ho={G:function(t,e,s){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(t,e,s){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return s.ordinalNumber(i,{unit:"year"})}return Ae.y(t,e)},Y:function(t,e,s,n){const i=Jc(t,n),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return D(a,2)}return e==="Yo"?s.ordinalNumber(o,{unit:"year"}):D(o,e.length)},R:function(t,e){const s=Zc(t);return D(s,e.length)},u:function(t,e){const s=t.getFullYear();return D(s,e.length)},Q:function(t,e,s){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return D(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,s){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return D(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,s){const n=t.getMonth();switch(e){case"M":case"MM":return Ae.M(t,e);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,s){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return D(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,s,n){const i=py(t,n);return e==="wo"?s.ordinalNumber(i,{unit:"week"}):D(i,e.length)},I:function(t,e,s){const n=my(t);return e==="Io"?s.ordinalNumber(n,{unit:"week"}):D(n,e.length)},d:function(t,e,s){return e==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):Ae.d(t,e)},D:function(t,e,s){const n=hy(t);return e==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):D(n,e.length)},E:function(t,e,s){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,s,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return D(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,s,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return D(o,e.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,s){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return D(i,e.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,s){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,s){const n=t.getHours();let i;switch(n===12?i=ct.noon:n===0?i=ct.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,s){const n=t.getHours();let i;switch(n>=17?i=ct.evening:n>=12?i=ct.afternoon:n>=4?i=ct.morning:i=ct.night,e){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,s){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Ae.h(t,e)},H:function(t,e,s){return e==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):Ae.H(t,e)},K:function(t,e,s){const n=t.getHours()%12;return e==="Ko"?s.ordinalNumber(n,{unit:"hour"}):D(n,e.length)},k:function(t,e,s){let n=t.getHours();return n===0&&(n=24),e==="ko"?s.ordinalNumber(n,{unit:"hour"}):D(n,e.length)},m:function(t,e,s){return e==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ae.m(t,e)},s:function(t,e,s){return e==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):Ae.s(t,e)},S:function(t,e){return Ae.S(t,e)},X:function(t,e,s){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return fo(n);case"XXXX":case"XX":return Ge(n);case"XXXXX":case"XXX":default:return Ge(n,":")}},x:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"x":return fo(n);case"xxxx":case"xx":return Ge(n);case"xxxxx":case"xxx":default:return Ge(n,":")}},O:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+mo(n,":");case"OOOO":default:return"GMT"+Ge(n,":")}},z:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+mo(n,":");case"zzzz":default:return"GMT"+Ge(n,":")}},t:function(t,e,s){const n=Math.trunc(t.getTime()/1e3);return D(n,e.length)},T:function(t,e,s){const n=t.getTime();return D(n,e.length)}};function mo(t,e=""){const s=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),o=n%60;return o===0?s+String(i):s+String(i)+e+D(o,2)}function fo(t,e){return t%60===0?(t>0?"-":"+")+D(Math.abs(t)/60,2):Ge(t,e)}function Ge(t,e=""){const s=t>0?"-":"+",n=Math.abs(t),i=D(Math.trunc(n/60),2),o=D(n%60,2);return s+i+e+o}const po=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Xc=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},gy=(t,e)=>{const s=t.match(/(P+)(p+)?/)||[],n=s[1],i=s[2];if(!i)return po(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",po(n,e)).replace("{{time}}",Xc(i,e))},xy={p:Xc,P:gy},yy=/^D+$/,by=/^Y+$/,vy=["D","DD","YY","YYYY"];function wy(t){return yy.test(t)}function jy(t){return by.test(t)}function Ny(t,e,s){const n=ky(t,e,s);if(console.warn(n),vy.includes(t))throw new RangeError(n)}function ky(t,e,s){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _y=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sy=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ty=/^'([^]*?)'?$/,Py=/''/g,Cy=/[a-zA-Z]/;function _t(t,e,s){var u,h,m,f;const n=hr(),i=n.locale??uy,o=n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((f=(m=n.locale)==null?void 0:m.options)==null?void 0:f.weekStartsOn)??0,l=xe(t);if(!E0(l))throw new RangeError("Invalid time value");let c=e.match(Sy).map(g=>{const p=g[0];if(p==="p"||p==="P"){const x=xy[p];return x(g,i.formatLong)}return g}).join("").match(_y).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:Ay(g)};if(ho[p])return{isToken:!0,value:g};if(p.match(Cy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(jy(p)||wy(p))&&Ny(p,e,String(t));const x=ho[p[0]];return x(l,p,i.localize,d)}).join("")}function Ay(t){const e=t.match(Ty);return e?e[1].replace(Py,"'"):t}function Ey({market:t}){const e=t.current_price*100;return r.jsx($.div,{whileHover:{scale:1.02},className:"flex-none w-[300px]",children:r.jsx(A,{to:`/market/${t.id}`,children:r.jsxs("div",{className:"rounded-xl overflow-hidden bg-gray-900 border border-gray-800 hover:border-gray-700 transition-colors",children:[r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-white line-clamp-2 flex-1 pr-4",children:t.title}),r.jsxs("span",{className:"shrink-0 px-2 py-1 bg-green-500/90 rounded text-sm font-medium text-white",children:[e.toFixed(1),"%"]})]}),r.jsx("p",{className:"text-sm text-gray-400 mb-6 line-clamp-2",children:t.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center text-green-400",children:[r.jsx(de,{className:"h-4 w-4 mr-2 shrink-0"}),r.jsxs("span",{className:"text-sm font-medium",children:["$",t.volume.toLocaleString()]})]}),r.jsxs("div",{className:"flex items-center text-blue-400",children:[r.jsx(Le,{className:"h-4 w-4 mr-2 shrink-0"}),r.jsx("span",{className:"text-sm",children:_t(new Date(t.target_date),"MMM d")})]})]})]}),r.jsx("div",{className:"h-1 w-full bg-gray-800",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500",style:{width:`${e}%`}})})]})})})}function My({market:t}){const e=t.outcomes&&t.outcomes.length>0;return r.jsxs($.div,{whileHover:{scale:1.02},className:"bg-gray-900 border border-gray-800 rounded-xl p-6 hover:border-gray-700 transition-all duration-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Is,{className:"h-5 w-5 text-red-400"}),r.jsx("h3",{className:"text-lg font-semibold text-white line-clamp-2",children:t.title})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",t.volume.toLocaleString()]}),r.jsx("div",{className:"text-sm text-gray-400",children:"Vol."})]})]}),r.jsx("p",{className:"text-gray-300 text-sm mb-4 line-clamp-2",children:t.description}),e&&t.outcomes&&r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"space-y-2",children:t.outcomes.map(s=>r.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full"}),r.jsx("span",{className:"text-white font-medium",children:s.label})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm text-gray-300",children:["Yes ",Math.round(s.probability*100),"%"]}),r.jsxs("div",{className:"text-xs text-gray-400",children:["No ",Math.round((1-s.probability)*100),"%"]})]})]},s.id))})}),!e&&r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),r.jsxs("span",{className:"text-white font-medium",children:[Math.round(t.current_price*100),"% chance"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm text-gray-300",children:["Yes ",Math.round(t.current_price*100),"%"]}),r.jsxs("div",{className:"text-xs text-gray-400",children:["No ",Math.round((1-t.current_price)*100),"%"]})]})]})}),r.jsxs("div",{className:"flex space-x-2 mb-4",children:[r.jsx(A,{to:`/market/${t.id}`,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-colors text-center",children:"Trade Now"}),r.jsx("button",{onClick:()=>setShowInfoModal(!0),className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"More Info"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(gl,{className:"h-4 w-4"}),r.jsx("span",{children:t.country})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Le,{className:"h-4 w-4"}),r.jsx("span",{children:_t(new Date(t.target_date),"MMM d, yyyy")})]})]}),r.jsx(A,{to:`/market/${t.id}`,className:"absolute inset-0","aria-label":`View details for ${t.title}`})]})}function dt({title:t,markets:e,id:s}){const n=y.useRef(null),i=o=>{if(n.current){const a=o==="left"?-400:400;n.current.scrollBy({left:a,behavior:"smooth"})}};return e.length?r.jsxs("div",{className:"relative mb-16 pt-8",id:s,children:[r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:r.jsx("h2",{className:"text-xl font-semibold mb-6 text-white",children:t})}),r.jsxs("div",{className:"group relative",children:[r.jsx("div",{ref:n,className:"flex overflow-x-auto scrollbar-hide px-4 sm:px-6 lg:px-8",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:r.jsx("div",{className:"flex gap-4 pb-4",children:e.map(o=>o.title.toLowerCase().includes("hurricane")||o.title.toLowerCase().includes("cat")||o.title.toLowerCase().includes("storm")?r.jsx(My,{market:o},o.id):r.jsx(Ey,{market:o},o.id))})}),r.jsx("div",{className:"absolute inset-y-0 left-0 w-16 bg-gradient-to-r from-black to-transparent pointer-events-none"}),r.jsx("div",{className:"absolute inset-y-0 right-0 w-16 bg-gradient-to-l from-black to-transparent pointer-events-none"}),r.jsx($.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-0 backdrop-blur-sm z-20",onClick:()=>i("left"),children:r.jsx(Um,{className:"h-6 w-6 text-white"})}),r.jsx($.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-0 backdrop-blur-sm z-20",onClick:()=>i("right"),children:r.jsx(Os,{className:"h-6 w-6 text-white"})})]})]}):null}function Oy({pricePoints:t,onSelect:e,selectedPrice:s}){const n=[...t].sort((i,o)=>o.price_point-i.price_point);return r.jsxs("div",{className:"bg-gray-900 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:"Price Points"}),r.jsxs("div",{className:"flex items-center text-green-400",children:[r.jsx(de,{className:"h-5 w-5 mr-2"}),r.jsxs("span",{className:"font-medium",children:["$",t.reduce((i,o)=>i+o.volume,0).toLocaleString()]})]})]}),r.jsx("div",{className:"space-y-2",children:n.map(i=>r.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${s===i.price_point?"bg-blue-600 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-100"}`,onClick:()=>e(i.price_point),children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"text-lg font-medium",children:["$",i.price_point.toLocaleString()]}),r.jsxs("span",{className:"text-sm text-gray-400",children:[(i.probability*100).toFixed(0),"%"]})]}),r.jsxs("span",{className:"text-sm text-gray-400",children:["$",i.volume.toLocaleString()]})]},i.price_point))})]})}function Ry({orderBook:t,onPlaceOrder:e}){return r.jsxs("div",{className:"bg-gray-900 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Order Book"}),r.jsx("div",{className:"space-y-1 mb-4",children:t.asks.map((s,n)=>r.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-2 rounded bg-red-500/10 hover:bg-red-500/20 transition-colors",onClick:()=>e("buy",s.price,s.size),children:[r.jsxs("div",{className:"flex items-center text-red-400",children:[r.jsx(Rn,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{className:"font-medium",children:["$",s.price.toFixed(2)]})]}),r.jsxs("span",{className:"text-gray-400",children:[s.size," shares"]})]},`ask-${n}`))}),r.jsxs("div",{className:"text-center py-2 text-sm text-gray-500",children:["Spread: $",(Math.min(...t.asks.map(s=>s.price))-Math.max(...t.bids.map(s=>s.price))).toFixed(2)]}),r.jsx("div",{className:"space-y-1",children:t.bids.map((s,n)=>r.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-2 rounded bg-green-500/10 hover:bg-green-500/20 transition-colors",onClick:()=>e("sell",s.price,s.size),children:[r.jsxs("div",{className:"flex items-center text-green-400",children:[r.jsx(de,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{className:"font-medium",children:["$",s.price.toFixed(2)]})]}),r.jsxs("span",{className:"text-gray-400",children:[s.size," shares"]})]},`bid-${n}`))})]})}function Dy({type:t,currentPrice:e,onTrade:s}){const[n,i]=y.useState(20),o=100,a=l=>{i(Math.min(Math.max(1,l),o))};return r.jsxs("div",{className:"bg-gray-900 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:t==="buy"?"Buy Yes":"Buy No"}),r.jsxs("div",{className:"text-sm text-gray-400",children:["Max $",o]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),r.jsx("input",{type:"number",value:n,onChange:l=>a(Number(l.target.value)),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500"})]})]}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:[1,20,50,100].map(l=>r.jsxs("button",{onClick:()=>a(l),className:`px-2 py-1 rounded ${n===l?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:["$",l]},l))}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Quantity"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>a(n-1),className:"p-2 rounded-lg bg-gray-800 text-gray-400 hover:bg-gray-700",children:r.jsx(xl,{className:"h-5 w-5"})}),r.jsxs("span",{className:"flex-1 text-center text-white text-lg font-medium",children:[(n/e).toFixed(2)," shares"]}),r.jsx("button",{onClick:()=>a(n+1),className:"p-2 rounded-lg bg-gray-800 text-gray-400 hover:bg-gray-700",children:r.jsx(On,{className:"h-5 w-5"})})]})]}),r.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s(n),className:`w-full py-3 rounded-lg font-medium ${t==="buy"?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:t==="buy"?"Buy Yes":"Buy No"}),r.jsxs("p",{className:"text-sm text-gray-400 text-center",children:["Est. payout: $",(n*(1/e)).toFixed(2)]})]})]})}const go="your_supabase_project_url_here",Ly="your_supabase_anon_key_here";let K=null;go.includes("your_supabase")||(K=Ct(go,Ly));class $t{static async placeOrder(e){if(!K)return console.warn("Supabase not configured. Using mock data."),this.getMockOrder(e);try{const{data:s,error:n}=await K.from("orders").insert({market_id:e.marketId,user_address:e.userAddress,side:e.side,order_type:e.orderType,amount:e.amount,price:e.price,filled_amount:0,status:"open"}).select().single();if(n)throw n;return s}catch(s){return console.error("Error placing order:",s),null}}static async getOrderBook(e){if(!K)return console.warn("Supabase not configured. Using mock data."),this.getMockOrderBook(e);try{const{data:s,error:n}=await K.from("orders").select("*").eq("market_id",e).eq("status","open").order("price",{ascending:!1});if(n)throw n;const i=(s==null?void 0:s.filter(a=>a.side==="buy"))||[],o=(s==null?void 0:s.filter(a=>a.side==="sell"))||[];return{bids:i,asks:o}}catch(s){return console.error("Error fetching order book:",s),{bids:[],asks:[]}}}static async cancelOrder(e,s){if(!K)return console.warn("Supabase not configured. Using mock data."),!0;try{const{error:n}=await K.from("orders").update({status:"cancelled"}).eq("id",e).eq("user_address",s);if(n)throw n;return!0}catch(n){return console.error("Error cancelling order:",n),!1}}static async getUserOrders(e){if(!K)return console.warn("Supabase not configured. Using mock data."),this.getMockUserOrders(e);try{const{data:s,error:n}=await K.from("orders").select("*").eq("user_address",e).in("status",["open","filled"]).order("created_at",{ascending:!1});if(n)throw n;return s||[]}catch(s){return console.error("Error fetching user orders:",s),[]}}static async getUserTrades(e){if(!K)return console.warn("Supabase not configured. Using mock data."),this.getMockUserTrades(e);try{const{data:s,error:n}=await K.from("trades").select("*").or(`maker_address.eq.${e},taker_address.eq.${e}`).order("created_at",{ascending:!1});if(n)throw n;return s||[]}catch(s){return console.error("Error fetching user trades:",s),[]}}static async getUserPositions(e){if(!K)return console.warn("Supabase not configured. Using mock data."),this.getMockUserPositions(e);try{const{data:s,error:n}=await K.from("market_positions").select("*").eq("user_address",e).order("updated_at",{ascending:!1});if(n)throw n;return s||[]}catch(s){return console.error("Error fetching user positions:",s),[]}}static async executeAtomicSwap(e){if(!K)return console.warn("Supabase not configured. Using mock data."),this.getMockTrade(e);try{const{data:s,error:n}=await K.from("trades").insert({market_id:e.makerOrder.market_id,maker_order_id:e.makerOrder.id,taker_order_id:e.takerOrder.id,maker_address:e.makerOrder.user_address,taker_address:e.takerOrder.user_address,amount:e.amount,price:e.price,fee:e.amount*e.price*.025}).select().single();if(n)throw n;const{error:i}=await K.from("orders").update({filled_amount:e.amount,status:"filled"}).in("id",[e.makerOrder.id,e.takerOrder.id]);if(i)throw i;return s}catch(s){return console.error("Error executing atomic swap:",s),null}}static async resolveMarket(e,s){if(!K)return console.warn("Supabase not configured. Using mock data."),!0;try{const{error:n}=await K.from("prediction_markets").update({resolved:!0,outcome:s,resolved_at:new Date().toISOString()}).eq("id",e);if(n)throw n;const{error:i}=await K.from("ctf_conditions").update({resolved:!0,payout_numerator:s==="yes"?[1,0]:[0,1],payout_denominator:1,resolution_timestamp:new Date().toISOString()}).eq("question_id",e);if(i)throw i;return!0}catch(n){return console.error("Error resolving market:",n),!1}}static getMockOrder(e){return{id:`order_${Date.now()}`,market_id:e.marketId,user_address:e.userAddress,side:e.side,order_type:e.orderType,amount:e.amount,price:e.price,filled_amount:0,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}static getMockOrderBook(e){return{bids:[{id:"bid_1",market_id:e,user_address:"0x1234567890123456789012345678901234567890",side:"buy",order_type:"limit",amount:100,price:.75,filled_amount:0,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"bid_2",market_id:e,user_address:"0x2345678901234567890123456789012345678901",side:"buy",order_type:"limit",amount:50,price:.7,filled_amount:0,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],asks:[{id:"ask_1",market_id:e,user_address:"0x3456789012345678901234567890123456789012",side:"sell",order_type:"limit",amount:75,price:.8,filled_amount:0,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"ask_2",market_id:e,user_address:"0x4567890123456789012345678901234567890123",side:"sell",order_type:"limit",amount:25,price:.85,filled_amount:0,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]}}static getMockUserOrders(e){return[{id:"user_order_1",market_id:"1",user_address:e,side:"buy",order_type:"limit",amount:50,price:.75,filled_amount:25,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]}static getMockUserTrades(e){return[{id:"trade_1",market_id:"1",maker_order_id:"maker_order_1",taker_order_id:"taker_order_1",maker_address:e,taker_address:"0x1234567890123456789012345678901234567890",amount:25,price:.75,fee:.47,created_at:new Date().toISOString()}]}static getMockUserPositions(e){return[{id:"position_1",market_id:"1",user_address:e,outcome:"yes",amount:100,average_price:.75,unrealized_pnl:12.5,realized_pnl:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]}static getMockTrade(e){return{id:`trade_${Date.now()}`,market_id:e.makerOrder.market_id,maker_order_id:e.makerOrder.id,taker_order_id:e.takerOrder.id,maker_address:e.makerOrder.user_address,taker_address:e.takerOrder.user_address,amount:e.amount,price:e.price,fee:e.amount*e.price*.025,created_at:new Date().toISOString()}}}const xo="your_supabase_project_url_here",Iy="your_supabase_anon_key_here";let V=null;xo.includes("your_supabase")||(V=Ct(xo,Iy));class js{static async initializeMarket(e){if(!V)return console.warn("Supabase not configured. Using mock data."),this.getMockUMARequest(e);try{const{data:s,error:n}=await V.from("uma_requests").insert({market_id:e.marketId,ancillary_data:e.ancillaryData,request_timestamp:new Date().toISOString(),reward_token:e.rewardToken,reward_amount:e.rewardAmount,proposer:"",dispute_count:0,status:"pending"}).select().single();if(n)throw n;const{error:i}=await V.from("ctf_conditions").insert({question_id:e.marketId,oracle:"uma_optimistic_oracle",outcome_slots:2,parent_collection_id:"climate_markets",condition_id:`condition_${e.marketId}`,resolved:!1,payout_numerator:[0,0],payout_denominator:1});if(i)throw i;return s}catch(s){return console.error("Error initializing market:",s),null}}static async proposeResolution(e){if(!V)return console.warn("Supabase not configured. Using mock data."),!0;try{const{error:s}=await V.from("uma_requests").update({proposer:e.proposerAddress,resolution_data:e.resolutionData,status:"proposed",updated_at:new Date().toISOString()}).eq("market_id",e.marketId);if(s)throw s;const{error:n}=await V.from("market_resolutions").insert({market_id:e.marketId,resolution_data:e.resolutionData,confidence:e.confidence,proposer_address:e.proposerAddress,dispute_count:0,final_resolution:!1});if(n)throw n;return!0}catch(s){return console.error("Error proposing resolution:",s),!1}}static async disputeResolution(e){if(!V)return console.warn("Supabase not configured. Using mock data."),!0;try{const{error:s}=await V.from("uma_requests").update({dispute_timestamp:new Date().toISOString(),dispute_count:V.raw("dispute_count + 1"),status:"disputed",updated_at:new Date().toISOString()}).eq("market_id",e.marketId);if(s)throw s;const{error:n}=await V.from("market_resolutions").update({dispute_count:V.raw("dispute_count + 1"),updated_at:new Date().toISOString()}).eq("market_id",e.marketId);if(n)throw n;return!0}catch(s){return console.error("Error disputing resolution:",s),!1}}static async resolveMarket(e){if(!V)return console.warn("Supabase not configured. Using mock data."),!0;try{const{error:s}=await V.from("uma_requests").update({status:"resolved",resolution_data:e.resolutionData,resolution_timestamp:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("market_id",e.marketId);if(s)throw s;const{error:n}=await V.from("ctf_conditions").update({resolved:!0,payout_numerator:e.outcome==="yes"?[1,0]:[0,1],payout_denominator:1,resolution_timestamp:new Date().toISOString()}).eq("question_id",e.marketId);if(n)throw n;const{error:i}=await V.from("market_resolutions").update({outcome:e.outcome,resolution_data:e.resolutionData,final_resolution:e.finalResolution,updated_at:new Date().toISOString()}).eq("market_id",e.marketId);if(i)throw i;const{error:o}=await V.from("prediction_markets").update({resolved:!0,outcome:e.outcome,resolved_at:new Date().toISOString()}).eq("id",e.marketId);if(o)throw o;return!0}catch(s){return console.error("Error resolving market:",s),!1}}static async getUMARequest(e){if(!V)return console.warn("Supabase not configured. Using mock data."),this.getMockUMARequest({marketId:e,ancillaryData:"",rewardToken:"",rewardAmount:0});try{const{data:s,error:n}=await V.from("uma_requests").select("*").eq("market_id",e).single();if(n)throw n;return s}catch(s){return console.error("Error fetching UMA request:",s),null}}static async getCTFCondition(e){if(!V)return console.warn("Supabase not configured. Using mock data."),this.getMockCTFCondition(e);try{const{data:s,error:n}=await V.from("ctf_conditions").select("*").eq("question_id",e).single();if(n)throw n;return s}catch(s){return console.error("Error fetching CTF condition:",s),null}}static async getMarketResolutions(e){if(!V)return console.warn("Supabase not configured. Using mock data."),this.getMockMarketResolutions(e);try{const{data:s,error:n}=await V.from("market_resolutions").select("*").eq("market_id",e).order("created_at",{ascending:!1});if(n)throw n;return s||[]}catch(s){return console.error("Error fetching market resolutions:",s),[]}}static async canResolveMarket(e){if(!V)return console.warn("Supabase not configured. Using mock data."),!0;try{const s=await this.getUMARequest(e);if(!s)return!1;const n=new Date,i=new Date(s.request_timestamp),o=(n.getTime()-i.getTime())/(1e3*60*60);return s.dispute_count===0?o>=2:s.dispute_count===1?o>=48:o>=72}catch(s){return console.error("Error checking market resolution eligibility:",s),!1}}static getMockUMARequest(e){return{id:`uma_${Date.now()}`,market_id:e.marketId,ancillary_data:e.ancillaryData||"Will the global average temperature exceed 1.5C in 2024?",request_timestamp:new Date().toISOString(),reward_token:e.rewardToken||"USDC",reward_amount:e.rewardAmount||100,proposer:"",dispute_count:0,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}static getMockCTFCondition(e){return{id:`ctf_${e}`,question_id:e,oracle:"uma_optimistic_oracle",outcome_slots:2,parent_collection_id:"climate_markets",condition_id:`condition_${e}`,resolved:!1,payout_numerator:[0,0],payout_denominator:1,created_at:new Date().toISOString()}}static getMockMarketResolutions(e){return[{id:`resolution_${Date.now()}`,market_id:e,outcome:"yes",resolution_data:"NOAA data shows global temperature exceeded 1.5C threshold",resolution_source:"NOAA Climate Data",confidence:.95,proposer_address:"0x1234567890123456789012345678901234567890",dispute_count:0,final_resolution:!0,created_at:new Date().toISOString()}]}}function $y({marketId:t,currentPrice:e,userAddress:s,isWalletConnected:n}){const[i,o]=y.useState("limit"),[a,l]=y.useState("buy"),[c,d]=y.useState(100),[u,h]=y.useState(e),[m,f]=y.useState(!1),[g,p]=y.useState({bids:[],asks:[]}),[x,b]=y.useState([]),[w,v]=y.useState([]),[j,N]=y.useState(null),[S,T]=y.useState([]),[C,M]=y.useState(!1);y.useEffect(()=>{n&&s&&R()},[t,s,n]);const R=async()=>{M(!0);try{const[k,F,Pe,Ot,ed]=await Promise.all([$t.getOrderBook(t),$t.getUserOrders(s),$t.getUserPositions(s),js.getUMARequest(t),js.getMarketResolutions(t)]);p(k),b(F),v(Pe),N(Ot),T(ed)}catch(k){console.error("Error loading trading data:",k)}finally{M(!1)}},Q=async()=>{if(!n){alert("Please connect your wallet to trade");return}M(!0);try{await $t.placeOrder({marketId:t,userAddress:s,side:a,orderType:i,amount:c,price:i==="market"?e:u})?(alert("Order placed successfully!"),R(),d(100),h(e)):alert("Failed to place order")}catch(k){console.error("Error placing order:",k),alert("Error placing order")}finally{M(!1)}},W=async k=>{M(!0);try{await $t.cancelOrder(k,s)?(alert("Order cancelled successfully!"),R()):alert("Failed to cancel order")}catch(F){console.error("Error cancelling order:",F),alert("Error cancelling order")}finally{M(!1)}},ue=async()=>{if(!n){alert("Please connect your wallet to propose resolution");return}const k=prompt("Enter resolution data:"),F=parseFloat(prompt("Enter confidence (0-1):")||"0.95");if(k&&F>=0&&F<=1){M(!0);try{await js.proposeResolution({marketId:t,resolutionData:k,proposerAddress:s,confidence:F})?(alert("Resolution proposed successfully!"),R()):alert("Failed to propose resolution")}catch(Pe){console.error("Error proposing resolution:",Pe),alert("Error proposing resolution")}finally{M(!1)}}},he=async()=>{if(!n){alert("Please connect your wallet to dispute resolution");return}const k=prompt("Enter dispute reason:");if(k){M(!0);try{await js.disputeResolution({marketId:t,disputerAddress:s,reason:k})?(alert("Resolution disputed successfully!"),R()):alert("Failed to dispute resolution")}catch(F){console.error("Error disputing resolution:",F),alert("Error disputing resolution")}finally{M(!1)}}},fs=k=>{switch(k){case"open":return"text-green-500";case"filled":return"text-blue-500";case"cancelled":return"text-red-500";case"expired":return"text-gray-500";default:return"text-gray-400"}},mi=k=>{switch(k){case"pending":return"text-yellow-500";case"proposed":return"text-blue-500";case"disputed":return"text-red-500";case"resolved":return"text-green-500";default:return"text-gray-400"}};return r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:"Advanced Trading"}),r.jsxs("button",{onClick:()=>f(!m),className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[m?r.jsx(Mn,{className:"w-4 h-4"}):r.jsx(rr,{className:"w-4 h-4"}),r.jsxs("span",{children:[m?"Hide":"Show"," Advanced"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-lg font-medium text-white",children:"Place Order"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>o("limit"),className:`px-4 py-2 rounded-lg transition-colors ${i==="limit"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Limit"}),r.jsx("button",{onClick:()=>o("market"),className:`px-4 py-2 rounded-lg transition-colors ${i==="market"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Market"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>l("buy"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-lg transition-colors ${a==="buy"?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[r.jsx(de,{className:"w-4 h-4"}),r.jsx("span",{children:"Buy"})]}),r.jsxs("button",{onClick:()=>l("sell"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-lg transition-colors ${a==="sell"?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[r.jsx(Rn,{className:"w-4 h-4"}),r.jsx("span",{children:"Sell"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount (USDC)"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>d(Math.max(0,c-10)),className:"p-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600",children:r.jsx(xl,{className:"w-4 h-4"})}),r.jsx("input",{type:"number",value:c,onChange:k=>d(parseFloat(k.target.value)||0),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white",placeholder:"100"}),r.jsx("button",{onClick:()=>d(c+10),className:"p-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600",children:r.jsx(On,{className:"w-4 h-4"})})]})]}),i==="limit"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Price"}),r.jsx("input",{type:"number",value:u,onChange:k=>h(parseFloat(k.target.value)||0),step:"0.01",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white",placeholder:"0.75"})]}),r.jsx("button",{onClick:Q,disabled:C||!n,className:`w-full py-3 rounded-lg font-medium transition-colors ${n&&!C?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:C?"Processing...":`Place ${a.toUpperCase()} Order`})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-lg font-medium text-white",children:"Order Book"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm text-gray-400 mb-2",children:[r.jsx("span",{children:"Price"}),r.jsx("span",{children:"Size"}),r.jsx("span",{children:"Total"})]}),r.jsx("div",{className:"space-y-1",children:g.asks.slice(0,5).map((k,F)=>r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[r.jsx("span",{className:"text-red-400",children:k.price.toFixed(2)}),r.jsx("span",{className:"text-gray-300",children:k.amount}),r.jsx("span",{className:"text-gray-400",children:(k.price*k.amount).toFixed(2)})]},k.id))}),r.jsx("div",{className:"text-center py-2 bg-gray-800 rounded-lg",children:r.jsxs("span",{className:"text-lg font-semibold text-white",children:["$",e.toFixed(2)]})}),r.jsx("div",{className:"space-y-1",children:g.bids.slice(0,5).map((k,F)=>r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[r.jsx("span",{className:"text-green-400",children:k.price.toFixed(2)}),r.jsx("span",{className:"text-gray-300",children:k.amount}),r.jsx("span",{className:"text-gray-400",children:(k.price*k.amount).toFixed(2)})]},k.id))})]})]}),m&&r.jsxs("div",{className:"mt-8 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Your Orders"}),r.jsxs("div",{className:"space-y-2",children:[x.map(k=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs ${k.side==="buy"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:k.side.toUpperCase()}),r.jsxs("span",{className:"text-white",children:[k.amount," @ $",k.price.toFixed(2)]}),r.jsx("span",{className:`text-xs ${fs(k.status)}`,children:k.status.toUpperCase()})]}),k.status==="open"&&r.jsx("button",{onClick:()=>W(k.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Cancel"})]},k.id)),x.length===0&&r.jsx("p",{className:"text-gray-400 text-center py-4",children:"No open orders"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Your Positions"}),r.jsxs("div",{className:"space-y-2",children:[w.map(k=>r.jsx("div",{className:"p-3 bg-gray-800 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs ${k.outcome==="yes"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:k.outcome.toUpperCase()}),r.jsxs("span",{className:"text-white ml-2",children:[k.amount," shares"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm text-gray-400",children:["Avg Price: $",k.average_price.toFixed(2)]}),r.jsxs("div",{className:`text-sm ${k.unrealized_pnl>=0?"text-green-400":"text-red-400"}`,children:["P&L: $",k.unrealized_pnl.toFixed(2)]})]})]})},k.id)),w.length===0&&r.jsx("p",{className:"text-gray-400 text-center py-4",children:"No positions"})]})]}),j&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[r.jsx(be,{className:"w-5 h-5 mr-2"}),"UMA Oracle Status"]}),r.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Status:"}),r.jsx("span",{className:`ml-2 ${mi(j.status)}`,children:j.status.toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Disputes:"}),r.jsx("span",{className:"ml-2 text-white",children:j.dispute_count})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Reward:"}),r.jsxs("span",{className:"ml-2 text-white",children:[j.reward_amount," ",j.reward_token]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Proposer:"}),r.jsx("span",{className:"ml-2 text-white",children:j.proposer||"None"})]})]}),r.jsxs("div",{className:"mt-4 flex space-x-2",children:[r.jsx("button",{onClick:ue,disabled:C,className:"px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:"Propose Resolution"}),r.jsx("button",{onClick:he,disabled:C,className:"px-3 py-2 bg-red-600 text-white rounded text-sm hover:bg-red-700 disabled:opacity-50",children:"Dispute Resolution"})]})]})]}),S.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Resolution History"}),r.jsx("div",{className:"space-y-2",children:S.map(k=>r.jsxs("div",{className:"p-3 bg-gray-800 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs ${k.outcome==="yes"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:k.outcome.toUpperCase()}),r.jsxs("span",{className:"text-sm text-gray-400",children:["Confidence: ",(k.confidence*100).toFixed(1),"%"]})]}),r.jsx("div",{className:"text-sm text-gray-300",children:k.resolution_data}),r.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Source: ",k.resolution_source," | Proposer: ",k.proposer_address.slice(0,8),"..."]})]},k.id))})]})]})]})}const Ns=[{inputs:[{internalType:"uint256",name:"marketId",type:"uint256"},{internalType:"bool",name:"isYes",type:"bool"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"buyShares",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"marketId",type:"uint256"}],name:"getMarket",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"uint256",name:"totalVolume",type:"uint256"},{internalType:"bool",name:"resolved",type:"bool"},{internalType:"bool",name:"outcome",type:"bool"},{internalType:"uint256",name:"yesShares",type:"uint256"},{internalType:"uint256",name:"noShares",type:"uint256"},{internalType:"uint256",name:"yesPrice",type:"uint256"},{internalType:"uint256",name:"noPrice",type:"uint256"},{internalType:"address",name:"oracle",type:"address"},{internalType:"string",name:"resolutionCriteria",type:"string"},{internalType:"uint256",name:"sustainabilityFee",type:"uint256"}],internalType:"struct ClimateMarket.Market",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"marketId",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"getUserShares",outputs:[{internalType:"uint256",name:"yesShares",type:"uint256"},{internalType:"uint256",name:"noShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"marketId",type:"uint256"}],name:"redeemShares",outputs:[],stateMutability:"nonpayable",type:"function"}],ks="0x1234567890123456789012345678901234567890";function Uy(){const{address:t,isConnected:e}=nd(),[s,n]=y.useState(null),[i,o]=y.useState(""),[a,l]=y.useState(!0),{data:c,refetch:d}=fi({address:ks,abi:Ns,functionName:"getMarket",args:s?[BigInt(s)]:void 0,enabled:!!s}),{data:u,refetch:h}=fi({address:ks,abi:Ns,functionName:"getUserShares",args:s&&t?[BigInt(s),t]:void 0,enabled:!!s&&!!t}),{data:m,write:f,isLoading:g,error:p}=pi({address:ks,abi:Ns,functionName:"buyShares"}),{isLoading:x,isSuccess:b}=gi({hash:m==null?void 0:m.hash}),{data:w,write:v,isLoading:j,error:N}=pi({address:ks,abi:Ns,functionName:"redeemShares"}),{isLoading:S,isSuccess:T}=gi({hash:w==null?void 0:w.hash}),C=y.useCallback(()=>{if(!(!s||!i||!f))try{const W=id(i);f({args:[BigInt(s),a,W],value:W})}catch(W){console.error("Error buying shares:",W)}},[s,i,a,f]),M=y.useCallback(()=>{if(!(!s||!v))try{v({args:[BigInt(s)]})}catch(W){console.error("Error redeeming shares:",W)}},[s,v]),R=y.useCallback(W=>{if(!W)return{yesPrice:0,noPrice:0};const ue=Number(W.yesPrice)/Number(W.yesPrice+W.noPrice)*100,he=100-ue;return{yesPrice:ue,noPrice:he}},[]),Q=y.useCallback(W=>{if(!W)return{yesShares:0,noShares:0,totalValue:0};const ue=Number(xi(W.yesShares)),he=Number(xi(W.noShares)),fs=ue+he;return{yesShares:ue,noShares:he,totalValue:fs}},[]);return y.useEffect(()=>{b&&(d(),h(),o(""))},[b,d,h]),y.useEffect(()=>{T&&(d(),h())},[T,d,h]),{selectedMarketId:s,setSelectedMarketId:n,tradeAmount:i,setTradeAmount:o,isYes:a,setIsYes:l,marketData:c,userShares:u,executeBuyShares:C,executeRedeemShares:M,isBuyingShares:g||x,isRedeemingShares:j||S,isBuyingSharesSuccess:b,isRedeemingSharesSuccess:T,buySharesError:p,redeemSharesError:N,calculatePrices:R,calculateUserPosition:Q,isConnected:e,address:t}}function Vy({market:t}){const{setSelectedMarketId:e,tradeAmount:s,setTradeAmount:n,isYes:i,setIsYes:o,marketData:a,userShares:l,executeBuyShares:c,executeRedeemShares:d,isBuyingShares:u,isRedeemingShares:h,isBuyingSharesSuccess:m,isRedeemingSharesSuccess:f,buySharesError:g,redeemSharesError:p,calculatePrices:x,calculateUserPosition:b,isConnected:w,address:v}=Uy(),[j,N]=y.useState(!1),[S,T]=y.useState(!1),[C,M]=y.useState("");mr.useEffect(()=>{e(parseInt(t.id))},[t.id,e]),mr.useEffect(()=>{(m||f)&&(N(!0),setTimeout(()=>N(!1),3e3))},[m,f]),mr.useEffect(()=>{(g||p)&&(M((g==null?void 0:g.message)||(p==null?void 0:p.message)||"Transaction failed"),T(!0),setTimeout(()=>T(!1),5e3))},[g,p]);const R=x(a),Q=b(l),W=()=>{if(!w){M("Please connect your wallet first"),T(!0);return}if(!s||parseFloat(s)<=0){M("Please enter a valid amount"),T(!0);return}c()},ue=()=>{if(!w){M("Please connect your wallet first"),T(!0);return}d()};return r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Trade with Smart Contract"}),r.jsx("div",{className:"flex items-center space-x-2",children:w?r.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[r.jsx(Ls,{className:"h-4 w-4"}),r.jsxs("span",{className:"text-sm",children:[v==null?void 0:v.slice(0,6),"...",v==null?void 0:v.slice(-4)]})]}):r.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[r.jsx($s,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"Wallet not connected"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(de,{className:"h-5 w-5 text-green-400"}),r.jsx("span",{className:"text-white font-medium",children:"Yes Price"})]}),r.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[R.yesPrice.toFixed(1),"%"]})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Rn,{className:"h-5 w-5 text-red-400"}),r.jsx("span",{className:"text-white font-medium",children:"No Price"})]}),r.jsxs("div",{className:"text-2xl font-bold text-red-400",children:[R.noPrice.toFixed(1),"%"]})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Je,{className:"h-5 w-5 text-blue-400"}),r.jsx("span",{className:"text-white font-medium",children:"Volume"})]}),r.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:["$",a?Number(a.totalVolume)/1e18:t.volume.toLocaleString()]})]})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Trade Amount (ETH)"}),r.jsx("input",{type:"number",value:s,onChange:he=>n(he.target.value),placeholder:"0.01",min:"0.01",step:"0.01",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 transition-colors",disabled:!w||u})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>o(!0),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${i?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,disabled:!w||u,children:"Buy Yes"}),r.jsx("button",{onClick:()=>o(!1),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${i?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-red-600 text-white"}`,disabled:!w||u,children:"Buy No"})]}),r.jsx("button",{onClick:W,disabled:!w||!s||u,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white font-medium rounded-lg transition-colors flex items-center justify-center space-x-2",children:u?r.jsxs(r.Fragment,{children:[r.jsx(sn,{className:"h-5 w-5 animate-spin"}),r.jsx("span",{children:"Processing Transaction..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-5 w-5"}),r.jsx("span",{children:"Execute Trade"})]})})]}),w&&(Q.yesShares>0||Q.noShares>0)&&r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Your Position"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(L,{className:"h-4 w-4 text-green-400"}),r.jsx("span",{className:"text-gray-300",children:"Yes Shares"})]}),r.jsxs("div",{className:"text-lg font-bold text-green-400",children:[Q.yesShares.toFixed(4)," ETH"]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx($s,{className:"h-4 w-4 text-red-400"}),r.jsx("span",{className:"text-gray-300",children:"No Shares"})]}),r.jsxs("div",{className:"text-lg font-bold text-red-400",children:[Q.noShares.toFixed(4)," ETH"]})]})]}),(a==null?void 0:a.resolved)&&r.jsx("button",{onClick:ue,disabled:h,className:"w-full py-2 px-4 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white font-medium rounded-lg transition-colors flex items-center justify-center space-x-2",children:h?r.jsxs(r.Fragment,{children:[r.jsx(sn,{className:"h-4 w-4 animate-spin"}),r.jsx("span",{children:"Redeeming..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4"}),r.jsx("span",{children:"Redeem Winnings"})]})})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-gray-300",children:"Market Status"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(yt,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-400",children:a!=null&&a.resolved?"Resolved":"Active"})]})]}),(a==null?void 0:a.resolved)&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-gray-300",children:"Outcome:"}),r.jsx("span",{className:`font-medium ${a.outcome?"text-green-400":"text-red-400"}`,children:a.outcome?"Yes":"No"})]})]}),j&&r.jsx($.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"fixed top-4 right-4 bg-green-900/90 border border-green-700 rounded-lg p-4 z-50",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(L,{className:"h-5 w-5 text-green-400"}),r.jsx("span",{className:"text-green-400 font-medium",children:"Transaction successful!"})]})}),S&&r.jsx($.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"fixed top-4 right-4 bg-red-900/90 border border-red-700 rounded-lg p-4 z-50",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(An,{className:"h-5 w-5 text-red-400"}),r.jsx("span",{className:"text-red-400 font-medium",children:C})]})}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-800",children:r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[r.jsx("span",{children:"Smart Contract"}),r.jsxs("a",{href:`https://etherscan.io/address/${(a==null?void 0:a.oracle)||"0x1234567890123456789012345678901234567890"}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-blue-400 hover:text-blue-300 transition-colors",children:[r.jsx("span",{children:"View on Etherscan"}),r.jsx(Qe,{className:"h-3 w-3"})]})]})})]})}const yo="your_supabase_project_url_here",bo="your_supabase_anon_key_here",Ps=!yo.includes("your_supabase")&&!bo.includes("your_supabase")?Ct(yo,bo):null;Ps||console.warn("Supabase not configured. Please add your Supabase credentials to the .env file.");const Fy={asks:[{price:.89,size:100},{price:.88,size:200},{price:.87,size:300},{price:.86,size:400}],bids:[{price:.85,size:500},{price:.84,size:400},{price:.83,size:300},{price:.82,size:200}]};function By(){const{id:t}=$o(),[e,s]=y.useState(null),[n,i]=y.useState([]),[o,a]=y.useState(),[l,c]=y.useState(!0),[d,u]=y.useState("buy"),[h,m]=y.useState(!1),[f,g]=y.useState(!1),[p,x]=y.useState(!1);y.useEffect(()=>{if(!t)return;async function v(){if(!Ps){console.warn("Supabase not configured. Using mock data.");const j={id:t||"1",category_id:"temperature",title:"Global Temperature 2024",description:"Will the global average temperature exceed 1.5C above pre-industrial levels?",target_date:"2024-12-31T23:59:59Z",current_price:.75,volume:125e3,country:"Global",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"}],resolution_criteria:"Based on global average temperature data from major meteorological organizations",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},N=[{id:"1",market_id:t||"1",price_point:.75,probability:75,volume:1e3,created_at:"2024-01-01T00:00:00Z"},{id:"2",market_id:t||"1",price_point:.74,probability:74,volume:800,created_at:"2024-01-01T00:00:00Z"},{id:"3",market_id:t||"1",price_point:.76,probability:76,volume:1200,created_at:"2024-01-01T00:00:00Z"}];s(j),i(N),c(!1);return}try{const[j,N]=await Promise.all([Ps.from("prediction_markets").select("*").eq("id",t).single(),Ps.from("market_price_points").select("*").eq("market_id",t).order("price_point",{ascending:!1})]);if(j.error)throw j.error;if(N.error)throw N.error;s(j.data),i(N.data||[])}catch(j){console.error("Error fetching market data:",j)}finally{c(!1)}}v()},[t]);const b=v=>{e&&console.log(`${d==="buy"?"Buying":"Selling"} $${v} worth of shares`)},w=(v,j,N)=>{console.log(`Placing ${v} order: ${N} shares at $${j}`)};return l?r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:r.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading market data..."})}):e?r.jsx("div",{className:"min-h-screen bg-black text-white pt-20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[r.jsxs(A,{to:"/",className:"text-blue-400 hover:text-blue-300 flex items-center mb-8",children:[r.jsx(ce,{className:"w-4 h-4 mr-2"}),"Back to Markets"]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 mb-8",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.title}),r.jsx("p",{className:"text-lg text-gray-400 mb-6",children:e.description})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(At,{className:"w-6 h-6 text-blue-400"}),r.jsx("span",{className:"text-lg font-medium",children:e.country})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[r.jsx($r,{icon:r.jsx(Le,{className:"w-5 h-5 text-blue-400"}),label:"Resolution Date",value:_t(new Date(e.target_date),"MMM d, yyyy")}),r.jsx($r,{icon:r.jsx(de,{className:"w-5 h-5 text-green-400"}),label:"Total Volume",value:`$${e.volume.toLocaleString()}`}),r.jsx($r,{icon:r.jsx(nr,{className:"w-5 h-5 text-purple-400"}),label:"Sources",value:e.verification_sources.length.toString()})]}),r.jsxs("button",{onClick:()=>m(!h),className:"mt-6 flex items-center text-gray-400 hover:text-white transition-colors",children:[r.jsx($m,{className:`w-5 h-5 mr-2 transform transition-transform ${h?"rotate-180":""}`}),h?"Hide Details":"Show Details"]}),h&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Resolution Criteria"}),r.jsx("p",{className:"text-gray-400 mb-6",children:e.resolution_criteria}),r.jsx("div",{className:"space-y-2",children:e.verification_sources.map((v,j)=>r.jsxs("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-400 hover:text-blue-300",children:[r.jsx(Qe,{className:"w-4 h-4 mr-2"}),v.name]},j))})]})]}),r.jsx(Ry,{orderBook:Fy,onPlaceOrder:w})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>{g(!1),x(!1)},className:`px-4 py-2 rounded-md transition-colors ${!f&&!p?"bg-blue-600 text-white":"text-gray-300 hover:text-white"}`,children:"Simple Trading"}),r.jsx("button",{onClick:()=>{g(!0),x(!1)},className:`px-4 py-2 rounded-md transition-colors ${f?"bg-blue-600 text-white":"text-gray-300 hover:text-white"}`,children:"Advanced Trading"}),r.jsx("button",{onClick:()=>{g(!1),x(!0)},className:`px-4 py-2 rounded-md transition-colors ${p?"bg-green-600 text-white":"text-gray-300 hover:text-white"}`,children:"Smart Contract"})]})}),p?r.jsx(Vy,{market:e}):f?r.jsx($y,{marketId:e.id,currentPrice:e.current_price,userAddress:"0x1234567890123456789012345678901234567890",isWalletConnected:!0}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-gray-900 rounded-xl p-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>u("buy"),className:`py-2 rounded-lg font-medium transition-colors ${d==="buy"?"bg-green-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"Buy Yes"}),r.jsx("button",{onClick:()=>u("sell"),className:`py-2 rounded-lg font-medium transition-colors ${d==="sell"?"bg-red-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"Buy No"})]})}),r.jsx(Dy,{type:d,currentPrice:e.current_price,onTrade:b}),r.jsx(Oy,{pricePoints:n,onSelect:a,selectedPrice:o})]})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-black p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(A,{to:"/",className:"text-blue-400 hover:text-blue-300 flex items-center",children:[r.jsx(ce,{className:"w-4 h-4 mr-2"}),"Back to Markets"]}),r.jsxs("div",{className:"mt-8 text-center",children:[r.jsx(sr,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Market Not Found"}),r.jsx("p",{className:"text-gray-400",children:"The market you're looking for doesn't exist or has been removed."})]})]})})}function $r({icon:t,label:e,value:s}){return r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[t,r.jsx("span",{className:"ml-2 text-sm text-gray-400",children:e})]}),r.jsx("div",{className:"text-xl font-semibold",children:s})]})}function Wy({market:t}){const e=t.current_price*100;return r.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all dark:bg-gray-900 border border-gray-100 dark:border-gray-800",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(A,{to:`/market/${t.id}`,className:"text-xl font-semibold text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:t.title}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:t.description})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(At,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t.country})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"relative w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-blue-600",style:{width:`${e}%`}})}),r.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"No"}),r.jsxs("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:[e.toFixed(1),"%"]}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Yes"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(de,{className:"h-4 w-4 text-green-500 mr-2"}),r.jsxs("span",{className:"text-sm font-medium",children:["$",t.volume.toLocaleString()]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(yt,{className:"h-4 w-4 text-blue-500 mr-2"}),r.jsx("span",{className:"text-sm",children:_t(new Date(t.target_date),"MMM d, yyyy")})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Fee"}),r.jsxs("p",{className:"text-sm font-medium",children:[(t.sustainability_fee_percentage*100).toFixed(1),"%"]})]})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100 dark:border-gray-800",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:t.verification_sources.map((s,n)=>r.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:[r.jsx(Qe,{className:"w-3 h-3 mr-1"}),s.name]},n))})})]})})}const vo="your_supabase_project_url_here",wo="your_supabase_anon_key_here",wn=!vo.includes("your_supabase")&&!wo.includes("your_supabase")?Ct(vo,wo):null;wn||console.warn("Supabase not configured. Please add your Supabase credentials to the .env file.");const qy={trending:{title:"Trending Markets",description:"Most active prediction markets with high trading volume",filter:t=>t.volume>5e4},temperature:{title:"Temperature Predictions",description:"Climate temperature forecasts and predictions",filter:t=>t.title.toLowerCase().includes("temperature")},precipitation:{title:"Precipitation Markets",description:"Rainfall, snowfall, and drought predictions",filter:t=>t.title.toLowerCase().includes("rain")||t.title.toLowerCase().includes("snow")||t.title.toLowerCase().includes("drought")},emissions:{title:"Carbon Emissions",description:"Carbon emission targets and climate policy outcomes",filter:t=>t.title.toLowerCase().includes("carbon")},disasters:{title:"Natural Disasters",description:"Predictions about natural disasters and extreme weather events",filter:t=>t.title.toLowerCase().includes("hurricane")||t.title.toLowerCase().includes("earthquake")||t.title.toLowerCase().includes("flood")||t.title.toLowerCase().includes("wildfire")},records:{title:"Climate Records",description:"Predictions about breaking climate and weather records",filter:t=>t.title.toLowerCase().includes("record")}};function Hy(){const{category:t}=$o(),[e,s]=y.useState([]),[n,i]=y.useState(""),[o,a]=y.useState(!0),l=t?qy[t]:null;return y.useEffect(()=>{if(!l)return;async function c(){if(!wn){console.warn("Supabase not configured. Using mock data.");const u=[{id:"1",category_id:"temperature",title:"Global Temperature 2024",description:"Will the global average temperature exceed 1.5C above pre-industrial levels?",target_date:"2024-12-31T23:59:59Z",current_price:.75,volume:125e3,country:"Global",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"}],resolution_criteria:"Based on global average temperature data from major meteorological organizations",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"2",category_id:"emissions",title:"Carbon Emissions Target",description:"Will global carbon emissions decrease by 5% in 2024?",target_date:"2024-12-31T23:59:59Z",current_price:.45,volume:89e3,country:"Global",verification_sources:[{name:"IEA",url:"https://www.iea.org"}],resolution_criteria:"Based on official carbon emission reports from major economies",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}].filter(l.filter).filter(h=>n===""||h.title.toLowerCase().includes(n.toLowerCase())||h.description.toLowerCase().includes(n.toLowerCase()));s(u),a(!1);return}try{const{data:d,error:u}=await wn.from("prediction_markets").select("*").order("volume",{ascending:!1});if(u)throw u;const h=(d||[]).filter(l.filter).filter(m=>n===""||m.title.toLowerCase().includes(n.toLowerCase())||m.description.toLowerCase().includes(n.toLowerCase()));s(h)}catch(d){console.error("Error fetching markets:",d)}finally{a(!1)}}c()},[t,n]),l?r.jsx("div",{className:"min-h-screen bg-black pt-24",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"flex items-center justify-between mb-8",children:r.jsxs(A,{to:"/",className:"text-blue-400 hover:text-blue-300 flex items-center",children:[r.jsx(ce,{className:"w-4 h-4 mr-2"}),"Back to Markets"]})}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:l.title}),r.jsx("p",{className:"text-xl text-gray-400",children:l.description})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"relative max-w-xl",children:[r.jsx(bl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),r.jsx("input",{type:"text",value:n,onChange:c=>i(c.target.value),placeholder:"Search markets...",className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-800 bg-gray-900 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]})}),o?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading markets..."})}):e.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-400",children:"No markets found"})}):r.jsx($.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(c=>r.jsx(Wy,{market:c},c.id))})]})}):r.jsx("div",{className:"min-h-screen bg-black p-8 pt-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Category Not Found"}),r.jsx(A,{to:"/",className:"text-blue-400 hover:text-blue-300",children:"Return to Home"})]})})}const ye=[{id:"metamask",name:"MetaMask",icon:"",universalLink:"https://metamask.app.link",deepLinkScheme:"metamask://",webLink:"https://metamask.io",mobile:!0,web:!0},{id:"walletconnect",name:"WalletConnect",icon:"",universalLink:"https://walletconnect.com",deepLinkScheme:"wc://",webLink:"https://walletconnect.com",mobile:!0,web:!0},{id:"coinbase",name:"Coinbase Wallet",icon:"",universalLink:"https://wallet.coinbase.com",deepLinkScheme:"coinbase-wallet://",webLink:"https://wallet.coinbase.com",mobile:!0,web:!0},{id:"trust",name:"Trust Wallet",icon:"",universalLink:"https://trustwallet.com",deepLinkScheme:"trust://",webLink:"https://trustwallet.com",mobile:!0,web:!1},{id:"rainbow",name:"Rainbow",icon:"",universalLink:"https://rainbow.me",deepLinkScheme:"rainbow://",webLink:"https://rainbow.me",mobile:!0,web:!0},{id:"argent",name:"Argent",icon:"",universalLink:"https://argent.xyz",deepLinkScheme:"argent://",webLink:"https://argent.xyz",mobile:!0,web:!1}];function zy({onWalletSelect:t}){var d,u,h;const[e,s]=y.useState(null),[n,i]=y.useState(null),o=(m,f,g={})=>{const p=ye.find(b=>b.id===m);if(!p)return"";const x=new URLSearchParams({action:f,...g});return`${p.universalLink}?${x.toString()}`},a=m=>o(m,"connect",{app:"climatemarkets",redirect:"https://climatemarkets.space"}),l=async(m,f)=>{try{await navigator.clipboard.writeText(m),i(f),setTimeout(()=>i(null),2e3)}catch(g){console.error("Failed to copy to clipboard:",g)}},c=(m,f)=>{const g=ye.find(x=>x.id===m);if(!g)return;let p="";switch(f){case"universal":p=a(m);break;case"deep":p=g.deepLinkScheme+"?action=connect&app=climatemarkets";break;case"web":p=g.webLink;break}p&&window.open(p,"_blank")};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Wallet Deep Linking"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ye.map(m=>r.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${e===m.id?"border-blue-500 bg-blue-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>{s(m.id),t==null||t(m.id)},children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-2xl",children:m.icon}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white",children:m.name}),r.jsxs("div",{className:"flex space-x-2 text-xs text-gray-400",children:[m.mobile&&r.jsx("span",{children:"Mobile"}),m.web&&r.jsx("span",{children:"Web"})]})]})]})},m.id))})]}),e&&r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("h4",{className:"text-lg font-semibold mb-4",children:[(d=ye.find(m=>m.id===e))==null?void 0:d.name," Deep Links"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-300 mb-2",children:"Universal Link"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>c(e,"universal"),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:[r.jsx(Rs,{className:"w-4 h-4"}),r.jsx("span",{children:"Open Mobile"})]}),r.jsxs("button",{onClick:()=>l(a(e),"universal"),className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 text-white rounded-lg text-sm hover:bg-gray-600 transition-colors",children:[n==="universal"?r.jsx(L,{className:"w-4 h-4 text-green-500"}):r.jsx(ee,{className:"w-4 h-4"}),r.jsx("span",{children:"Copy"})]})]}),r.jsx("p",{className:"text-xs text-gray-400 break-all",children:a(e)})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-300 mb-2",children:"Deep Link"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>c(e,"deep"),className:"flex items-center space-x-2 px-3 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:[r.jsx(Rs,{className:"w-4 h-4"}),r.jsx("span",{children:"Open App"})]}),r.jsxs("button",{onClick:()=>{var m;return l(((m=ye.find(f=>f.id===e))==null?void 0:m.deepLinkScheme)+"?action=connect&app=climatemarkets","deep")},className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 text-white rounded-lg text-sm hover:bg-gray-600 transition-colors",children:[n==="deep"?r.jsx(L,{className:"w-4 h-4 text-green-500"}):r.jsx(ee,{className:"w-4 h-4"}),r.jsx("span",{children:"Copy"})]})]}),r.jsxs("p",{className:"text-xs text-gray-400 break-all",children:[(u=ye.find(m=>m.id===e))==null?void 0:u.deepLinkScheme,"?action=connect&app=climatemarkets"]})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-300 mb-2",children:"Web Wallet Link"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>c(e,"web"),className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:[r.jsx(Gm,{className:"w-4 h-4"}),r.jsx("span",{children:"Open Web"})]}),r.jsxs("button",{onClick:()=>{var m;return l(((m=ye.find(f=>f.id===e))==null?void 0:m.webLink)||"","web")},className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 text-white rounded-lg text-sm hover:bg-gray-600 transition-colors",children:[n==="web"?r.jsx(L,{className:"w-4 h-4 text-green-500"}):r.jsx(ee,{className:"w-4 h-4"}),r.jsx("span",{children:"Copy"})]})]}),r.jsx("p",{className:"text-xs text-gray-400 break-all",children:(h=ye.find(m=>m.id===e))==null?void 0:h.webLink})]})]})]})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium text-gray-300",children:"Trade Climate Market"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("button",{onClick:()=>l("https://climatemarkets.space?action=trade&marketId=1&amount=100&token=USDC","trade"),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:[n==="trade"?r.jsx(L,{className:"w-4 h-4"}):r.jsx(ee,{className:"w-4 h-4"}),r.jsx("span",{children:"Copy Trade Link"})]})}),r.jsx("p",{className:"text-xs text-gray-400",children:"https://climatemarkets.space?action=trade&marketId=1&amount=100&token=USDC"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium text-gray-300",children:"View Market Details"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("button",{onClick:()=>l("https://climatemarkets.space?action=market&marketId=1","market"),className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:[n==="market"?r.jsx(L,{className:"w-4 h-4"}):r.jsx(ee,{className:"w-4 h-4"}),r.jsx("span",{children:"Copy Market Link"})]})}),r.jsx("p",{className:"text-xs text-gray-400",children:"https://climatemarkets.space?action=market&marketId=1"})]})]})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"How to Use Deep Links"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-400",children:""}),r.jsx("span",{children:"Mobile: Deep links will open your wallet app directly"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-400",children:""}),r.jsx("span",{children:"Desktop: Web wallet links will open in your browser"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-400",children:""}),r.jsx("span",{children:"Copy Links: Share wallet links with other users"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-400",children:""}),r.jsx("span",{children:"Quick Actions: Generate trade-specific deep links"})]})]})]})]})}const Ky=ye.map(t=>({wallet:t,baseUniversalLink:t.universalLink,sampleTradeLink:`${t.universalLink}?action=trade&marketId=1&amount=100&token=USDC`,sampleConnectLink:`${t.universalLink}?action=connect&app=climatemarkets&redirect=${encodeURIComponent("https://climatemarkets.space")}`,deepLinkScheme:t.deepLinkScheme,webWalletLink:t.webLink}));function Gy(){const[t,e]=y.useState("metamask"),[s,n]=y.useState(null),i=async(a,l)=>{try{await navigator.clipboard.writeText(a),n(l),setTimeout(()=>n(null),2e3)}catch(c){console.error("Failed to copy to clipboard:",c)}},o=Ky.find(a=>a.wallet.id===t);return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Universal Link Configuration"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mb-6",children:ye.map(a=>r.jsx("button",{onClick:()=>e(a.id),className:`p-3 border rounded-lg transition-colors ${t===a.id?"border-blue-500 bg-blue-500/10":"border-gray-700 hover:border-gray-600"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl mb-1",children:a.icon}),r.jsx("div",{className:"text-xs text-gray-400",children:a.name})]})},a.id))}),o&&r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("span",{className:"text-2xl",children:o.wallet.icon}),r.jsxs("h4",{className:"text-lg font-semibold",children:[o.wallet.name," Universal Link Configuration"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h5",{className:"font-medium text-gray-300",children:"Universal Link"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Base Universal Link"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:o.baseUniversalLink,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm"}),r.jsx("button",{onClick:()=>i(o.baseUniversalLink,"base"),className:"px-3 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:s==="base"?r.jsx(L,{className:"w-4 h-4 text-green-500"}):r.jsx(ee,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sample Trade Link"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:o.sampleTradeLink,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm"}),r.jsx("button",{onClick:()=>i(o.sampleTradeLink,"trade"),className:"px-3 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:s==="trade"?r.jsx(L,{className:"w-4 h-4 text-green-500"}):r.jsx(ee,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sample Connect Link"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:o.sampleConnectLink,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm"}),r.jsx("button",{onClick:()=>i(o.sampleConnectLink,"connect"),className:"px-3 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:s==="connect"?r.jsx(L,{className:"w-4 h-4 text-green-500"}):r.jsx(ee,{className:"w-4 h-4"})})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h5",{className:"font-medium text-gray-300",children:"Additional Links"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Deep Link (Optional)"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:o.deepLinkScheme,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm"}),r.jsx("button",{onClick:()=>i(o.deepLinkScheme,"deep"),className:"px-3 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:s==="deep"?r.jsx(L,{className:"w-4 h-4 text-green-500"}):r.jsx(ee,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Web Wallet Link"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:o.webWalletLink,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm"}),r.jsx("a",{href:o.webWalletLink,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:r.jsx(Qe,{className:"w-4 h-4"})})]})]})]})]})]}),r.jsxs("div",{className:"mt-8 p-4 bg-blue-900/20 border border-blue-800 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-blue-300 mb-3",children:"Configuration Instructions"}),r.jsxs("div",{className:"space-y-2 text-sm text-blue-200",children:[r.jsx("div",{className:"flex items-start space-x-2",children:r.jsx("span",{className:"text-blue-400",children:"For Your Wallet App:"})}),r.jsxs("div",{className:"ml-4 space-y-1",children:[r.jsxs("p",{children:["1. ",r.jsx("strong",{children:"Universal Link:"})," Use the base universal link for iOS/Android deep linking"]}),r.jsxs("p",{children:["2. ",r.jsx("strong",{children:"Deep Link:"})," Use the custom scheme for direct app-to-app communication"]}),r.jsxs("p",{children:["3. ",r.jsx("strong",{children:"Web Link:"})," Use for desktop browser wallet connections"]})]}),r.jsx("div",{className:"flex items-start space-x-2 mt-3",children:r.jsx("span",{className:"text-blue-400",children:"For Your Climate Markets App:"})}),r.jsxs("div",{className:"ml-4 space-y-1",children:[r.jsxs("p",{children:["1. ",r.jsx("strong",{children:"Trade Actions:"})," Generate links with market ID, amount, and token"]}),r.jsxs("p",{children:["2. ",r.jsx("strong",{children:"Connect Actions:"})," Generate links for wallet connection with redirect"]}),r.jsxs("p",{children:["3. ",r.jsx("strong",{children:"Share Links:"})," Users can share these links to open specific actions"]})]})]})]}),r.jsxs("div",{className:"mt-6 p-4 bg-gray-800 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-gray-300 mb-3",children:"Example Usage"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Universal Link:"}),r.jsx("p",{className:"text-green-400 font-mono text-xs break-all mt-1",children:o.sampleTradeLink})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Deep Link:"}),r.jsxs("p",{className:"text-purple-400 font-mono text-xs break-all mt-1",children:[o.deepLinkScheme,"?action=connect&app=climatemarkets"]})]})]})]})]})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium text-gray-300",children:"Trade Climate Market"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("button",{onClick:()=>i("https://climatemarkets.space?action=trade&marketId=1&amount=100&token=USDC","quick-trade"),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:[s==="quick-trade"?r.jsx(L,{className:"w-4 h-4"}):r.jsx(ee,{className:"w-4 h-4"}),r.jsx("span",{children:"Copy Link"})]})}),r.jsx("p",{className:"text-xs text-gray-400",children:"https://climatemarkets.space?action=trade&marketId=1&amount=100&token=USDC"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium text-gray-300",children:"View Market Details"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("button",{onClick:()=>i("https://climatemarkets.space?action=market&marketId=1","quick-market"),className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:[s==="quick-market"?r.jsx(L,{className:"w-4 h-4"}):r.jsx(ee,{className:"w-4 h-4"}),r.jsx("span",{children:"Copy Link"})]})}),r.jsx("p",{className:"text-xs text-gray-400",children:"https://climatemarkets.space?action=market&marketId=1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium text-gray-300",children:"Connect Wallet"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("button",{onClick:()=>i("https://climatemarkets.space?action=connect&walletType=metamask","quick-connect"),className:"flex items-center space-x-2 px-3 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:[s==="quick-connect"?r.jsx(L,{className:"w-4 h-4"}):r.jsx(ee,{className:"w-4 h-4"}),r.jsx("span",{children:"Copy Link"})]})}),r.jsx("p",{className:"text-xs text-gray-400",children:"https://climatemarkets.space?action=connect&walletType=metamask"})]})]})]})]})}function Yy(){const t=Io(),e=os(),[s,n]=y.useState(null),[i,o]=y.useState(!1);y.useEffect(()=>{(()=>{const h=new URLSearchParams(e.search),m=h.get("action");if(m){o(!0);const f={};switch(h.forEach((p,x)=>{x!=="action"&&(f[x]=p)}),n({action:m,params:f}),m){case"trade":a(f);break;case"market":l(f);break;case"wallet":c(f);break;case"connect":d(f);break;default:console.log("Unknown deep link action:",m)}setTimeout(()=>{t(e.pathname,{replace:!0}),o(!1)},3e3)}})()},[e,t]);const a=u=>{const{marketId:h,amount:m,token:f}=u;console.log("Processing trade action:",{marketId:h,amount:m,token:f}),h&&t(`/market/${h}`)},l=u=>{const{marketId:h}=u;console.log("Processing market action:",{marketId:h}),h&&t(`/market/${h}`)},c=u=>{const{walletType:h,action:m}=u;console.log("Processing wallet action:",{walletType:h,action:m}),m==="connect"&&console.log("Connecting to wallet:",h)},d=u=>{const{walletType:h,redirect:m}=u;console.log("Processing connect action:",{walletType:h,redirect:m}),m&&setTimeout(()=>{window.location.href=m},2e3)};return s?r.jsx($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:r.jsx("div",{className:"max-w-md w-full mx-4 p-6 rounded-xl bg-gray-900 border border-gray-800",children:r.jsx("div",{className:"text-center",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Processing Deep Link"}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["Action: ",s.action]})]}):r.jsxs(r.Fragment,{children:[r.jsx(L,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Deep Link Processed"}),r.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Successfully handled ",s.action," action"]}),r.jsxs("div",{className:"text-left text-xs text-gray-500 bg-gray-800 p-3 rounded-lg",children:[r.jsx("div",{className:"font-medium mb-2",children:"Parameters:"}),Object.entries(s.params).map(([u,h])=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[u,":"]}),r.jsx("span",{className:"text-blue-400",children:h})]},u))]})]})})})}):null}function Zy(){const t=(i,o)=>{const a=window.location.origin,l=new URLSearchParams({action:i,...o});return`${a}?${l.toString()}`};return{generateDeepLink:t,generateWalletDeepLink:(i,o,a)=>t("wallet",{walletType:i,action:o,...a}),generateTradeDeepLink:(i,o,a="USDC")=>t("trade",{marketId:i,amount:o,token:a}),generateMarketDeepLink:i=>t("market",{marketId:i})}}function Jy(){const[t,e]=y.useState(!1),[s,n]=y.useState(!1),{generateTradeDeepLink:i,generateMarketDeepLink:o,generateWalletDeepLink:a}=Zy(),l=async h=>{await navigator.clipboard.writeText(h),e(!0),setTimeout(()=>e(!1),2e3)},c=i("1","100","USDC"),d=o("1"),u=a("metamask","connect");return r.jsx("div",{className:"min-h-screen bg-black pt-24",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"flex items-center justify-between mb-8",children:r.jsxs(A,{to:"/",className:"text-blue-400 hover:text-blue-300 flex items-center",children:[r.jsx(ce,{className:"w-4 h-4 mr-2"}),"Back to Markets"]})}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Mobile Wallet Integration"}),r.jsx("p",{className:"text-xl text-gray-400",children:"Connect your mobile wallet and trade climate markets seamlessly"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[r.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-xl bg-gray-900 border border-gray-800",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Wallet Deep Linking"}),r.jsx(zy,{})]}),r.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-6 rounded-xl bg-gray-900 border border-gray-800",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Universal Link Config"}),r.jsx(Gy,{walletName:"MetaMask",walletType:"metamask"})]}),r.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-6 rounded-xl bg-gray-900 border border-gray-800",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Trade Climate Market"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:c,readOnly:!0,className:"flex-1 px-3 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white text-sm"}),r.jsx("button",{onClick:()=>l(c),className:"px-3 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 transition-colors",children:t?r.jsx(Nr,{className:"w-4 h-4"}):r.jsx(ee,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"View Market Details"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:d,readOnly:!0,className:"flex-1 px-3 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white text-sm"}),r.jsx("button",{onClick:()=>l(d),className:"px-3 py-2 rounded-lg bg-green-600 hover:bg-green-700 transition-colors",children:t?r.jsx(Nr,{className:"w-4 h-4"}):r.jsx(ee,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Connect Wallet"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:u,readOnly:!0,className:"flex-1 px-3 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white text-sm"}),r.jsx("button",{onClick:()=>l(u),className:"px-3 py-2 rounded-lg bg-purple-600 hover:bg-purple-700 transition-colors",children:t?r.jsx(Nr,{className:"w-4 h-4"}):r.jsx(ee,{className:"w-4 h-4"})})]})]})]})]})]}),r.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[r.jsxs("div",{className:"p-6 rounded-xl bg-blue-900/20 border border-blue-800",children:[r.jsx(Rs,{className:"h-8 w-8 text-blue-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Mobile Apps"}),r.jsx("p",{className:"text-sm text-blue-200",children:"Deep links open your wallet app directly on mobile devices"})]}),r.jsxs("div",{className:"p-6 rounded-xl bg-green-900/20 border border-green-800",children:[r.jsx(At,{className:"h-8 w-8 text-green-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Web Wallets"}),r.jsx("p",{className:"text-sm text-green-200",children:"Web wallet links open in your browser for desktop users"})]}),r.jsxs("div",{className:"p-6 rounded-xl bg-purple-900/20 border border-purple-800",children:[r.jsx(Zm,{className:"h-8 w-8 text-purple-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Share Links"}),r.jsx("p",{className:"text-sm text-purple-200",children:"Share deep links with other users for seamless connections"})]})]}),r.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-6 rounded-xl bg-gray-900 border border-gray-800",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"How to Use Mobile Wallet Integration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"For Mobile Users"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[r.jsxs("p",{children:["1. ",r.jsx("strong",{children:"Install your wallet app"})," (MetaMask, Trust Wallet, etc.)"]}),r.jsxs("p",{children:["2. ",r.jsx("strong",{children:"Click on wallet deep links"})," to open your wallet directly"]}),r.jsxs("p",{children:["3. ",r.jsx("strong",{children:"Approve transactions"})," in your wallet app"]}),r.jsxs("p",{children:["4. ",r.jsx("strong",{children:"Return to the app"})," to see your updated balance"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"For Desktop Users"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[r.jsxs("p",{children:["1. ",r.jsx("strong",{children:"Use web wallets"})," or browser extensions"]}),r.jsxs("p",{children:["2. ",r.jsx("strong",{children:"Click web wallet links"})," to open in browser"]}),r.jsxs("p",{children:["3. ",r.jsx("strong",{children:"Connect your wallet"})," to the web interface"]}),r.jsxs("p",{children:["4. ",r.jsx("strong",{children:"Trade seamlessly"})," across platforms"]})]})]})]})]})]})})}function Xy(){return r.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs(A,{to:"/",className:"text-blue-400 hover:text-blue-300 flex items-center mb-6",children:[r.jsx(ce,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(be,{className:"h-8 w-8 text-blue-400"}),r.jsx("h1",{className:"text-4xl font-bold",children:"Privacy Policy"})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Le,{className:"h-4 w-4"}),r.jsx("span",{children:"Last Updated: January 11, 2022"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(vt,{className:"h-4 w-4"}),r.jsx("span",{children:"Contact: legal@climate.markets"})]})]})]}),r.jsx("div",{className:"prose prose-invert max-w-none",children:r.jsxs("div",{className:"space-y-8 text-gray-300 leading-relaxed",children:[r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Information We Collect"}),r.jsx("p",{className:"mb-4",children:"Climate Markets collects information you provide directly to us, such as when you create an account, make a transaction, or contact us for support. This may include:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[r.jsx("li",{children:"Wallet addresses and transaction data"}),r.jsx("li",{children:"Email addresses and contact information"}),r.jsx("li",{children:"Trading activity and market participation"}),r.jsx("li",{children:"Communication preferences and settings"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"How We Use Your Information"}),r.jsx("p",{className:"mb-4",children:"We use the information we collect to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[r.jsx("li",{children:"Provide and maintain our climate prediction markets platform"}),r.jsx("li",{children:"Process transactions and manage your account"}),r.jsx("li",{children:"Send you important updates about market events and platform changes"}),r.jsx("li",{children:"Improve our services and develop new features"}),r.jsx("li",{children:"Ensure compliance with legal and regulatory requirements"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Information Sharing"}),r.jsx("p",{className:"mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share your information only in the following circumstances:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[r.jsx("li",{children:"With your explicit consent"}),r.jsx("li",{children:"To comply with legal obligations or regulatory requirements"}),r.jsx("li",{children:"To protect our rights, property, or safety"}),r.jsx("li",{children:"In connection with a business transfer or merger"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Data Security"}),r.jsx("p",{className:"mb-4",children:"We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. However, no method of transmission over the internet is 100% secure."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Your Rights"}),r.jsx("p",{className:"mb-4",children:"You have the right to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[r.jsx("li",{children:"Access and review your personal information"}),r.jsx("li",{children:"Correct inaccurate or incomplete information"}),r.jsx("li",{children:"Request deletion of your personal information"}),r.jsx("li",{children:"Object to or restrict certain processing activities"}),r.jsx("li",{children:"Data portability for your information"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Cookies and Tracking"}),r.jsx("p",{className:"mb-4",children:"We use cookies and similar technologies to enhance your experience, analyze usage patterns, and improve our platform. You can control cookie settings through your browser preferences."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Third-Party Services"}),r.jsx("p",{className:"mb-4",children:"Our platform may integrate with third-party services such as wallet providers, blockchain networks, and analytics tools. These services have their own privacy policies, and we encourage you to review them."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Children's Privacy"}),r.jsx("p",{className:"mb-4",children:"Our platform is not intended for children under 18 years of age. We do not knowingly collect personal information from children under 18."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Changes to This Policy"}),r.jsx("p",{className:"mb-4",children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new policy on our platform and updating the "Last Updated" date.'})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Contact Us"}),r.jsx("p",{className:"mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us at:"}),r.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[r.jsx("p",{className:"text-blue-400 font-medium",children:"legal@climate.markets"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"We will respond to your inquiry within 30 days."})]})]})]})})]})})}function Qy(){return r.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs(A,{to:"/",className:"text-blue-400 hover:text-blue-300 flex items-center mb-6",children:[r.jsx(ce,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(nr,{className:"h-8 w-8 text-green-400"}),r.jsx("h1",{className:"text-4xl font-bold",children:"Terms of Use"})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Le,{className:"h-4 w-4"}),r.jsx("span",{children:"Last Updated: February 6, 2025"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(vt,{className:"h-4 w-4"}),r.jsx("span",{children:"Contact: hello@climate.markets"})]})]})]}),r.jsx("div",{className:"prose prose-invert max-w-none",children:r.jsxs("div",{className:"space-y-8 text-gray-300 leading-relaxed",children:[r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Acceptance of Terms"}),r.jsx("p",{className:"mb-4",children:"By accessing and using Climate Markets, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Description of Service"}),r.jsx("p",{className:"mb-4",children:"Climate Markets provides a decentralized platform for trading climate prediction markets. Users can:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[r.jsx("li",{children:"Participate in climate prediction markets"}),r.jsx("li",{children:"Trade outcomes related to climate events"}),r.jsx("li",{children:"Connect digital wallets for transactions"}),r.jsx("li",{children:"Access real-time market data and analytics"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"User Responsibilities"}),r.jsx("p",{className:"mb-4",children:"As a user of Climate Markets, you agree to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[r.jsx("li",{children:"Provide accurate and complete information"}),r.jsx("li",{children:"Maintain the security of your wallet and account"}),r.jsx("li",{children:"Comply with all applicable laws and regulations"}),r.jsx("li",{children:"Not engage in market manipulation or fraudulent activities"}),r.jsx("li",{children:"Report any suspicious activity or security concerns"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Risk Disclaimer"}),r.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-800 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(sr,{className:"h-5 w-5 text-yellow-400"}),r.jsx("span",{className:"text-yellow-400 font-medium",children:"Important Risk Warning"})]}),r.jsx("p",{className:"text-yellow-200 text-sm",children:"Trading climate prediction markets involves substantial risk. You may lose some or all of your invested capital. Past performance does not guarantee future results. Please ensure you understand the risks before participating."})]}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[r.jsx("li",{children:"Market outcomes are unpredictable and subject to various factors"}),r.jsx("li",{children:"Cryptocurrency prices are highly volatile"}),r.jsx("li",{children:"Smart contract risks and potential technical failures"}),r.jsx("li",{children:"Regulatory changes may affect market operations"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Intellectual Property"}),r.jsx("p",{className:"mb-4",children:"The content, features, and functionality of Climate Markets are owned by Climate Markets and are protected by international copyright, trademark, patent, trade secret, and other intellectual property laws."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Privacy and Data"}),r.jsx("p",{className:"mb-4",children:"Your privacy is important to us. Please review our Privacy Policy, which also governs your use of the service, to understand our practices regarding the collection and use of your information."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Limitation of Liability"}),r.jsx("p",{className:"mb-4",children:"Climate Markets shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your use of the service."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Indemnification"}),r.jsx("p",{className:"mb-4",children:"You agree to defend, indemnify, and hold harmless Climate Markets and its affiliates from and against any claims, damages, obligations, losses, liabilities, costs, or debt arising from your use of the service."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Termination"}),r.jsx("p",{className:"mb-4",children:"We may terminate or suspend your account and bar access to the service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever, including without limitation if you breach the Terms."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Governing Law"}),r.jsx("p",{className:"mb-4",children:"These Terms shall be interpreted and governed by the laws of the jurisdiction in which Climate Markets operates, without regard to its conflict of law provisions."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Changes to Terms"}),r.jsx("p",{className:"mb-4",children:"We reserve the right to modify or replace these Terms at any time. If a revision is material, we will provide at least 30 days notice prior to any new terms taking effect."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Contact Information"}),r.jsx("p",{className:"mb-4",children:"If you have any questions about these Terms of Use, please contact us at:"}),r.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[r.jsx("p",{className:"text-green-400 font-medium",children:"hello@climate.markets"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"We will respond to your inquiry within 30 days."})]})]})]})})]})})}function eb(){return r.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs(A,{to:"/",className:"inline-flex items-center text-gray-400 hover:text-white transition-colors mb-6",children:[r.jsx(ce,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(At,{className:"w-8 h-8 text-blue-500"}),r.jsx("h1",{className:"text-3xl font-bold",children:" How It Works"})]}),r.jsx("p",{className:"text-xl text-gray-300",children:"climate.markets is a prediction market platform where users trade on real-world climate and weather outcomes  like rainfall, heat records, or extreme events. Instead of relying solely on weather apps, you're putting your money behind what you believe will happen."})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Step-by-Step:"}),r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:"1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Choose a Market"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Browse categories like:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(tn,{className:"w-5 h-5 text-blue-400"}),r.jsx("span",{className:"font-medium",children:"Precipitation"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:'e.g. "Will it rain more than 2 inches in Maui on Sept 10?"'})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Is,{className:"w-5 h-5 text-red-400"}),r.jsx("span",{className:"font-medium",children:"Natural Disasters"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:'e.g. "Will a Category 3+ hurricane hit Florida this year?"'})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Ds,{className:"w-5 h-5 text-orange-400"}),r.jsx("span",{className:"font-medium",children:"Climate Records"})]}),r.jsx("p",{className:"text-sm text-gray-400",children:'e.g. "Will 2025 break the global hottest year record?"'})]})]}),r.jsxs("p",{className:"text-gray-300 mt-4",children:["Each market has a ",r.jsx("span",{className:"text-green-400 font-medium",children:"YES"})," or ",r.jsx("span",{className:"text-red-400 font-medium",children:"NO"})," outcome."]})]})]})}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold",children:"2"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Place a Trade"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Buy YES or NO shares depending on your prediction. The price reflects market consensus  if YES costs $0.60, the market believes there's a 60% chance it happens."}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:"You can fund your account with:"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(L,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{children:"Crypto (e.g. USDC)"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(L,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{children:"Credit/debit card or bank transfer (if enabled)"})]})]})]})]})]})}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center text-white font-bold",children:"3"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Watch the Market Move"}),r.jsx("p",{className:"text-gray-300",children:"As more users trade, odds shift in real-time. You can sell shares at any time or hold until market resolution."})]})]})}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:"4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Claim Winnings"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"When the market closes and an outcome is verified:"}),r.jsxs("ul",{className:"space-y-2 text-gray-300",children:[r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(Je,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{children:"Each winning share is worth $1"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(de,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{children:"You can cash out or reinvest"})]})]})]})]})})]})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"How Outcomes Are Resolved:"}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("p",{className:"text-gray-300 mb-4",children:"We use independent data sources and climate oracles (e.g. NOAA, ECMWF, UMA, Chainlink) to verify event outcomes. Disputes are handled via transparent resolution protocols."}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(be,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm font-medium",children:"NOAA"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Vm,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm font-medium",children:"ECMWF"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Qm,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm font-medium",children:"UMA"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Qe,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),r.jsx("span",{className:"text-sm font-medium",children:"Chainlink"})]})]})]})]}),r.jsxs("div",{className:"mb-12",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-semibold flex items-center",children:[r.jsx(fl,{className:"w-6 h-6 mr-2"})," Frequently Asked Questions (FAQ)"]}),r.jsxs(A,{to:"/faq",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["View Full FAQ",r.jsx(Os,{className:"w-4 h-4 ml-2"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What is a prediction market?"}),r.jsx("p",{className:"text-gray-300",children:"A prediction market lets people bet on future outcomes. The price of a share represents the collective belief in the likelihood of that event occurring."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Is this legal?"}),r.jsx("p",{className:"text-gray-300",children:"climate.markets is a decentralized platform operating in accordance with applicable law. Users in restricted jurisdictions (e.g. U.S., U.K.) may only access non-trading features like climate data and forecasts. Always consult local laws."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"How do I fund my account?"}),r.jsx("p",{className:"text-gray-300",children:"You can connect a crypto wallet (e.g. MetaMask) and fund your account using USDC or another supported stablecoin. In some jurisdictions, fiat on-ramps via card or bank transfer may be supported."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"How are outcomes verified?"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Markets resolve using publicly available, verifiable data from trusted sources like:"}),r.jsxs("ul",{className:"space-y-2 text-gray-300",children:[r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(L,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{children:"NOAA (National Oceanic and Atmospheric Administration)"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(L,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{children:"ECMWF (European Centre for Medium-Range Weather Forecasts)"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(L,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{children:"IPFS-stored climate oracles (e.g. UMA's Optimistic Oracle)"})]})]})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Can I sell my shares before the event resolves?"}),r.jsx("p",{className:"text-gray-300",children:"Yes. You can sell YES/NO shares any time before the market closes. This allows you to take profits or cut losses early."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What happens if there's a dispute?"}),r.jsx("p",{className:"text-gray-300",children:"Markets include a dispute window. Challenges can be raised based on incorrect data or unclear criteria, and resolved via governance or oracle escalation. Final outcomes are transparently recorded on-chain."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Are there trading limits or fees?"}),r.jsx("p",{className:"text-gray-300",children:"There are no trading limits. Fees are minimal and used to support oracle resolution and platform upkeep. All fees are disclosed before you place a trade."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What kind of climate data can I trade on?"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Currently supported categories include:"}),r.jsxs("ul",{className:"space-y-2 text-gray-300",children:[r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(tn,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{children:"Rainfall, snowfall, and drought"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(Is,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{children:"Natural disasters (hurricanes, wildfires, earthquakes)"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(Ds,{className:"w-4 h-4 text-orange-400"}),r.jsx("span",{children:"Climate records (temperature highs, rainfall records, wind speeds)"})]})]}),r.jsx("p",{className:"text-gray-300 mt-4",children:"More data types (e.g. soil moisture, El Nio cycles, coral bleaching) will be added over time."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Can I create my own market?"}),r.jsx("p",{className:"text-gray-300",children:"Yes  advanced users can propose and fund new markets with custom parameters. We offer tooling for community-created forecasts with staked incentives."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Who is behind climate.markets?"}),r.jsx("p",{className:"text-gray-300",children:"climate.markets is developed by a distributed collective of climate technologists, forecasters, and Web3 developers committed to using markets to improve climate intelligence and transparency."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What wallets and networks are supported?"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Wallets:"}),r.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[r.jsx("li",{children:" MetaMask"}),r.jsx("li",{children:" Coinbase Wallet"}),r.jsx("li",{children:" WalletConnect"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Networks:"}),r.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[r.jsx("li",{children:" Polygon (mainnet)"}),r.jsx("li",{children:" Others coming soon"})]})]})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ready to Start Trading?"}),r.jsx("p",{className:"text-blue-100 mb-6",children:"Join the future of climate prediction markets and put your knowledge to the test."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(A,{to:"/category/trending",className:"inline-flex items-center justify-center px-6 py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:["Browse Markets",r.jsx(Os,{className:"w-4 h-4 ml-2"})]}),r.jsx(A,{to:"/dashboard",className:"inline-flex items-center justify-center px-6 py-3 border border-white text-white rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"View Dashboard"})]})]})]})})}function tb(){const[t,e]=y.useState("overview"),s={totalValue:1250.5,totalProfit:234.75,profitPercentage:23.1,activePositions:8,completedTrades:24},n=[{id:1,market:"Global Temperature 2024",type:"buy",amount:50,outcome:"win",profit:12.5,date:"2024-01-15"},{id:2,market:"Carbon Emissions Reduction",type:"sell",amount:75,outcome:"loss",profit:-8.25,date:"2024-01-14"},{id:3,market:"Arctic Sea Ice Extent",type:"buy",amount:30,outcome:"win",profit:15.75,date:"2024-01-13"}],i=[{id:1,market:"Hurricane Season 2024",position:"Yes",amount:100,currentValue:125.5,profit:25.5,endDate:"2024-11-30"},{id:2,market:"Renewable Energy Adoption",position:"No",amount:75,currentValue:62.25,profit:-12.75,endDate:"2024-12-31"}],o=[{icon:On,label:"New Trade",href:"/category/trending",color:"green"},{icon:Ki,label:"Market Analysis",href:"/category/trending",color:"blue"},{icon:ir,label:"Settings",href:"/settings",color:"gray"},{icon:wt,label:"Profile",href:"/profile",color:"purple"}];return r.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-gray-400",children:"Welcome back! Here's your trading overview."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Portfolio Value"}),r.jsxs("p",{className:"text-2xl font-bold",children:["$",s.totalValue.toLocaleString()]})]}),r.jsx(Je,{className:"h-8 w-8 text-green-500"})]})}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Profit"}),r.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["$",s.totalProfit.toLocaleString()]}),r.jsxs("p",{className:"text-sm text-green-400",children:["+",s.profitPercentage,"%"]})]}),r.jsx(de,{className:"h-8 w-8 text-green-500"})]})}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Active Positions"}),r.jsx("p",{className:"text-2xl font-bold",children:s.activePositions})]}),r.jsx(rn,{className:"h-8 w-8 text-blue-500"})]})}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Completed Trades"}),r.jsx("p",{className:"text-2xl font-bold",children:s.completedTrades})]}),r.jsx(hl,{className:"h-8 w-8 text-purple-500"})]})})]}),r.jsx("div",{className:"flex space-x-1 bg-gray-900 rounded-lg p-1 mb-8",children:[{id:"overview",label:"Overview",icon:Ki},{id:"positions",label:"Active Positions",icon:rn},{id:"history",label:"Trade History",icon:yt}].map(a=>r.jsxs("button",{onClick:()=>e(a.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${t===a.id?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[r.jsx(a.icon,{className:"h-4 w-4"}),r.jsx("span",{children:a.label})]},a.id))}),t==="overview"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-1",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),r.jsx("div",{className:"space-y-3",children:o.map(a=>r.jsxs(A,{to:a.href,className:"flex items-center space-x-3 p-4 bg-gray-900 border border-gray-800 rounded-lg hover:bg-gray-800 transition-colors",children:[r.jsx(a.icon,{className:`h-5 w-5 text-${a.color}-500`}),r.jsx("span",{children:a.label}),r.jsx(Hi,{className:"h-4 w-4 text-gray-400 ml-auto"})]},a.label))})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-800",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Market"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Profit"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-800",children:n.map(a=>r.jsxs("tr",{className:"hover:bg-gray-800",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-white",children:a.market}),r.jsx("div",{className:"text-sm text-gray-400",children:a.date})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${a.type==="buy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.type.toUpperCase()})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:["$",a.amount]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[a.profit>=0?r.jsx(Hi,{className:"h-4 w-4 text-green-500 mr-1"}):r.jsx(Lm,{className:"h-4 w-4 text-red-500 mr-1"}),r.jsxs("span",{className:`text-sm ${a.profit>=0?"text-green-500":"text-red-500"}`,children:["$",Math.abs(a.profit)]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.outcome==="win"?r.jsx(L,{className:"h-5 w-5 text-green-500"}):r.jsx($s,{className:"h-5 w-5 text-red-500"})})]},a.id))})]})})})]})]}),t==="positions"&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Active Positions"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(a=>r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-white mb-1",children:a.market}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Position: ",a.position]})]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${a.position==="Yes"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.position})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Amount:"}),r.jsxs("span",{className:"text-white",children:["$",a.amount]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Current Value:"}),r.jsxs("span",{className:"text-white",children:["$",a.currentValue]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Profit/Loss:"}),r.jsxs("span",{className:a.profit>=0?"text-green-500":"text-red-500",children:["$",a.profit]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"End Date:"}),r.jsx("span",{className:"text-white",children:a.endDate})]})]}),r.jsxs("div",{className:"mt-4 flex space-x-2",children:[r.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"View Details"}),r.jsx("button",{className:"flex-1 bg-gray-700 text-white py-2 px-4 rounded-lg text-sm hover:bg-gray-600 transition-colors",children:"Close Position"})]})]},a.id))})]}),t==="history"&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Trade History"}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-800",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Market"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Position"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Outcome"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Profit/Loss"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-800",children:n.map(a=>r.jsxs("tr",{className:"hover:bg-gray-800",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:a.date}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-white",children:a.market})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${a.type==="buy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.type.toUpperCase()})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:["$",a.amount]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.outcome==="win"?r.jsx(L,{className:"h-5 w-5 text-green-500"}):r.jsx($s,{className:"h-5 w-5 text-red-500"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`text-sm ${a.profit>=0?"text-green-500":"text-red-500"}`,children:["$",a.profit]})})]},a.id))})]})})})]})]})})}const jo="your_supabase_project_url_here",sb="your_supabase_anon_key_here";let fe=null;jo.includes("your_supabase")||(fe=Ct(jo,sb));class No{static async getUserProfile(e){if(!fe)return console.warn("Supabase not configured. Using mock data."),this.getMockUserProfile(e);try{const{data:s,error:n}=await fe.from("user_profiles").select("*").eq("wallet_address",e).single();if(n)throw n;return s}catch(s){return console.error("Error fetching user profile:",s),this.getMockUserProfile(e)}}static async upsertUserProfile(e){if(!fe)return console.warn("Supabase not configured. Using mock data."),this.getMockUserProfile(e.wallet_address||"");try{const{data:s,error:n}=await fe.from("user_profiles").upsert(e,{onConflict:"wallet_address"}).select().single();if(n)throw n;return s}catch(s){return console.error("Error upserting user profile:",s),null}}static async getUserSettings(e){if(!fe)return console.warn("Supabase not configured. Using mock data."),this.getMockUserSettings(e);try{const{data:s,error:n}=await fe.from("user_settings").select("*").eq("user_id",e).single();if(n)throw n;return s}catch(s){return console.error("Error fetching user settings:",s),this.getMockUserSettings(e)}}static async updateUserSettings(e){if(!fe)return console.warn("Supabase not configured. Using mock data."),this.getMockUserSettings(e.user_id||"");try{const{data:s,error:n}=await fe.from("user_settings").upsert(e,{onConflict:"user_id"}).select().single();if(n)throw n;return s}catch(s){return console.error("Error updating user settings:",s),null}}static async getUserTradingStats(e){if(!fe)return console.warn("Supabase not configured. Using mock data."),{totalTrades:156,winRate:68.5,totalProfit:2347.5,activePositions:8,completedTrades:24};try{const{data:s,error:n}=await fe.from("user_trades").select("*").eq("wallet_address",e);if(n)throw n;const i=(s==null?void 0:s.length)||0,o=(s==null?void 0:s.filter(c=>c.outcome==="win").length)||0,a=i>0?o/i*100:0,l=(s==null?void 0:s.reduce((c,d)=>c+(d.profit||0),0))||0;return{totalTrades:i,winRate:a,totalProfit:l,activePositions:(s==null?void 0:s.filter(c=>c.status==="active").length)||0,completedTrades:(s==null?void 0:s.filter(c=>c.status==="completed").length)||0}}catch(s){return console.error("Error fetching trading stats:",s),{totalTrades:0,winRate:0,totalProfit:0,activePositions:0,completedTrades:0}}}static getMockUserProfile(e){return{id:"1",wallet_address:e,username:"climate_trader",email:"alex.johnson@example.com",full_name:"Alex Johnson",bio:"Passionate about climate prediction markets and sustainable investing. Trading since 2023.",location:"San Francisco, CA",avatar_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",trading_level:"Advanced",total_trades:156,win_rate:68.5,total_profit:2347.5,join_date:"2023-03-15",created_at:"2023-03-15T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}}static getMockUserSettings(e){return{id:"1",user_id:e,theme:"dark",language:"en",timezone:"UTC",currency:"USD",default_trade_amount:50,auto_confirm_trades:!1,show_advanced_charts:!0,risk_level:"medium",email_notifications:!0,push_notifications:!0,trade_alerts:!0,market_updates:!1,price_alerts:!0,two_factor_auth:!0,session_timeout:30,login_notifications:!0,profile_visibility:"public",show_trading_history:!0,allow_data_analytics:!0,created_at:"2023-03-15T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}}}function rb(){const[t,e]=y.useState(!1),[s,n]=y.useState(!1),[i,o]=y.useState("personal"),[a,l]=y.useState(null),[c,d]=y.useState(!0),u=localStorage.getItem("userAddress")||"0x1234567890123456789012345678901234567890";if(y.useEffect(()=>{(async()=>{try{const w=await No.getUserProfile(u);l(w)}catch(w){console.error("Error loading user profile:",w)}finally{d(!1)}})()},[u]),c)return r.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-400",children:"Loading profile..."})]})})});if(!a)return r.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-400",children:"Failed to load user profile"}),r.jsx(A,{to:"/dashboard",className:"text-blue-400 hover:text-blue-300 mt-4 inline-block",children:"Back to Dashboard"})]})})});const[h,m]=y.useState({name:a.full_name||"",email:a.email||"",username:a.username,location:a.location||"",bio:a.bio||"",currentPassword:"",newPassword:"",confirmPassword:""}),f=(b,w)=>{m(v=>({...v,[b]:w}))},g=async()=>{try{const b=await No.upsertUserProfile({wallet_address:u,full_name:h.name,email:h.email,username:h.username,location:h.location,bio:h.bio});b&&(l(b),console.log("Profile saved successfully"))}catch(b){console.error("Error saving profile:",b)}e(!1)},p=()=>{m({name:a.full_name||"",email:a.email||"",username:a.username,location:a.location||"",bio:a.bio||"",currentPassword:"",newPassword:"",confirmPassword:""}),e(!1)},x=[{icon:zi,title:"First Trade",description:"Completed your first trade",earned:"2023-03-16"},{icon:de,title:"Profit Maker",description:"Made your first profit",earned:"2023-04-02"},{icon:hl,title:"Active Trader",description:"Completed 50 trades",earned:"2023-06-15"},{icon:rn,title:"Sharp Shooter",description:"Achieved 70% win rate",earned:"2023-08-22"}];return r.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs(A,{to:"/dashboard",className:"text-blue-400 hover:text-blue-300 flex items-center mb-6",children:[r.jsx(ce,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Profile"}),r.jsxs("button",{onClick:()=>e(!t),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Gi,{className:"w-4 h-4"}),r.jsx("span",{children:t?"Cancel":"Edit Profile"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:a.avatar_url||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",alt:a.full_name||a.username,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-800"}),t&&r.jsx("button",{className:"absolute bottom-0 right-0 bg-blue-600 p-2 rounded-full hover:bg-blue-700 transition-colors",children:r.jsx(Gi,{className:"w-4 h-4"})})]}),r.jsx("h2",{className:"text-xl font-semibold mt-4",children:a.full_name||a.username}),r.jsxs("p",{className:"text-gray-400",children:["@",a.username]}),r.jsxs("div",{className:"flex items-center justify-center mt-2",children:[r.jsx(L,{className:"w-4 h-4 text-green-500 mr-1"}),r.jsx("span",{className:"text-sm text-green-500",children:"Verified"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(vt,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-300",children:user.email})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Le,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-300",children:["Joined ",new Date(user.joinDate).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(gl,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-300",children:user.location})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(qm,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-300 font-mono",children:[user.walletAddress.slice(0,6),"...",user.walletAddress.slice(-4)]})]})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Trading Statistics"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Total Trades:"}),r.jsx("span",{className:"text-white",children:user.totalTrades})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Win Rate:"}),r.jsxs("span",{className:"text-green-500",children:[user.winRate,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Total Profit:"}),r.jsxs("span",{className:"text-green-500",children:["$",user.totalProfit.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Level:"}),r.jsx("span",{className:"text-blue-500",children:user.tradingLevel})]})]})]})]})}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"flex space-x-1 bg-gray-900 rounded-lg p-1 mb-6",children:[{id:"personal",label:"Personal Info",icon:wt},{id:"security",label:"Security",icon:be},{id:"achievements",label:"Achievements",icon:zi}].map(b=>r.jsxs("button",{onClick:()=>o(b.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${i===b.id?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[r.jsx(b.icon,{className:"h-4 w-4"}),r.jsx("span",{children:b.label})]},b.id))}),i==="personal"&&r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Personal Information"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Full Name"}),r.jsx("input",{type:"text",value:h.name,onChange:b=>f("name",b.target.value),disabled:!t,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Username"}),r.jsx("input",{type:"text",value:h.username,onChange:b=>f("username",b.target.value),disabled:!t,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white disabled:opacity-50"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",value:h.email,onChange:b=>f("email",b.target.value),disabled:!t,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Location"}),r.jsx("input",{type:"text",value:h.location,onChange:b=>f("location",b.target.value),disabled:!t,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white disabled:opacity-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Bio"}),r.jsx("textarea",{value:h.bio,onChange:b=>f("bio",b.target.value),disabled:!t,rows:4,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white disabled:opacity-50 resize-none"})]}),t&&r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsxs("button",{onClick:g,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(yl,{className:"w-4 h-4"}),r.jsx("span",{children:"Save Changes"})]}),r.jsxs("button",{onClick:p,className:"flex items-center space-x-2 px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[r.jsx(ar,{className:"w-4 h-4"}),r.jsx("span",{children:"Cancel"})]})]})]})]}),i==="security"&&r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Security Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:s?"text":"password",value:h.currentPassword,onChange:b=>f("currentPassword",b.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white pr-12"}),r.jsx("button",{onClick:()=>n(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:s?r.jsx(Mn,{className:"w-4 h-4"}):r.jsx(rr,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"New Password"}),r.jsx("input",{type:"password",value:h.newPassword,onChange:b=>f("newPassword",b.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Confirm New Password"}),r.jsx("input",{type:"password",value:h.confirmPassword,onChange:b=>f("confirmPassword",b.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white"})]}),r.jsx("div",{className:"pt-4",children:r.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update Password"})})]})]}),i==="achievements"&&r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Achievements"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map((b,w)=>r.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800 rounded-lg",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(b.icon,{className:"w-8 h-8 text-yellow-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-white",children:b.title}),r.jsx("p",{className:"text-sm text-gray-400",children:b.description}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Earned ",b.earned]})]})]},w))})]})]})]})]})})}function nb(){const[t,e]=y.useState("general"),[s,n]=y.useState(!1),[i,o]=y.useState(!1),[a,l]=y.useState({theme:"dark",language:"en",timezone:"UTC",currency:"USD",defaultTradeAmount:50,autoConfirmTrades:!1,showAdvancedCharts:!0,riskLevel:"medium",emailNotifications:!0,pushNotifications:!0,tradeAlerts:!0,marketUpdates:!1,priceAlerts:!0,twoFactorAuth:!0,sessionTimeout:30,loginNotifications:!0,profileVisibility:"public",showTradingHistory:!0,allowDataAnalytics:!0}),c=(h,m)=>{l(f=>({...f,[h]:m}))},d=()=>{console.log("Saving settings:",a),o(!1)},u=()=>{o(!1)};return r.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs(A,{to:"/dashboard",className:"text-blue-400 hover:text-blue-300 flex items-center mb-6",children:[r.jsx(ce,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Settings"}),r.jsx("p",{className:"text-gray-400",children:"Manage your account preferences and security"})]}),i&&r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(yl,{className:"w-4 h-4"}),r.jsx("span",{children:"Save Changes"})]}),r.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[r.jsx(ar,{className:"w-4 h-4"}),r.jsx("span",{children:"Cancel"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:r.jsx("nav",{className:"space-y-2",children:[{id:"general",label:"General",icon:ir},{id:"trading",label:"Trading",icon:Je},{id:"notifications",label:"Notifications",icon:En},{id:"security",label:"Security",icon:be},{id:"privacy",label:"Privacy",icon:wt}].map(h=>r.jsxs("button",{onClick:()=>e(h.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-colors ${t===h.id?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[r.jsx(h.icon,{className:"w-5 h-5"}),r.jsx("span",{children:h.label})]},h.id))})})}),r.jsxs("div",{className:"lg:col-span-3",children:[t==="general"&&r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"General Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Theme"}),r.jsxs("select",{value:a.theme,onChange:h=>c("theme",h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[r.jsx("option",{value:"dark",children:"Dark"}),r.jsx("option",{value:"light",children:"Light"}),r.jsx("option",{value:"auto",children:"Auto"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Language"}),r.jsxs("select",{value:a.language,onChange:h=>c("language",h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"es",children:"Spanish"}),r.jsx("option",{value:"fr",children:"French"}),r.jsx("option",{value:"de",children:"German"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Timezone"}),r.jsxs("select",{value:a.timezone,onChange:h=>c("timezone",h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[r.jsx("option",{value:"UTC",children:"UTC"}),r.jsx("option",{value:"EST",children:"Eastern Time"}),r.jsx("option",{value:"PST",children:"Pacific Time"}),r.jsx("option",{value:"GMT",children:"GMT"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Currency"}),r.jsxs("select",{value:a.currency,onChange:h=>c("currency",h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[r.jsx("option",{value:"USD",children:"USD ($)"}),r.jsx("option",{value:"EUR",children:"EUR ()"}),r.jsx("option",{value:"GBP",children:"GBP ()"}),r.jsx("option",{value:"JPY",children:"JPY ()"})]})]})]})]})]}),t==="trading"&&r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Trading Preferences"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Default Trade Amount ($)"}),r.jsx("input",{type:"number",value:a.defaultTradeAmount,onChange:h=>c("defaultTradeAmount",parseInt(h.target.value)),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",min:"1",max:"10000"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:"Auto-confirm trades"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Automatically confirm trades without manual review"})]}),r.jsx("button",{onClick:()=>c("autoConfirmTrades",!a.autoConfirmTrades),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.autoConfirmTrades?"bg-blue-600":"bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.autoConfirmTrades?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:"Show advanced charts"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Display technical indicators and advanced charting tools"})]}),r.jsx("button",{onClick:()=>c("showAdvancedCharts",!a.showAdvancedCharts),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.showAdvancedCharts?"bg-blue-600":"bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.showAdvancedCharts?"translate-x-6":"translate-x-1"}`})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Risk Level"}),r.jsxs("select",{value:a.riskLevel,onChange:h=>c("riskLevel",h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[r.jsx("option",{value:"low",children:"Low Risk"}),r.jsx("option",{value:"medium",children:"Medium Risk"}),r.jsx("option",{value:"high",children:"High Risk"})]})]})]})]}),t==="notifications"&&r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Notification Preferences"}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via email"})]}),r.jsx("button",{onClick:()=>c("emailNotifications",!a.emailNotifications),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.emailNotifications?"bg-blue-600":"bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.emailNotifications?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:"Push Notifications"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications on your device"})]}),r.jsx("button",{onClick:()=>c("pushNotifications",!a.pushNotifications),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.pushNotifications?"bg-blue-600":"bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.pushNotifications?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:"Trade Alerts"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Get notified when your trades are executed"})]}),r.jsx("button",{onClick:()=>c("tradeAlerts",!a.tradeAlerts),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.tradeAlerts?"bg-blue-600":"bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.tradeAlerts?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:"Market Updates"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Receive daily market summaries"})]}),r.jsx("button",{onClick:()=>c("marketUpdates",!a.marketUpdates),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.marketUpdates?"bg-blue-600":"bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.marketUpdates?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:"Price Alerts"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Get notified when markets reach target prices"})]}),r.jsx("button",{onClick:()=>c("priceAlerts",!a.priceAlerts),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.priceAlerts?"bg-blue-600":"bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.priceAlerts?"translate-x-6":"translate-x-1"}`})})]})]})})]}),t==="security"&&r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Security Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Add an extra layer of security to your account"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-sm text-green-500",children:"Enabled"}),r.jsx(L,{className:"w-5 h-5 text-green-500"})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:"Login Notifications"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Get notified of new login attempts"})]}),r.jsx("button",{onClick:()=>c("loginNotifications",!a.loginNotifications),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.loginNotifications?"bg-blue-600":"bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.loginNotifications?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Session Timeout (minutes)"}),r.jsxs("select",{value:a.sessionTimeout,onChange:h=>c("sessionTimeout",parseInt(h.target.value)),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[r.jsx("option",{value:15,children:"15 minutes"}),r.jsx("option",{value:30,children:"30 minutes"}),r.jsx("option",{value:60,children:"1 hour"}),r.jsx("option",{value:120,children:"2 hours"})]})]}),r.jsx("div",{className:"p-4 bg-yellow-900/20 border border-yellow-800 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(sr,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-yellow-400",children:"Security Tip"}),r.jsx("p",{className:"text-sm text-yellow-200 mt-1",children:"Consider enabling two-factor authentication and using a strong, unique password for enhanced security."})]})]})})]})]}),t==="privacy"&&r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Privacy Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Profile Visibility"}),r.jsxs("select",{value:a.profileVisibility,onChange:h=>c("profileVisibility",h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[r.jsx("option",{value:"public",children:"Public"}),r.jsx("option",{value:"private",children:"Private"}),r.jsx("option",{value:"friends",children:"Friends Only"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:"Show Trading History"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Allow others to see your trading activity"})]}),r.jsx("button",{onClick:()=>c("showTradingHistory",!a.showTradingHistory),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.showTradingHistory?"bg-blue-600":"bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.showTradingHistory?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white",children:"Allow Data Analytics"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Help improve our service with anonymous usage data"})]}),r.jsx("button",{onClick:()=>c("allowDataAnalytics",!a.allowDataAnalytics),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.allowDataAnalytics?"bg-blue-600":"bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.allowDataAnalytics?"translate-x-6":"translate-x-1"}`})})]})]})]})]})]})]})]})})}function ib(){return r.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs(A,{to:"/",className:"inline-flex items-center text-gray-400 hover:text-white transition-colors mb-6",children:[r.jsx(ce,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(fl,{className:"w-8 h-8 text-blue-500"}),r.jsx("h1",{className:"text-3xl font-bold",children:" Frequently Asked Questions (FAQ)"})]}),r.jsx("p",{className:"text-xl text-gray-300",children:"Find answers to common questions about climate prediction markets and how to get started."})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What is a prediction market?"}),r.jsx("p",{className:"text-gray-300",children:"A prediction market lets people bet on future outcomes. The price of a share represents the collective belief in the likelihood of that event occurring."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Is this legal?"}),r.jsx("p",{className:"text-gray-300",children:"climate.markets is a decentralized platform operating in accordance with applicable law. Users in restricted jurisdictions (e.g. U.S., U.K.) may only access non-trading features like climate data and forecasts. Always consult local laws."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"How do I fund my account?"}),r.jsx("p",{className:"text-gray-300",children:"You can connect a crypto wallet (e.g. MetaMask) and fund your account using USDC or another supported stablecoin. In some jurisdictions, fiat on-ramps via card or bank transfer may be supported."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"How are outcomes verified?"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Markets resolve using publicly available, verifiable data from trusted sources like:"}),r.jsxs("ul",{className:"space-y-2 text-gray-300",children:[r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(L,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{children:"NOAA (National Oceanic and Atmospheric Administration)"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(L,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{children:"ECMWF (European Centre for Medium-Range Weather Forecasts)"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(L,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{children:"IPFS-stored climate oracles (e.g. UMA's Optimistic Oracle)"})]})]})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Can I sell my shares before the event resolves?"}),r.jsx("p",{className:"text-gray-300",children:"Yes. You can sell YES/NO shares any time before the market closes. This allows you to take profits or cut losses early."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What happens if there's a dispute?"}),r.jsx("p",{className:"text-gray-300",children:"Markets include a dispute window. Challenges can be raised based on incorrect data or unclear criteria, and resolved via governance or oracle escalation. Final outcomes are transparently recorded on-chain."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Are there trading limits or fees?"}),r.jsx("p",{className:"text-gray-300",children:"There are no trading limits. Fees are minimal and used to support oracle resolution and platform upkeep. All fees are disclosed before you place a trade."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What kind of climate data can I trade on?"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Currently supported categories include:"}),r.jsxs("ul",{className:"space-y-2 text-gray-300",children:[r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(tn,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{children:"Rainfall, snowfall, and drought"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(Is,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{children:"Natural disasters (hurricanes, wildfires, earthquakes)"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(Ds,{className:"w-4 h-4 text-orange-400"}),r.jsx("span",{children:"Climate records (temperature highs, rainfall records, wind speeds)"})]})]}),r.jsx("p",{className:"text-gray-300 mt-4",children:"More data types (e.g. soil moisture, El Nio cycles, coral bleaching) will be added over time."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Can I create my own market?"}),r.jsx("p",{className:"text-gray-300",children:"Yes  advanced users can propose and fund new markets with custom parameters. We offer tooling for community-created forecasts with staked incentives."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Who is behind climate.markets?"}),r.jsx("p",{className:"text-gray-300",children:"climate.markets is developed by a distributed collective of climate technologists, forecasters, and Web3 developers committed to using markets to improve climate intelligence and transparency."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What wallets and networks are supported?"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Wallets:"}),r.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[r.jsx("li",{children:" MetaMask"}),r.jsx("li",{children:" Coinbase Wallet"}),r.jsx("li",{children:" WalletConnect"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Networks:"}),r.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[r.jsx("li",{children:" Polygon (mainnet)"}),r.jsx("li",{children:" Others coming soon"})]})]})]})]})]}),r.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Still Have Questions?"}),r.jsx("p",{className:"text-blue-100 mb-6",children:"Learn more about how climate prediction markets work and get started trading."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(A,{to:"/how-it-works",className:"inline-flex items-center justify-center px-6 py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:["How It Works",r.jsx(Os,{className:"w-4 h-4 ml-2"})]}),r.jsx(A,{to:"/category/trending",className:"inline-flex items-center justify-center px-6 py-3 border border-white text-white rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"Browse Markets"})]})]})]})})}function ab(){return r.jsxs("div",{className:"min-h-screen bg-black text-white",children:[r.jsx("div",{className:"bg-gray-900 border-b border-gray-800",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"flex items-center mb-6",children:r.jsxs(A,{to:"/",className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[r.jsx(ce,{className:"h-5 w-5 mr-2"}),"Back to Home"]})}),r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(sr,{className:"h-8 w-8 text-yellow-500"}),r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Risk Disclaimer"})]}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Important information about the risks associated with trading climate prediction markets"})]})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(An,{className:"h-6 w-6 text-red-400 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-red-400 mb-2",children:"High Risk Warning"}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Trading climate prediction markets involves substantial risk of loss and is not suitable for all investors. You can lose some or all of your invested capital. Past performance does not guarantee future results."})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(be,{className:"h-6 w-6 text-blue-400 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Market Risk"})]}),r.jsxs("ul",{className:"space-y-2 text-gray-300",children:[r.jsx("li",{children:" Climate data can be unpredictable and volatile"}),r.jsx("li",{children:" Market prices may fluctuate significantly"}),r.jsx("li",{children:" No guarantee of profit or protection against loss"}),r.jsx("li",{children:" Markets may be suspended or closed unexpectedly"})]})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(pl,{className:"h-6 w-6 text-green-400 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Technology Risk"})]}),r.jsxs("ul",{className:"space-y-2 text-gray-300",children:[r.jsx("li",{children:" Smart contract vulnerabilities and bugs"}),r.jsx("li",{children:" Blockchain network congestion and delays"}),r.jsx("li",{children:" Potential for technical failures or outages"}),r.jsx("li",{children:" Risk of losing access to your wallet"})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Understanding Climate Prediction Markets"}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Climate prediction markets allow participants to trade on the outcome of climate-related events. These markets are based on real-world climate data and scientific measurements, but outcomes are not guaranteed and can be affected by various factors including:"}),r.jsxs("ul",{className:"space-y-2 text-gray-300 ml-6",children:[r.jsx("li",{children:" Changes in weather patterns and climate conditions"}),r.jsx("li",{children:" Accuracy and reliability of data sources"}),r.jsx("li",{children:" Market manipulation or gaming attempts"}),r.jsx("li",{children:" Regulatory changes affecting market operations"}),r.jsx("li",{children:" Technical issues with data collection or processing"})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Financial Risks"}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Capital Loss"}),r.jsx("p",{className:"text-gray-300",children:"You can lose your entire investment. Never invest more than you can afford to lose."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Liquidity Risk"}),r.jsx("p",{className:"text-gray-300",children:"Markets may have limited liquidity, making it difficult to buy or sell positions at desired prices."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Volatility"}),r.jsx("p",{className:"text-gray-300",children:"Market prices can be highly volatile and may change rapidly based on new information or events."})]})]})})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Regulatory and Legal Risks"}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Regulatory Changes"}),r.jsx("p",{className:"text-gray-300",children:"Laws and regulations governing prediction markets may change, potentially affecting market operations and the legality of trading activities in your jurisdiction."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Tax Implications"}),r.jsx("p",{className:"text-gray-300",children:"Trading activities may have tax consequences. Consult with a qualified tax professional to understand your obligations."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Legal Status"}),r.jsx("p",{className:"text-gray-300",children:"The legal status of prediction markets varies by jurisdiction. Ensure compliance with local laws before participating."})]})]})})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Technical and Operational Risks"}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Smart Contract Risk"}),r.jsx("p",{className:"text-gray-300",children:"Markets operate on blockchain smart contracts that may contain bugs or vulnerabilities. While audited, no smart contract is completely risk-free."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Network Risk"}),r.jsx("p",{className:"text-gray-300",children:"Blockchain networks may experience congestion, delays, or outages that could affect trading and settlement."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Wallet Security"}),r.jsx("p",{className:"text-gray-300",children:"You are responsible for securing your wallet and private keys. Loss of access to your wallet means loss of your funds."})]})]})})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Data and Information Risks"}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Data Accuracy"}),r.jsx("p",{className:"text-gray-300",children:"Market outcomes depend on the accuracy and reliability of climate data sources. Data errors or delays could affect market results."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Information Asymmetry"}),r.jsx("p",{className:"text-gray-300",children:"Some participants may have access to information not available to all traders, potentially creating unfair advantages."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Market Manipulation"}),r.jsx("p",{className:"text-gray-300",children:"While we implement measures to prevent manipulation, sophisticated actors may attempt to influence market outcomes."})]})]})})]})]}),r.jsxs("div",{className:"bg-blue-900/20 border border-blue-800 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-blue-400 mb-4",children:"Risk Management Recommendations"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-300",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white mb-2",children:"Before Trading:"}),r.jsxs("ul",{className:"space-y-1 text-sm",children:[r.jsx("li",{children:" Understand how prediction markets work"}),r.jsx("li",{children:" Research the specific market and data sources"}),r.jsx("li",{children:" Assess your risk tolerance and financial situation"}),r.jsx("li",{children:" Ensure you have secure wallet access"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white mb-2",children:"While Trading:"}),r.jsxs("ul",{className:"space-y-1 text-sm",children:[r.jsx("li",{children:" Never invest more than you can afford to lose"}),r.jsx("li",{children:" Diversify your positions across multiple markets"}),r.jsx("li",{children:" Monitor your positions regularly"}),r.jsx("li",{children:" Keep your wallet and private keys secure"})]})]})]})]}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(nr,{className:"h-6 w-6 text-gray-400 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Disclaimer Statement"}),r.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"By using Climate Markets, you acknowledge that you have read, understood, and agree to this Risk Disclaimer. You understand that trading climate prediction markets involves substantial risk and that you may lose some or all of your invested capital."}),r.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:'This platform is provided "as is" without warranties of any kind. We do not guarantee the accuracy, completeness, or reliability of any information on this platform. Market outcomes are determined by real-world events and data sources beyond our control.'}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:"You are solely responsible for your trading decisions and the consequences thereof. We recommend consulting with qualified financial, legal, and tax advisors before engaging in any trading activities."})]})]})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400 mb-4",children:"If you have questions about these risks or need clarification, please contact our support team."}),r.jsx(A,{to:"/how-it-works",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"Learn More About Trading"})]})]})})]})}function ob(){return r.jsxs("div",{className:"min-h-screen bg-black text-white",children:[r.jsx("div",{className:"bg-gray-900 border-b border-gray-800",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"flex items-center mb-6",children:r.jsxs(A,{to:"/",className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[r.jsx(ce,{className:"h-5 w-5 mr-2"}),"Back to Home"]})}),r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Fm,{className:"h-8 w-8 text-green-500"}),r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Cookie Policy"})]}),r.jsx("p",{className:"text-gray-400 text-lg",children:"How we use cookies and similar technologies on Climate Markets"})]})}),r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"What Are Cookies?"}),r.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Cookies are small text files that are stored on your device when you visit our website. They help us provide you with a better experience by remembering your preferences, analyzing how you use our site, and enabling certain features to work properly."}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:"This policy explains how we use cookies and similar technologies on Climate Markets, what types of cookies we use, and how you can manage your cookie preferences."})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Types of Cookies We Use"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(be,{className:"h-6 w-6 text-blue-400 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Essential Cookies"})]}),r.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies are necessary for the website to function properly and cannot be disabled."}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:" Authentication and security"}),r.jsx("li",{children:" Session management"}),r.jsx("li",{children:" CSRF protection"}),r.jsx("li",{children:" Load balancing"})]})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(rr,{className:"h-6 w-6 text-green-400 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Analytics Cookies"})]}),r.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies help us understand how visitors interact with our website."}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:" Page views and navigation"}),r.jsx("li",{children:" User behavior analysis"}),r.jsx("li",{children:" Performance monitoring"}),r.jsx("li",{children:" Error tracking"})]})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ir,{className:"h-6 w-6 text-purple-400 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Preference Cookies"})]}),r.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies remember your choices and preferences to personalize your experience."}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:" Language preferences"}),r.jsx("li",{children:" Theme settings"}),r.jsx("li",{children:" Display preferences"}),r.jsx("li",{children:" Trading preferences"})]})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Bm,{className:"h-6 w-6 text-yellow-400 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Functional Cookies"})]}),r.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies enable enhanced functionality and personalization."}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:" Wallet connections"}),r.jsx("li",{children:" Trading history"}),r.jsx("li",{children:" Market favorites"}),r.jsx("li",{children:" Social features"})]})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Third-Party Cookies"}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"We may use third-party services that place cookies on your device. These services help us provide better functionality and analyze our website performance."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Web3Modal"}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Used for wallet connection functionality. Stores wallet connection preferences and session data."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Supabase"}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Our backend service provider. May use cookies for authentication and session management."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Analytics Services"}),r.jsx("p",{className:"text-gray-300 text-sm",children:"We may use analytics services to understand user behavior and improve our platform."})]})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Cookie Duration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(yt,{className:"h-6 w-6 text-red-400 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Session Cookies"})]}),r.jsx("p",{className:"text-gray-300 text-sm",children:"These cookies are deleted when you close your browser. They are used for temporary session management and security."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(yt,{className:"h-6 w-6 text-yellow-400 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Persistent Cookies"})]}),r.jsx("p",{className:"text-gray-300 text-sm",children:"These cookies remain on your device for a set period (usually 30 days to 1 year) and are used to remember your preferences."})]}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(yt,{className:"h-6 w-6 text-green-400 mr-3"}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Long-term Cookies"})]}),r.jsx("p",{className:"text-gray-300 text-sm",children:"These cookies may remain for up to 2 years and are used for analytics and improving user experience over time."})]})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Managing Your Cookie Preferences"}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Browser Settings"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"You can control cookies through your browser settings. Most browsers allow you to:"}),r.jsxs("ul",{className:"space-y-2 text-gray-300 ml-6",children:[r.jsx("li",{children:" Block all cookies"}),r.jsx("li",{children:" Block third-party cookies"}),r.jsx("li",{children:" Delete existing cookies"}),r.jsx("li",{children:" Set cookie preferences for specific sites"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Cookie Consent"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"When you first visit our website, you'll see a cookie consent banner. You can:"}),r.jsxs("ul",{className:"space-y-2 text-gray-300 ml-6",children:[r.jsx("li",{children:" Accept all cookies"}),r.jsx("li",{children:" Accept only essential cookies"}),r.jsx("li",{children:" Customize your preferences"}),r.jsx("li",{children:" Change your preferences later"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Impact of Disabling Cookies"}),r.jsx("p",{className:"text-gray-300",children:"Disabling certain cookies may affect the functionality of our website. Essential cookies cannot be disabled as they are required for basic functionality."})]})]})})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Data Protection and Privacy"}),r.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Data Collection"}),r.jsx("p",{className:"text-gray-300",children:"Cookies may collect information such as your IP address, browser type, device information, and usage patterns. This information is used to improve our services and provide a better user experience."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Data Sharing"}),r.jsx("p",{className:"text-gray-300",children:"We do not sell your personal information. Cookie data may be shared with trusted third-party service providers who help us operate our platform, but only for the purposes described in this policy."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Security"}),r.jsx("p",{className:"text-gray-300",children:"We implement appropriate security measures to protect cookie data. All cookies are transmitted over secure connections, and sensitive information is encrypted."})]})]})})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Updates to This Policy"}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"We may update this Cookie Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will notify you of any material changes by posting the updated policy on our website."}),r.jsx("p",{className:"text-gray-300",children:'The "Last Updated" date at the bottom of this policy indicates when it was last revised. We encourage you to review this policy periodically.'})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Contact Information"}),r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[r.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"If you have any questions about our use of cookies or this Cookie Policy, please contact us:"}),r.jsxs("div",{className:"space-y-2 text-gray-300",children:[r.jsx("p",{children:" Email: privacy@climatemarkets.com"}),r.jsx("p",{children:" Support: support@climatemarkets.com"}),r.jsx("p",{children:" Address: [Your Company Address]"})]})]})]})]}),r.jsxs("div",{className:"bg-blue-900/20 border border-blue-800 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Related Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(A,{to:"/privacy",className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[r.jsx(be,{className:"h-4 w-4"}),r.jsx("span",{children:"Privacy Policy"})]}),r.jsxs(A,{to:"/terms",className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx("span",{children:"Terms of Service"})]}),r.jsxs(A,{to:"/risk-disclaimer",className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[r.jsx(be,{className:"h-4 w-4"}),r.jsx("span",{children:"Risk Disclaimer"})]})]})]}),r.jsx("div",{className:"text-center text-gray-400 text-sm",children:r.jsxs("p",{children:["Last Updated: ",new Date().toLocaleDateString()]})})]})})]})}function lb({market:t}){const[e,s]=y.useState(!1);return r.jsxs("div",{className:"relative h-[85vh] w-full overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:r.jsxs($.div,{className:"relative w-96 h-96",animate:{rotate:360},transition:{duration:60,repeat:1/0,ease:"linear"},children:[r.jsxs("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-blue-400 via-blue-600 to-blue-800 shadow-2xl",children:[r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-green-400/20 via-green-600/30 to-green-800/40 opacity-60"}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-blue-300/20 via-blue-500/30 to-blue-700/40 animate-pulse"}),r.jsx($.div,{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white/10 via-white/5 to-transparent",animate:{x:[0,20,0],y:[0,-10,0],opacity:[.3,.6,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),r.jsx($.div,{className:"absolute inset-0 rounded-full border-2 border-blue-400/30",animate:{scale:[1,1.1,1],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]}),[...Array(6)].map((n,i)=>r.jsx($.div,{className:"absolute w-2 h-2 bg-white/60 rounded-full",style:{left:`${20+i*15}%`,top:`${30+i*10}%`},animate:{y:[0,-20,0],opacity:[.3,.8,.3],scale:[1,1.2,1]},transition:{duration:3+i,repeat:1/0,ease:"easeInOut",delay:i*.5}},i))]})}),r.jsx("div",{className:"absolute inset-0",children:[...Array(50)].map((n,i)=>r.jsx($.div,{className:"absolute w-1 h-1 bg-white/40 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{opacity:[.2,1,.2],scale:[1,1.5,1]},transition:{duration:2+Math.random()*3,repeat:1/0,ease:"easeInOut",delay:Math.random()*2}},i))})]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 sm:p-12 lg:p-16",children:r.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[r.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-4",children:t.title}),r.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mb-8",children:t.description}),r.jsxs("div",{className:"flex items-center space-x-8 mb-8",children:[r.jsxs("div",{className:"flex items-center text-green-400",children:[r.jsx(de,{className:"h-5 w-5 mr-2"}),r.jsxs("span",{className:"text-lg font-medium",children:["$",t.volume.toLocaleString()]})]}),r.jsxs("div",{className:"flex items-center text-blue-400",children:[r.jsx(Le,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"text-lg",children:_t(new Date(t.target_date),"MMMM d, yyyy")})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(A,{to:`/market/${t.id}`,className:"inline-flex items-center px-6 py-3 rounded-lg bg-white text-black font-medium hover:bg-gray-200 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105",children:[r.jsx(Ym,{className:"h-5 w-5 mr-2"}),"Trade Now"]}),r.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-6 py-3 rounded-lg bg-gray-600/80 text-white font-medium hover:bg-gray-500/80 transition-colors shadow-lg hover:shadow-xl transform hover:scale-105",children:[r.jsx(pl,{className:"h-5 w-5 mr-2"}),"More Info"]})]})]})}),e&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:r.jsxs($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gray-900 border border-gray-800 rounded-xl p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Market Information"}),r.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(ar,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:t.title}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:t.description})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(de,{className:"h-5 w-5 text-green-400 mr-2"}),r.jsx("span",{className:"text-white font-medium",children:"Trading Volume"})]}),r.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",t.volume.toLocaleString()]})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(Le,{className:"h-5 w-5 text-blue-400 mr-2"}),r.jsx("span",{className:"text-white font-medium",children:"Resolution Date"})]}),r.jsx("p",{className:"text-2xl font-bold text-blue-400",children:_t(new Date(t.target_date),"MMM d, yyyy")})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(At,{className:"h-5 w-5 text-purple-400 mr-2"}),r.jsx("span",{className:"text-white font-medium",children:"Category"})]}),r.jsx("p",{className:"text-lg text-purple-400 capitalize",children:t.category})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(Ds,{className:"h-5 w-5 text-red-400 mr-2"}),r.jsx("span",{className:"text-white font-medium",children:"Current Price"})]}),r.jsxs("p",{className:"text-2xl font-bold text-red-400",children:["$",t.current_price.toFixed(2)]})]})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"How to Trade"}),r.jsxs("div",{className:"space-y-3 text-gray-300",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"1"}),r.jsx("p",{children:"Connect your wallet to start trading"})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"2"}),r.jsx("p",{children:'Choose "Yes" or "No" based on your prediction'})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"3"}),r.jsx("p",{children:"Set your bet amount and confirm the transaction"})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"4"}),r.jsx("p",{children:"Wait for the market to resolve and claim your winnings"})]})]})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx(A,{to:`/market/${t.id}`,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg text-center transition-colors",children:"Start Trading"}),r.jsx("button",{onClick:()=>s(!1),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:"Close"})]})]})]})})]})}function cb({isOpen:t,onClose:e,onLogin:s,onSignup:n,onWalletConnect:i}){const[o,a]=y.useState("login"),[l,c]=y.useState(""),[d,u]=y.useState(""),[h,m]=y.useState(""),[f,g]=y.useState(!1),[p,x]=y.useState(!1),[b,w]=y.useState(""),[v,j]=y.useState(""),N=async M=>{M.preventDefault(),w(""),j(""),x(!0);try{if(o==="signup"){if(!h.trim())throw new Error("Name is required");if(!l.trim())throw new Error("Email is required");if(!l.includes("@"))throw new Error("Please enter a valid email address");if(d.length<6)throw new Error("Password must be at least 6 characters");await new Promise(R=>setTimeout(R,1e3)),n&&n(l,d,h),j("Account created successfully! Please check your email to verify your account."),a("login"),m(""),u("")}else{if(!l.trim())throw new Error("Email is required");if(!d.trim())throw new Error("Password is required");await new Promise(R=>setTimeout(R,1e3)),s&&s(l,d),j("Logged in successfully!"),e()}}catch(R){w(R.message||"An error occurred. Please try again.")}finally{x(!1)}},S=()=>{i&&i(),e()},T=()=>{c(""),u(""),m(""),w(""),j(""),g(!1)},C=()=>{a(o==="login"?"signup":"login"),T()};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[r.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:r.jsx(ar,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome to Climate Markets"}),r.jsx("p",{className:"text-gray-400",children:o==="signup"?"Create your account to start trading climate predictions":"Connect your wallet or sign in to start trading"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:[r.jsx(Ls,{className:"w-5 h-5"}),r.jsx("span",{children:"Connect Wallet"})]}),r.jsxs("div",{className:"flex items-center my-4",children:[r.jsx("div",{className:"flex-1 border-t border-gray-700"}),r.jsx("span",{className:"px-4 text-gray-400 text-sm",children:"or"}),r.jsx("div",{className:"flex-1 border-t border-gray-700"})]})]}),r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[o==="signup"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",value:h,onChange:M=>m(M.target.value),placeholder:"Enter your full name",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 transition-colors",disabled:p})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"email",value:l,onChange:M=>c(M.target.value),placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 transition-colors",disabled:p})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:f?"text":"password",value:d,onChange:M=>u(M.target.value),placeholder:o==="signup"?"Create a password":"Enter your password",className:"w-full pl-10 pr-12 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 transition-colors",disabled:p}),r.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:p,children:f?r.jsx(Mn,{className:"w-4 h-4"}):r.jsx(rr,{className:"w-4 h-4"})})]}),o==="signup"&&r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Password must be at least 6 characters long"})]}),b&&r.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-900/20 border border-red-800 rounded-lg",children:[r.jsx(An,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-red-400",children:b})]}),v&&r.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-900/20 border border-green-800 rounded-lg",children:[r.jsx(L,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-green-400",children:v})]}),r.jsx("button",{type:"submit",disabled:p,className:"w-full flex items-center justify-center space-x-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:p?r.jsxs(r.Fragment,{children:[r.jsx(sn,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Processing..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:o==="signup"?"Create Account":"Sign In"}),r.jsx(Im,{className:"w-4 h-4"})]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-gray-400",children:[o==="login"?"Don't have an account?":"Already have an account?",r.jsx("button",{onClick:C,className:"ml-2 text-blue-400 hover:text-blue-300 font-medium transition-colors",children:o==="login"?"Sign Up":"Log In"})]})}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-800",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 bg-gray-800 hover:bg-gray-700 text-white py-2 px-4 rounded-lg transition-colors",children:[r.jsx(vt,{className:"w-4 h-4"}),r.jsx("span",{children:"Continue with Google"})]}),r.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 bg-gray-800 hover:bg-gray-700 text-white py-2 px-4 rounded-lg transition-colors",children:[r.jsx(Rs,{className:"w-4 h-4"}),r.jsx("span",{children:"Continue with Phone"})]})]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-xs text-gray-400",children:["By continuing, you agree to our"," ",r.jsx("a",{href:"/terms",className:"text-blue-400 hover:text-blue-300",children:"Terms of Service"})," ","and"," ",r.jsx("a",{href:"/privacy",className:"text-blue-400 hover:text-blue-300",children:"Privacy Policy"})]})})]})}):null}function db({isConnected:t,userAddress:e,onConnect:s,onDisconnect:n}){const[i,o]=y.useState(!1),[a,l]=y.useState(!1),[c,d]=y.useState(""),[u,h]=y.useState(""),m=x=>`${x.slice(0,6)}...${x.slice(-4)}`,f=(x,b)=>{console.log("Login with email:",x),d(x),o(!1)},g=(x,b,w)=>{console.log("Signup with email:",x,"name:",w),d(x),h(w),o(!1)},p=()=>{console.log("Connecting wallet..."),s(),o(!1)};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-sm border-b border-gray-800",children:r.jsx("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-12",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-400",children:"Climate Markets"}),r.jsx("div",{className:"h-4 w-px bg-gray-700"}),r.jsx("span",{className:"text-xs text-green-400",children:"Live Trading"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{className:"p-1.5 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors",children:r.jsx(En,{className:"h-4 w-4 text-gray-400"})}),t?r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>l(!a),className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors",children:[r.jsx(Ls,{className:"h-4 w-4 text-green-400"}),r.jsx("span",{className:"text-xs text-white font-medium",children:e?m(e):"Connected"}),r.jsx(wt,{className:"h-4 w-4 text-gray-400"})]}),a&&r.jsx($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute right-0 top-full mt-2 w-48 bg-gray-900 border border-gray-800 rounded-lg shadow-lg",children:r.jsxs("div",{className:"p-2 space-y-1",children:[r.jsxs("button",{className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-gray-300 hover:text-white hover:bg-gray-800 rounded transition-colors",children:[r.jsx(wt,{className:"h-4 w-4"}),r.jsx("span",{children:"Profile"})]}),r.jsxs("button",{className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-gray-300 hover:text-white hover:bg-gray-800 rounded transition-colors",children:[r.jsx(ir,{className:"h-4 w-4"}),r.jsx("span",{children:"Settings"})]}),r.jsx("div",{className:"h-px bg-gray-800 my-1"}),r.jsxs("button",{onClick:n,className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-gray-800 rounded transition-colors",children:[r.jsx(Km,{className:"h-4 w-4"}),r.jsx("span",{children:"Disconnect"})]})]})})]}):r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:s,className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg bg-blue-600 hover:bg-blue-700 transition-colors",children:[r.jsx(Ls,{className:"h-4 w-4 text-white"}),r.jsx("span",{className:"text-xs text-white font-medium",children:"Connect Wallet"})]}),r.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors",children:[r.jsx(zm,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-gray-300",children:"Log In"})]}),r.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg bg-green-600 hover:bg-green-700 transition-colors",children:[r.jsx(Xm,{className:"h-4 w-4 text-white"}),r.jsx("span",{className:"text-xs text-white font-medium",children:"Sign Up"})]})]})]})]})})}),r.jsx(cb,{isOpen:i,onClose:()=>o(!1),onLogin:f,onSignup:g,onWalletConnect:p})]})}function ub(){const t=new Date().getFullYear();return r.jsx("footer",{className:"bg-black border-t border-gray-800",children:r.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ml,{className:"h-8 w-8 text-green-500"}),r.jsx("span",{className:"text-xl font-bold text-white",children:"Climate Markets"})]}),r.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Decentralized climate prediction markets. Trade the future of our planet."}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("a",{href:"https://twitter.com/climatemarkets",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors",children:r.jsx(Jm,{className:"h-5 w-5"})}),r.jsx("a",{href:"https://github.com/climatemarkets",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-300 transition-colors",children:r.jsx(Wm,{className:"h-5 w-5"})}),r.jsx("a",{href:"mailto:hello@climate.markets",className:"text-gray-400 hover:text-green-400 transition-colors",children:r.jsx(vt,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-white font-semibold",children:"Product"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsx(A,{to:"/category/trending",className:"text-gray-400 hover:text-white transition-colors",children:"Trending Markets"})}),r.jsx("li",{children:r.jsx(A,{to:"/category/temperature",className:"text-gray-400 hover:text-white transition-colors",children:"Temperature Predictions"})}),r.jsx("li",{children:r.jsx(A,{to:"/category/emissions",className:"text-gray-400 hover:text-white transition-colors",children:"Carbon Emissions"})}),r.jsx("li",{children:r.jsx(A,{to:"/wallet",className:"text-gray-400 hover:text-white transition-colors",children:"Wallet Integration"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-white font-semibold",children:"Support"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"https://docs.climate.markets",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-1",children:[r.jsx("span",{children:"Documentation"}),r.jsx(Qe,{className:"h-3 w-3"})]})}),r.jsx("li",{children:r.jsxs("a",{href:"https://discord.gg/climatemarkets",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-1",children:[r.jsx("span",{children:"Discord Community"}),r.jsx(Qe,{className:"h-3 w-3"})]})}),r.jsx("li",{children:r.jsx("a",{href:"mailto:support@climate.markets",className:"text-gray-400 hover:text-white transition-colors",children:"Contact Support"})}),r.jsx("li",{children:r.jsx(A,{to:"/how-it-works",className:"text-gray-400 hover:text-white transition-colors",children:"How It Works"})}),r.jsx("li",{children:r.jsx(A,{to:"/faq",className:"text-gray-400 hover:text-white transition-colors",children:"FAQ"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-white font-semibold",children:"Legal"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs(A,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-1",children:[r.jsx(be,{className:"h-3 w-3"}),r.jsx("span",{children:"Privacy Policy"})]})}),r.jsx("li",{children:r.jsxs(A,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-1",children:[r.jsx(nr,{className:"h-3 w-3"}),r.jsx("span",{children:"Terms of Use"})]})}),r.jsx("li",{children:r.jsx(A,{to:"/risk-disclaimer",className:"text-gray-400 hover:text-white transition-colors",children:"Risk Disclaimer"})}),r.jsx("li",{children:r.jsx(A,{to:"/cookie-policy",className:"text-gray-400 hover:text-white transition-colors",children:"Cookie Policy"})})]})]})]}),r.jsx("div",{className:"mt-12 pt-8 border-t border-gray-800",children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"text-gray-400 text-sm",children:[" ",t," Climate Markets. All rights reserved."]}),r.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:[r.jsx("span",{children:"Made with  for the planet"}),r.jsx("span",{children:""}),r.jsx("span",{children:"Built on Ethereum"}),r.jsx("span",{children:""}),r.jsx("span",{children:"Open Source"})]})]})})]})})}const ko="your_supabase_project_url_here",_o="your_supabase_anon_key_here",jn=!ko.includes("your_supabase")&&!_o.includes("your_supabase")?Ct(ko,_o):null;jn||console.warn("Supabase not configured. Please add your Supabase credentials to the .env file.");const Ur="55f24b5d234bc2b682d0e649c9def42f",Vr=[ld,cd];let Cs,Qc=!1;if(Ur.includes("your_web3"))console.warn("Web3Modal not configured. Please add your project ID to the .env file."),Cs=yi({autoConnect:!0,chains:Vr});else{const{chains:t}=ad(Vr,[hd({projectId:Ur})]);Cs=yi({autoConnect:!0,chains:t}),Om({wagmiConfig:Cs,projectId:Ur,chains:Vr}),Qc=!0}function hb(){const[t,e]=y.useState([]),[s,n]=y.useState(""),[i,o]=y.useState(!1),[a,l]=y.useState(!1),[c,d]=y.useState("");y.useEffect(()=>{u();const p=localStorage.getItem("walletConnected")==="true",x=localStorage.getItem("userAddress");p&&x&&(l(!0),d(x),console.log("Restored wallet connection:",x));const b=()=>{o(window.scrollY>0)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[]);async function u(){if(!jn){console.warn("Supabase not configured. Using mock data."),e([{id:"1",category_id:"temperature",title:"Global Temperature 2025",description:"Will the global average temperature exceed 1.5C above pre-industrial levels?",target_date:"2025-12-31T23:59:59Z",current_price:.75,volume:125e3,country:"Global",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"}],resolution_criteria:"Based on global average temperature data from major meteorological organizations",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"2",category_id:"emissions",title:"Carbon Emissions Target 2025",description:"Will global carbon emissions decrease by 5% in 2025?",target_date:"2025-12-31T23:59:59Z",current_price:.45,volume:89e3,country:"Global",verification_sources:[{name:"IEA",url:"https://www.iea.org"}],resolution_criteria:"Based on official carbon emission reports from major economies",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"3",category_id:"disasters",title:" Florida  Category 3+ Hurricane Landfall Before Nov 2025",description:"Will a Category 3 or stronger hurricane make landfall in Florida before November 2025?",target_date:"2025-10-31T23:59:59Z",current_price:.28,volume:156e3,country:"USA",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NHC",url:"https://www.nhc.noaa.gov"}],resolution_criteria:"Official hurricane data from National Hurricane Center",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"4",category_id:"disasters",title:" California  Wildfire > 10,000 acres by September",description:"Will a wildfire in California exceed 10,000 acres in size by September 2024?",target_date:"2024-09-01T23:59:59Z",current_price:.54,volume:98e3,country:"USA",verification_sources:[{name:"Cal Fire",url:"https://www.fire.ca.gov"}],resolution_criteria:"Official wildfire data from California Department of Forestry and Fire Protection",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"5",category_id:"records",title:" Phoenix, AZ  All-Time High Temperature Broken in 2025",description:"Will Phoenix, Arizona break its all-time high temperature record in 2025?",target_date:"2025-12-31T23:59:59Z",current_price:.41,volume:67e3,country:"USA",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NWS Phoenix",url:"https://www.weather.gov/psr"}],resolution_criteria:"Official temperature data from National Weather Service Phoenix",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"6",category_id:"records",title:" Atlantic  Fastest Sustained Hurricane Winds in a Decade",description:"Will the Atlantic basin see a hurricane with sustained winds exceeding 180 mph in 2024?",target_date:"2024-11-30T23:59:59Z",current_price:.66,volume:112e3,country:"Atlantic",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NHC",url:"https://www.nhc.noaa.gov"}],resolution_criteria:"Official hurricane wind speed data from National Hurricane Center",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"7",category_id:"precipitation",title:" Minneapolis, MN  Snowfall on Thanksgiving Day",description:"Will there be measurable snowfall (0.1 inches) in Minneapolis, MN on Thanksgiving Day 2024?",target_date:"2024-11-27T23:59:59Z",current_price:.35,volume:89e3,country:"USA",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NWS Minneapolis",url:"https://www.weather.gov/mpx"}],resolution_criteria:"Official snowfall data from National Weather Service Minneapolis",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"8",category_id:"precipitation",title:" Phoenix, AZ  No measurable rain in October",description:"Will Phoenix, Arizona receive no measurable rainfall (0.01 inches) during October 2024?",target_date:"2024-10-31T23:59:59Z",current_price:.72,volume:76e3,country:"USA",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NWS Phoenix",url:"https://www.weather.gov/psr"}],resolution_criteria:"Official precipitation data from National Weather Service Phoenix",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"9",category_id:"temperature",title:" Arctic Sea Ice Minimum 2025",description:"Will Arctic sea ice extent fall below 4 million square kilometers in 2025?",target_date:"2025-09-30T23:59:59Z",current_price:.38,volume:92e3,country:"Arctic",verification_sources:[{name:"NSIDC",url:"https://nsidc.org"}],resolution_criteria:"Official sea ice data from National Snow and Ice Data Center",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"10",category_id:"precipitation",title:" Seattle, WA  Wettest December on Record",description:"Will Seattle, Washington experience its wettest December on record in 2024?",target_date:"2024-12-31T23:59:59Z",current_price:.29,volume:54e3,country:"USA",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NWS Seattle",url:"https://www.weather.gov/sew"}],resolution_criteria:"Official precipitation data from National Weather Service Seattle",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"11",category_id:"emissions",title:" China Coal Consumption 2025",description:"Will China reduce its coal consumption by 3% in 2025 compared to 2024?",target_date:"2025-12-31T23:59:59Z",current_price:.62,volume:78e3,country:"China",verification_sources:[{name:"IEA",url:"https://www.iea.org"},{name:"NBS China",url:"http://www.stats.gov.cn"}],resolution_criteria:"Official energy consumption data from Chinese National Bureau of Statistics",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"12",category_id:"disasters",title:" Pacific  Major Tsunami Warning in 2025",description:"Will a tsunami with wave heights exceeding 3 meters strike any Pacific coast in 2025?",target_date:"2025-12-31T23:59:59Z",current_price:.18,volume:45e3,country:"Pacific",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"USGS",url:"https://www.usgs.gov"}],resolution_criteria:"Official tsunami data from NOAA Tsunami Warning Centers",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"13",category_id:"disasters",title:" Iceland  Volcanic Eruption in 2025",description:"Will a volcanic eruption occur in Iceland with VEI 3 or higher in 2025?",target_date:"2025-12-31T23:59:59Z",current_price:.33,volume:67e3,country:"Iceland",verification_sources:[{name:"IMO",url:"https://en.vedur.is"}],resolution_criteria:"Official volcanic activity data from Icelandic Met Office",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"16",category_id:"disasters",title:" Cat 3+ Hurricane Hits Miami in 2025",description:"Will a Category 3 or stronger hurricane make landfall in Miami, Florida in 2025?",target_date:"2025-11-30T23:59:59Z",current_price:.19,volume:15e3,country:"USA",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NHC",url:"https://www.nhc.noaa.gov"}],resolution_criteria:"Official hurricane landfall data from National Hurricane Center",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"17",category_id:"disasters",title:" Atlantic Hurricane Season Named Storms 2025",description:"How many named storms will occur during the 2025 Atlantic Hurricane Season?",target_date:"2025-11-30T23:59:59Z",current_price:.39,volume:205e3,country:"Atlantic",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NHC",url:"https://www.nhc.noaa.gov"}],resolution_criteria:"Official named storm count from National Hurricane Center",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z",outcomes:[{id:"17a",label:"<12",probability:.06,volume:12300},{id:"17b",label:"12-15",probability:.22,volume:45100},{id:"17c",label:"16-19",probability:.39,volume:79950},{id:"17d",label:"20-23",probability:.17,volume:34850},{id:"17e",label:">23",probability:.12,volume:32800}]},{id:"18",category_id:"disasters",title:" Cat 5 Hurricane US Landfall 2025",description:"Will a Category 5 hurricane make landfall in the United States during the 2025 Hurricane Season?",target_date:"2025-11-30T23:59:59Z",current_price:.11,volume:22e3,country:"USA",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NHC",url:"https://www.nhc.noaa.gov"}],resolution_criteria:"Official hurricane landfall data from National Hurricane Center",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"14",category_id:"records",title:" Death Valley  Hottest Temperature on Earth in 2025",description:"Will Death Valley, California record a temperature of 130F or higher in 2025?",target_date:"2025-12-31T23:59:59Z",current_price:.25,volume:89e3,country:"USA",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NWS Las Vegas",url:"https://www.weather.gov/vef"}],resolution_criteria:"Official temperature data from National Weather Service Las Vegas",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"15",category_id:"records",title:" Antarctica  Coldest Temperature on Earth in 2025",description:"Will Antarctica record a temperature of -90C or lower in 2025?",target_date:"2025-12-31T23:59:59Z",current_price:.41,volume:56e3,country:"Antarctica",verification_sources:[{name:"NSIDC",url:"https://nsidc.org"}],resolution_criteria:"Official temperature data from Antarctic research stations",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}]);return}try{const{data:p,error:x}=await jn.from("prediction_markets").select("*").order("created_at",{ascending:!1});if(x)throw x;e(p||[])}catch(p){console.error("Error fetching markets:",p)}}const h={trending:t.filter(p=>p.volume>5e4),temperature:t.filter(p=>p.title.toLowerCase().includes("temperature")),precipitation:t.filter(p=>p.title.toLowerCase().includes("rain")||p.title.toLowerCase().includes("snow")||p.title.toLowerCase().includes("drought")),emissions:t.filter(p=>p.title.toLowerCase().includes("carbon")),disasters:t.filter(p=>p.title.toLowerCase().includes("hurricane")||p.title.toLowerCase().includes("earthquake")||p.title.toLowerCase().includes("flood")||p.title.toLowerCase().includes("wildfire")),records:t.filter(p=>p.title.toLowerCase().includes("record"))},m=t[0],f=async()=>{try{console.log("Connecting wallet to testnet...");const p="0x1234567890123456789012345678901234567890";l(!0),d(p),localStorage.setItem("walletConnected","true"),localStorage.setItem("userAddress",p),console.log("Wallet connected:",p)}catch(p){console.error("Failed to connect wallet:",p)}},g=()=>{l(!1),d(""),localStorage.removeItem("walletConnected"),localStorage.removeItem("userAddress"),console.log("Wallet disconnected")};return r.jsx(od,{config:Cs,children:r.jsxs("div",{className:"min-h-screen bg-black text-white",children:[r.jsx(Yy,{}),r.jsx(db,{isConnected:a,userAddress:c,onConnect:f,onDisconnect:g}),r.jsx("header",{className:`fixed w-full z-40 transition-all duration-500 ${i?"bg-black":"bg-gradient-to-b from-black/80 to-transparent"}`,style:{top:"48px"},children:r.jsx("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-8",children:[r.jsxs(A,{to:"/",className:"flex items-center",children:[r.jsx(ml,{className:"h-8 w-8 text-green-500"}),r.jsx("h1",{className:"ml-2 text-2xl font-bold bg-gradient-to-r from-green-400 to-blue-500 bg-clip-text text-transparent",children:"Climate Markets"})]}),r.jsxs("nav",{className:"hidden md:flex space-x-6",children:[r.jsx(A,{to:"/category/trending",className:"text-sm text-gray-300 hover:text-white",children:"Trending"}),r.jsx(A,{to:"/category/temperature",className:"text-sm text-gray-300 hover:text-white",children:"Temperature"}),r.jsx(A,{to:"/category/precipitation",className:"text-sm text-gray-300 hover:text-white",children:"Precipitation"}),r.jsx(A,{to:"/category/emissions",className:"text-sm text-gray-300 hover:text-white",children:"Emissions"}),r.jsx(A,{to:"/category/disasters",className:"text-sm text-gray-300 hover:text-white",children:"Natural Disasters"}),r.jsx(A,{to:"/category/records",className:"text-sm text-gray-300 hover:text-white",children:"Records"}),r.jsx(A,{to:"/wallet",className:"text-sm text-blue-400 hover:text-blue-300",children:"Wallet"})]})]}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsx("div",{className:"relative",children:r.jsx(bl,{className:"h-5 w-5 text-gray-400 hover:text-white cursor-pointer transition-colors"})}),r.jsx(En,{className:"h-5 w-5 text-gray-400 hover:text-white cursor-pointer transition-colors"}),Qc&&r.jsx("w3m-button",{})]})]})})}),r.jsxs(cu,{children:[r.jsx(se,{path:"/",element:r.jsxs("main",{children:[m&&r.jsx(lb,{market:m}),r.jsxs("div",{className:"relative z-10 mt-[-100px] pt-24 space-y-8",children:[r.jsx(dt,{title:"Trending Markets",markets:h.trending,id:"trending"}),r.jsx(dt,{title:"Temperature Predictions",markets:h.temperature,id:"temperature"}),r.jsx(dt,{title:"Precipitation Markets",markets:h.precipitation,id:"precipitation"}),r.jsx(dt,{title:"Carbon Emissions",markets:h.emissions,id:"emissions"}),r.jsx(dt,{title:"Natural Disasters",markets:h.disasters,id:"disasters"}),r.jsx(dt,{title:"Climate Records",markets:h.records,id:"records"})]})]})}),r.jsx(se,{path:"/market/:id",element:r.jsx(By,{})}),r.jsx(se,{path:"/category/:category",element:r.jsx(Hy,{})}),r.jsx(se,{path:"/wallet",element:r.jsx(Jy,{})}),r.jsx(se,{path:"/privacy",element:r.jsx(Xy,{})}),r.jsx(se,{path:"/terms",element:r.jsx(Qy,{})}),r.jsx(se,{path:"/how-it-works",element:r.jsx(eb,{})}),r.jsx(se,{path:"/faq",element:r.jsx(ib,{})}),r.jsx(se,{path:"/risk-disclaimer",element:r.jsx(ab,{})}),r.jsx(se,{path:"/cookie-policy",element:r.jsx(ob,{})}),r.jsx(se,{path:"/dashboard",element:r.jsx(tb,{})}),r.jsx(se,{path:"/profile",element:r.jsx(rb,{})}),r.jsx(se,{path:"/settings",element:r.jsx(nb,{})})]}),r.jsx(ub,{})]})})}Po(document.getElementById("root")).render(r.jsx(y.StrictMode,{children:r.jsx(gu,{children:r.jsx(hb,{})})}));
