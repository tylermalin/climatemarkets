import{r as v,a as qc,R as Hc,b as zc,c as ae}from"./vendor-BbzuHON1.js";import{_ as Xt,j as Kc,k as ai,W as Gc,m as Yc,p as Jc}from"./wagmi-DA4gJ8uS.js";import{W as Zc,C as Xc,w as Qc}from"./web3-Dy2sUwh4.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var po={exports:{}},Ds={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed=v,td=Symbol.for("react.element"),sd=Symbol.for("react.fragment"),rd=Object.prototype.hasOwnProperty,nd=ed.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,id={key:!0,ref:!0,__self:!0,__source:!0};function go(t,e,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rd.call(e,r)&&!id.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:td,type:t,key:a,ref:o,props:i,_owner:nd.current}}Ds.Fragment=sd;Ds.jsx=go;Ds.jsxs=go;po.exports=Ds;var n=po.exports,xo,oi=qc;xo=oi.createRoot,oi.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wt(){return Wt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Wt.apply(this,arguments)}var Ae;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ae||(Ae={}));const li="popstate";function ad(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:l}=r.location;return Tr("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:js(i)}return ld(e,s,null,t)}function q(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function od(){return Math.random().toString(36).substr(2,8)}function ci(t,e){return{usr:t.state,key:t.key,idx:e}}function Tr(t,e,s,r){return s===void 0&&(s=null),Wt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yt(e):e,{state:s,key:e&&e.key||r||od()})}function js(t){let{pathname:e="/",search:s="",hash:r=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yt(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ld(t,e,s,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=Ae.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Wt({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Ae.Pop;let g=u(),y=g==null?null:g-d;d=g,c&&c({action:l,location:p.location,delta:y})}function m(g,y){l=Ae.Push;let w=Tr(p.location,g,y);d=u()+1;let b=ci(w,d),j=p.createHref(w);try{o.pushState(b,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(j)}a&&c&&c({action:l,location:p.location,delta:1})}function f(g,y){l=Ae.Replace;let w=Tr(p.location,g,y);d=u();let b=ci(w,d),j=p.createHref(w);o.replaceState(b,"",j),a&&c&&c({action:l,location:p.location,delta:0})}function x(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof g=="string"?g:js(g);return w=w.replace(/ $/,"%20"),q(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return l},get location(){return t(i,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(li,h),c=g,()=>{i.removeEventListener(li,h),c=null}},createHref(g){return e(i,g)},createURL:x,encodeLocation(g){let y=x(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:f,go(g){return o.go(g)}};return p}var di;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(di||(di={}));function cd(t,e,s){return s===void 0&&(s="/"),dd(t,e,s)}function dd(t,e,s,r){let i=typeof e=="string"?yt(e):e,a=un(i.pathname||"/",s);if(a==null)return null;let o=vo(t);ud(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=kd(a);l=bd(o[c],d)}return l}function vo(t,e,s,r){e===void 0&&(e=[]),s===void 0&&(s=[]),r===void 0&&(r="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(q(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Ee([r,c.relativePath]),u=s.concat(c);a.children&&a.children.length>0&&(q(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),vo(a.children,e,u,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:yd(d,a.index),routesMeta:u})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of bo(a.path))i(a,o,c)}),e}function bo(t){let e=t.split("/");if(e.length===0)return[];let[s,...r]=e,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=bo(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function ud(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:vd(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const hd=/^:[\w-]+$/,md=3,fd=2,pd=1,gd=10,xd=-2,ui=t=>t==="*";function yd(t,e){let s=t.split("/"),r=s.length;return s.some(ui)&&(r+=xd),e&&(r+=fd),s.filter(i=>!ui(i)).reduce((i,a)=>i+(hd.test(a)?md:a===""?pd:gd),r)}function vd(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bd(t,e,s){let{routesMeta:r}=t,i={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",h=wd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ee([a,h.pathname]),pathnameBase:Td(Ee([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=Ee([a,h.pathnameBase]))}return o}function wd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=jd(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let p=l[h]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[h];return f&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function jd(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),yo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kd(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function un(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function _d(t,e){e===void 0&&(e="/");let{pathname:s,search:r="",hash:i=""}=typeof t=="string"?yt(t):t;return{pathname:s?s.startsWith("/")?s:Nd(s,e):e,search:Pd(r),hash:Cd(i)}}function Nd(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function er(t,e,s,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sd(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function wo(t,e){let s=Sd(t);return e?s.map((r,i)=>i===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function jo(t,e,s,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=yt(t):(i=Wt({},t),q(!i.pathname||!i.pathname.includes("?"),er("?","pathname","search",i)),q(!i.pathname||!i.pathname.includes("#"),er("#","pathname","hash",i)),q(!i.search||!i.search.includes("#"),er("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=s;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=_d(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ee=t=>t.join("/").replace(/\/\/+/g,"/"),Td=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Pd=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Cd=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ad(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ko=["post","put","patch","delete"];new Set(ko);const Ed=["get",...ko];new Set(Ed);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qt(){return qt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},qt.apply(this,arguments)}const hn=v.createContext(null),Md=v.createContext(null),Ge=v.createContext(null),Ls=v.createContext(null),Re=v.createContext({outlet:null,matches:[],isDataRoute:!1}),_o=v.createContext(null);function Od(t,e){let{relative:s}=e===void 0?{}:e;Qt()||q(!1);let{basename:r,navigator:i}=v.useContext(Ge),{hash:a,pathname:o,search:l}=Po(t,{relative:s}),c=o;return r!=="/"&&(c=o==="/"?r:Ee([r,o])),i.createHref({pathname:c,search:l,hash:a})}function Qt(){return v.useContext(Ls)!=null}function es(){return Qt()||q(!1),v.useContext(Ls).location}function No(t){v.useContext(Ge).static||v.useLayoutEffect(t)}function So(){let{isDataRoute:t}=v.useContext(Re);return t?zd():Rd()}function Rd(){Qt()||q(!1);let t=v.useContext(hn),{basename:e,future:s,navigator:r}=v.useContext(Ge),{matches:i}=v.useContext(Re),{pathname:a}=es(),o=JSON.stringify(wo(i,s.v7_relativeSplatPath)),l=v.useRef(!1);return No(()=>{l.current=!0}),v.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=jo(d,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ee([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,a,t])}function To(){let{matches:t}=v.useContext(Re),e=t[t.length-1];return e?e.params:{}}function Po(t,e){let{relative:s}=e===void 0?{}:e,{future:r}=v.useContext(Ge),{matches:i}=v.useContext(Re),{pathname:a}=es(),o=JSON.stringify(wo(i,r.v7_relativeSplatPath));return v.useMemo(()=>jo(t,JSON.parse(o),a,s==="path"),[t,o,a,s])}function Dd(t,e){return Ld(t,e)}function Ld(t,e,s,r){Qt()||q(!1);let{navigator:i}=v.useContext(Ge),{matches:a}=v.useContext(Re),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=es(),u;if(e){var h;let g=typeof e=="string"?yt(e):e;c==="/"||(h=g.pathname)!=null&&h.startsWith(c)||q(!1),u=g}else u=d;let m=u.pathname||"/",f=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=cd(t,{pathname:f}),p=Fd(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Ee([c,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Ee([c,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,s,r);return e&&p?v.createElement(Ls.Provider,{value:{location:qt({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ae.Pop}},p):p}function Id(){let t=Hd(),e=Ad(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),s?v.createElement("pre",{style:i},s):null,null)}const $d=v.createElement(Id,null);class Ud extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?v.createElement(Re.Provider,{value:this.props.routeContext},v.createElement(_o.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vd(t){let{routeContext:e,match:s,children:r}=t,i=v.useContext(hn);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),v.createElement(Re.Provider,{value:e},r)}function Fd(t,e,s,r){var i;if(e===void 0&&(e=[]),s===void 0&&(s=null),r===void 0&&(r=null),t==null){var a;if(!s)return null;if(s.errors)t=s.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let o=t,l=(i=s)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||q(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:f}=s,x=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let f,x=!1,p=null,g=null;s&&(f=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||$d,c&&(d<0&&m===0?(Kd("route-fallback"),x=!0,g=null):d===m&&(x=!0,g=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,m+1)),w=()=>{let b;return f?b=p:x?b=g:h.route.Component?b=v.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,v.createElement(Vd,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:s!=null},children:b})};return s&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?v.createElement(Ud,{location:s.location,revalidation:s.revalidation,component:p,error:f,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var Co=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Co||{}),Ao=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ao||{});function Bd(t){let e=v.useContext(hn);return e||q(!1),e}function Wd(t){let e=v.useContext(Md);return e||q(!1),e}function qd(t){let e=v.useContext(Re);return e||q(!1),e}function Eo(t){let e=qd(),s=e.matches[e.matches.length-1];return s.route.id||q(!1),s.route.id}function Hd(){var t;let e=v.useContext(_o),s=Wd(),r=Eo();return e!==void 0?e:(t=s.errors)==null?void 0:t[r]}function zd(){let{router:t}=Bd(Co.UseNavigateStable),e=Eo(Ao.UseNavigateStable),s=v.useRef(!1);return No(()=>{s.current=!0}),v.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qt({fromRouteId:e},a)))},[t,e])}const hi={};function Kd(t,e,s){hi[t]||(hi[t]=!0)}function Gd(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ne(t){q(!1)}function Yd(t){let{basename:e="/",children:s=null,location:r,navigationType:i=Ae.Pop,navigator:a,static:o=!1,future:l}=t;Qt()&&q(!1);let c=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:a,static:o,future:qt({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=yt(r));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:x="default"}=r,p=v.useMemo(()=>{let g=un(u,c);return g==null?null:{location:{pathname:g,search:h,hash:m,state:f,key:x},navigationType:i}},[c,u,h,m,f,x,i]);return p==null?null:v.createElement(Ge.Provider,{value:d},v.createElement(Ls.Provider,{children:s,value:p}))}function Jd(t){let{children:e,location:s}=t;return Dd(Pr(e),s)}new Promise(()=>{});function Pr(t,e){e===void 0&&(e=[]);let s=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let a=[...e,i];if(r.type===v.Fragment){s.push.apply(s,Pr(r.props.children,a));return}r.type!==ne&&q(!1),!r.props.index||!r.props.children||q(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Pr(r.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cr(){return Cr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Cr.apply(this,arguments)}function Zd(t,e){if(t==null)return{};var s={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(s[i]=t[i]);return s}function Xd(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qd(t,e){return t.button===0&&(!e||e==="_self")&&!Xd(t)}const eu=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tu="6";try{window.__reactRouterVersion=tu}catch{}const su="startTransition",mi=Hc[su];function ru(t){let{basename:e,children:s,future:r,window:i}=t,a=v.useRef();a.current==null&&(a.current=ad({window:i,v5Compat:!0}));let o=a.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=v.useCallback(h=>{d&&mi?mi(()=>c(h)):c(h)},[c,d]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.useEffect(()=>Gd(r),[r]),v.createElement(Yd,{basename:e,children:s,location:l.location,navigationType:l.action,navigator:o,future:r})}const nu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E=v.forwardRef(function(e,s){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,m=Zd(e,eu),{basename:f}=v.useContext(Ge),x,p=!1;if(typeof d=="string"&&iu.test(d)&&(x=d,nu))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),_=un(j.pathname,f);j.origin===b.origin&&_!=null?d=_+j.search+j.hash:p=!0}catch{}let g=Od(d,{relative:i}),y=au(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function w(b){r&&r(b),b.defaultPrevented||y(b)}return v.createElement("a",Cr({},m,{href:x||g,onClick:p||a?r:w,ref:s,target:c}))});var fi;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fi||(fi={}));var pi;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pi||(pi={}));function au(t,e){let{target:s,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=So(),d=es(),u=Po(t,{relative:o});return v.useCallback(h=>{if(Qd(h,s)){h.preventDefault();let m=r!==void 0?r:js(d)===js(u);c(t,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,r,i,s,t,a,o,l])}const ou=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Xt(async()=>{const{default:r}=await Promise.resolve().then(()=>vt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class mn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class lu extends mn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gi extends mn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xi extends mn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ar;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ar||(Ar={}));var cu=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class du{constructor(e,{headers:s={},customFetch:r,region:i=Ar.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=ou(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return cu(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=s;let l={},{region:c}=s;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(p=>{throw new lu(p)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new gi(h);if(!h.ok)throw new xi(h);let f=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return f==="application/json"?x=yield h.json():f==="application/octet-stream"?x=yield h.blob():f==="text/event-stream"?x=h:f==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof xi||i instanceof gi?i.context:void 0}}})}}var ee={},fn={},Is={},ts={},$s={},Us={},uu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ut=uu();const hu=ut.fetch,Mo=ut.fetch.bind(ut),Oo=ut.Headers,mu=ut.Request,fu=ut.Response,vt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Oo,Request:mu,Response:fu,default:Mo,fetch:hu},Symbol.toStringTag,{value:"Module"})),pu=zc(vt);var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});let gu=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Vs.default=gu;var Ro=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Us,"__esModule",{value:!0});const xu=Ro(pu),yu=Ro(Vs);let vu=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=xu.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let d=null,u=null,h=null,m=a.status,f=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,m=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const p=await a.text();try{d=JSON.parse(p),Array.isArray(d)&&a.status===404&&(u=[],d=null,m=200,f="OK")}catch{a.status===404&&p===""?(m=204,f="No Content"):d={message:p}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,f="OK"),d&&this.shouldThrowOnError)throw new yu.default(d)}return{error:d,data:u,count:h,status:m,statusText:f}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,s)}returns(){return this}overrideTypes(){return this}};Us.default=vu;var bu=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($s,"__esModule",{value:!0});const wu=bu(Us);let ju=class extends wu.default{select(e){let s=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,s?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$s.default=ju;var ku=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ts,"__esModule",{value:!0});const _u=ku($s);let Nu=class extends _u.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};ts.default=Nu;var Su=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Is,"__esModule",{value:!0});const Tt=Su(ts);let Tu=class{constructor(e,{headers:s={},schema:r,fetch:i}){this.url=e,this.headers=s,this.schema=r,this.fetch=i}select(e,{head:s=!1,count:r}={}){const i=s?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Tt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Tt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Tt.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new Tt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Tt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Is.default=Tu;var Fs={},Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.version=void 0;Bs.version="0.0.0-automated";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.DEFAULT_HEADERS=void 0;const Pu=Bs;Fs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Pu.version}`};var Do=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fn,"__esModule",{value:!0});const Cu=Do(Is),Au=Do(ts),Eu=Fs;let Mu=class Lo{constructor(e,{headers:s={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Eu.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=i}from(e){const s=new URL(`${this.url}/${e}`);return new Cu.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Lo(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:i=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;r||i?(o=r?"HEAD":"GET",Object.entries(s).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=s);const d=Object.assign({},this.headers);return a&&(d.Prefer=`count=${a}`),new Au.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};fn.default=Mu;var bt=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ee,"__esModule",{value:!0});ee.PostgrestError=ee.PostgrestBuilder=ee.PostgrestTransformBuilder=ee.PostgrestFilterBuilder=ee.PostgrestQueryBuilder=ee.PostgrestClient=void 0;const Io=bt(fn);ee.PostgrestClient=Io.default;const $o=bt(Is);ee.PostgrestQueryBuilder=$o.default;const Uo=bt(ts);ee.PostgrestFilterBuilder=Uo.default;const Vo=bt($s);ee.PostgrestTransformBuilder=Vo.default;const Fo=bt(Us);ee.PostgrestBuilder=Fo.default;const Bo=bt(Vs);ee.PostgrestError=Bo.default;var Ou=ee.default={PostgrestClient:Io.default,PostgrestQueryBuilder:$o.default,PostgrestFilterBuilder:Uo.default,PostgrestTransformBuilder:Vo.default,PostgrestBuilder:Fo.default,PostgrestError:Bo.default};const{PostgrestClient:Ru,PostgrestQueryBuilder:iv,PostgrestFilterBuilder:av,PostgrestTransformBuilder:ov,PostgrestBuilder:lv,PostgrestError:cv}=Ou;class Du{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);if(r>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const i=this.dynamicRequire("undici");if(i&&i.WebSocket)return{type:"native",constructor:i.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const i=this.dynamicRequire("ws");if(i)return{type:"ws",constructor:(s=i.WebSocket)!==null&&s!==void 0?s:i};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${r} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Lu="2.15.0",Iu=`realtime-js/${Lu}`,$u="1.0.0",Er=1e4,Uu=1e3,Vu=100;var Lt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Lt||(Lt={}));var z;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(z||(z={}));var de;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(de||(de={}));var Mr;(function(t){t.websocket="websocket"})(Mr||(Mr={}));var qe;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qe||(qe={}));class Fu{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const i=s.getUint8(1),a=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+i));o=o+i;const c=r.decode(e.slice(o,o+a));o=o+a;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class Wo{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var D;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(D||(D={}));const yi=(t,e,s={})=>{var r;const i=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=Bu(o,t,e,i),a),{})},Bu=(t,e,s,r)=>{const i=e.find(l=>l.name===t),a=i==null?void 0:i.type,o=s[t];return a&&!r.includes(a)?qo(a,o):Or(o)},qo=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return zu(e,s)}switch(t){case D.bool:return Wu(e);case D.float4:case D.float8:case D.int2:case D.int4:case D.int8:case D.numeric:case D.oid:return qu(e);case D.json:case D.jsonb:return Hu(e);case D.timestamp:return Ku(e);case D.abstime:case D.date:case D.daterange:case D.int4range:case D.int8range:case D.money:case D.reltime:case D.text:case D.time:case D.timestamptz:case D.timetz:case D.tsrange:case D.tstzrange:return Or(e);default:return Or(e)}},Or=t=>t,Wu=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qu=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Hu=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},zu=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,s);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>qo(e,l))}return t},Ku=t=>typeof t=="string"?t.replace(" ","T"):t,Ho=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class tr{constructor(e,s,r={},i=Er){this.channel=e,this.event=s,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vi||(vi={}));class It{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=It.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=It.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=It.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,i){const a=this.cloneDeep(e),o=this.transformState(s),l={},c={};return this.map(a,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=a[d];if(h){const m=u.map(g=>g.presence_ref),f=h.map(g=>g.presence_ref),x=u.filter(g=>f.indexOf(g.presence_ref)<0),p=h.filter(g=>m.indexOf(g.presence_ref)<0);x.length>0&&(l[d]=x),p.length>0&&(c[d]=p)}else l[d]=u}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(e,s,r,i){const{joins:a,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(f=>f.presence_ref),m=u.filter(f=>h.indexOf(f.presence_ref)<0);e[l].unshift(...m)}r(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,i(l,d,c),d.length===0&&delete e[l]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const i=e[r];return"metas"in i?s[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[r]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bi||(bi={}));var $t;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($t||($t={}));var ye;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ye||(ye={}));class pn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=z.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new tr(this,de.join,this.params,this.timeout),this.rejoinTimer=new Wo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=z.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=z.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=z.errored,this.rejoinTimer.scheduleTimeout())}),this._on(de.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new It(this),this.broadcastEndpointURL=Ho(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==z.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[$t.PRESENCE]&&this.bindings[$t.PRESENCE].length>0,u={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(ye.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(ye.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:m})=>{var f;if(this.socket.setAuth(),m===void 0){e==null||e(ye.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,p=(f=x==null?void 0:x.length)!==null&&f!==void 0?f:0,g=[];for(let y=0;y<p;y++){const w=x[y],{filter:{event:b,schema:j,table:_,filter:S}}=w,C=m&&m[y];if(C&&C.event===b&&C.schema===j&&C.table===_&&C.filter===S)g.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=z.errored,e==null||e(ye.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(ye.SUBSCRIBED);return}}).receive("error",m=>{this.state=z.errored,e==null||e(ye.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ye.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===z.joined&&e===$t.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async send(e,s={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=z.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(de.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new tr(this,de.leave,{},e),r.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=z.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new tr(this,e,s,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Vu){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var i,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=de;if(r&&[l,c,d,u].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,s,r);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var x,p,g;return((x=f.filter)===null||x===void 0?void 0:x.event)==="*"||((g=(p=f.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(m,r)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var x,p,g,y,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const j=f.id,_=(x=f.filter)===null||x===void 0?void 0:x.event;return j&&((p=s.ids)===null||p===void 0?void 0:p.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((g=s.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const j=(w=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:p,table:g,commit_timestamp:y,type:w,errors:b}=x;m=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:y,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(x))}f.callback(m,r)})}_isClosed(){return this.state===z.closed}_isJoined(){return this.state===z.joined}_isJoining(){return this.state===z.joining}_isLeaving(){return this.state===z.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const i=e.toLocaleLowerCase(),a={type:i,filter:s,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&pn.isEqual(i.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(de.close,{},e)}_onError(e){this._on(de.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=z.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=yi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=yi(e.columns,e.old_record)),s}}const wi=()=>{},cs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gu=[1e3,2e3,5e3,1e4],Yu=1e4,Ju=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zu{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Er,this.transport=null,this.heartbeatIntervalMs=cs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wi,this.ref=0,this.reconnectTimer=null,this.logger=wi,this.conn=null,this.sendBuffer=[],this.serializer=new Fu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Xt(async()=>{const{default:l}=await Promise.resolve().then(()=>vt);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Mr.websocket}`,this.httpEndpoint=Ho(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Du.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$u}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Lt.connecting:return qe.Connecting;case Lt.open:return qe.Open;case Lt.closing:return qe.Closing;default:return qe.Closed}}isConnected(){return this.connectionState()===qe.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new pn(`realtime:${e}`,s,this);return this.channels.push(a),a}}push(e){const{topic:s,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Uu,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},cs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=s,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(de.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${r}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Ju],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const i={access_token:s,version:Iu};s&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(de.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Wo(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,i,a,o,l,c,d;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Er,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:cs.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:u=>Gu[u-1]||Yu,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(u,h)=>h(JSON.stringify(u)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class gn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function K(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Xu extends gn{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Rr extends gn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Qu=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const zo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Xt(async()=>{const{default:r}=await Promise.resolve().then(()=>vt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},eh=()=>Qu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xt(()=>Promise.resolve().then(()=>vt),void 0)).Response:Response}),Dr=t=>{if(Array.isArray(t))return t.map(s=>Dr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Dr(r)}),e},th=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ye=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sh=(t,e,s)=>Ye(void 0,void 0,void 0,function*(){const r=yield eh();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new Xu(sr(i),a,o))}).catch(i=>{e(new Rr(sr(i),i))}):e(new Rr(sr(t),t))}),rh=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(th(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),s))};function ss(t,e,s,r,i,a){return Ye(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(s,rh(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>sh(c,l,r))})})}function ks(t,e,s,r){return Ye(this,void 0,void 0,function*(){return ss(t,"GET",e,s,r)})}function ve(t,e,s,r,i){return Ye(this,void 0,void 0,function*(){return ss(t,"POST",e,r,i,s)})}function Lr(t,e,s,r,i){return Ye(this,void 0,void 0,function*(){return ss(t,"PUT",e,r,i,s)})}function nh(t,e,s,r){return Ye(this,void 0,void 0,function*(){return ss(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Ko(t,e,s,r,i){return Ye(this,void 0,void 0,function*(){return ss(t,"DELETE",e,r,i,s)})}var Q=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const ih={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ji={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ah{constructor(e,s={},r,i){this.url=e,this.headers=s,this.bucketId=r,this.fetch=zo(i)}uploadOrUpdate(e,s,r,i){return Q(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},ji),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),h=yield(e=="PUT"?Lr:ve)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(K(a))return{data:null,error:a};throw a}})}upload(e,s,r){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,i){return Q(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:ji.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield Lr(this.fetch,l.toString(),c,{headers:u});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(K(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,s){return Q(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const a=yield ve(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new gn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}})}update(e,s,r){return Q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Q(this,void 0,void 0,function*(){try{return{data:yield ve(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(K(i))return{data:null,error:i};throw i}})}copy(e,s,r){return Q(this,void 0,void 0,function*(){try{return{data:{path:(yield ve(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(K(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,r){return Q(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ve(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(K(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,r){return Q(this,void 0,void 0,function*(){try{const i=yield ve(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(K(i))return{data:null,error:i};throw i}})}download(e,s){return Q(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ks(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(K(l))return{data:null,error:l};throw l}})}info(e){return Q(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield ks(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Dr(r),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}})}exists(e){return Q(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield nh(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(K(r)&&r instanceof Rr){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),i=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&i.push(a);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return Q(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}list(e,s,r){return Q(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ih),s),{prefix:e||""});return{data:yield ve(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(K(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const oh="2.10.4",lh={"X-Client-Info":`storage-js/${oh}`};var Ze=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class ch{constructor(e,s={},r,i){const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},lh),s),this.fetch=zo(r)}listBuckets(){return Ze(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}})}getBucket(e){return Ze(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Ze(this,void 0,void 0,function*(){try{return{data:yield ve(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Ze(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ze(this,void 0,void 0,function*(){try{return{data:yield ve(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Ze(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}})}}class dh extends ch{constructor(e,s={},r,i){super(e,s,r,i)}from(e){return new ah(this.url,this.headers,e,this.fetch)}}const uh="2.54.0";let Mt="";typeof Deno<"u"?Mt="deno":typeof document<"u"?Mt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mt="react-native":Mt="node";const hh={"X-Client-Info":`supabase-js-${Mt}/${uh}`},mh={headers:hh},fh={schema:"public"},ph={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gh={};var xh=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const yh=t=>{let e;return t?e=t:typeof fetch>"u"?e=Mo:e=fetch,(...s)=>e(...s)},vh=()=>typeof Headers>"u"?Oo:Headers,bh=(t,e,s)=>{const r=yh(s),i=vh();return(a,o)=>xh(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:d}))})};var wh=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};function jh(t){return t.endsWith("/")?t:t+"/"}function kh(t,e){var s,r;const{db:i,auth:a,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>wh(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const Go="2.71.1",nt=30*1e3,Ir=3,rr=Ir*nt,_h="http://localhost:9999",Nh="supabase.auth.token",Sh={"X-Client-Info":`gotrue-js/${Go}`},$r="X-Supabase-Api-Version",Yo={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Th=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ph=10*60*1e3;class xn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ch extends xn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Ah(t){return A(t)&&t.name==="AuthApiError"}class Jo extends xn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class De extends xn{constructor(e,s,r,i){super(e,r,i),this.name=s,this.status=r}}class Te extends De{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Eh(t){return A(t)&&t.name==="AuthSessionMissingError"}class ds extends De{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class us extends De{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hs extends De{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mh(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class ki extends De{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ur extends De{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function nr(t){return A(t)&&t.name==="AuthRetryableFetchError"}class _i extends De{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Vr extends De{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ni=` 	
\r=`.split(""),Oh=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ni.length;e+=1)t[Ni[e].charCodeAt(0)]=-2;for(let e=0;e<_s.length;e+=1)t[_s[e].charCodeAt(0)]=e;return t})();function Si(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(_s[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(_s[r]),e.queuedBits-=6}}function Zo(t,e,s){const r=Oh[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ti(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Lh(o,r,s)};for(let o=0;o<t.length;o+=1)Zo(t.charCodeAt(o),i,a);return e.join("")}function Rh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Dh(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Rh(r,e)}}function Lh(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Ih(t){const e=[],s={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Zo(t.charCodeAt(i),s,r);return new Uint8Array(e)}function $h(t){const e=[];return Dh(t,s=>e.push(s)),new Uint8Array(e)}function Uh(t){const e=[],s={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Si(i,s,r)),Si(null,s,r),e.join("")}function Vh(t){return Math.round(Date.now()/1e3)+t}function Fh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const oe=()=>typeof window<"u"&&typeof document<"u",Ie={tested:!1,writable:!1},Xo=()=>{if(!oe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ie.tested)return Ie.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ie.tested=!0,Ie.writable=!0}catch{Ie.tested=!0,Ie.writable=!1}return Ie.writable};function Bh(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return s.searchParams.forEach((r,i)=>{e[i]=r}),e}const Qo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Xt(async()=>{const{default:r}=await Promise.resolve().then(()=>vt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Wh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",it=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},$e=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ne=async(t,e)=>{await t.removeItem(e)};class Ws{constructor(){this.promise=new Ws.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Ws.promiseConstructor=Promise;function ir(t){const e=t.split(".");if(e.length!==3)throw new Vr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Th.test(e[r]))throw new Vr("JWT not in base64url format");return{header:JSON.parse(Ti(e[0])),payload:JSON.parse(Ti(e[1])),signature:Ih(e[2]),raw:{header:e[0],payload:e[1]}}}async function qh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Hh(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function zh(t){return("0"+t.toString(16)).substr(-2)}function Kh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,zh).join("")}async function Gh(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Yh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Gh(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xe(t,e,s=!1){const r=Kh();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await it(t,`${e}-code-verifier`,i);const a=await Yh(r);return[a,r===a?"plain":"s256"]}const Jh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zh(t){const e=t.headers.get($r);if(!e||!e.match(Jh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Xh(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Qh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const em=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qe(t){if(!em.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ar(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pi(t){return JSON.parse(JSON.stringify(t))}var tm=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};const Ve=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sm=[502,503,504];async function Ci(t){var e;if(!Wh(t))throw new Ur(Ve(t),0);if(sm.includes(t.status))throw new Ur(Ve(t),t.status);let s;try{s=await t.json()}catch(a){throw new Jo(Ve(a),a)}let r;const i=Zh(t);if(i&&i.getTime()>=Yo["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new _i(Ve(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Te}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new _i(Ve(s),t.status,s.weak_password.reasons);throw new Ch(Ve(s),t.status||500,r)}const rm=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function M(t,e,s,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[$r]||(a[$r]=Yo["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await nm(t,e,s+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function nm(t,e,s,r,i,a){const o=rm(e,r,i,a);let l;try{l=await t(s,Object.assign({},o))}catch(c){throw console.error(c),new Ur(Ve(c),0)}if(l.ok||await Ci(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Ci(c)}}function xe(t){var e;let s=null;lm(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Vh(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Ai(t){const e=xe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ce(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function im(t){return{data:t,error:null}}function am(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a}=t,o=tm(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function om(t){return t}function lm(t){return t.access_token&&t.refresh_token&&t.expires_in}const or=["global","local","others"];var cm=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};class dm{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Qo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=or[0]){if(or.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${or.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ce})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=cm(e,["options"]),i=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:am,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(A(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ce})}catch(s){if(A(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:om});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(x=>{const p=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(x.split(";")[1].split("=")[1]);d[`${g}Page`]=p}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(A(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Qe(e);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ce})}catch(s){if(A(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Qe(e);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Ce})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Qe(e);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ce})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Qe(e.userId);try{const{data:s,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:r}}catch(s){if(A(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Qe(e.userId),Qe(e.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(A(s))return{data:null,error:s};throw s}}}function Ei(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function um(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const et={debug:!!(globalThis&&Xo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class el extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class hm extends el{}async function mm(t,e,s){et.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),et.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){et.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{et.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw et.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new hm(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(et.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}um();const fm={url:_h,storageKey:Nh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mi(t,e,s){return await s()}const tt={};class Ht{constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ht.nextInstanceID,Ht.nextInstanceID+=1,this.instanceID>0&&oe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},fm),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new dm({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Qo(i.fetch),this.lock=i.lock||Mi,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:oe()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=mm:this.lock=Mi,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Xo()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ei(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ei(this.memoryStorage)),oe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=tt[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){tt[this.storageKey]=Object.assign(Object.assign({},tt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=tt[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){tt[this.storageKey]=Object.assign(Object.assign({},tt[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Go}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Bh(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),oe()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(s,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Mh(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return A(s)?{error:s}:{error:new Jo("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,i;try{const a=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:xe}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(A(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var s,r,i;try{let a;if("email"in e){const{email:u,password:h,options:m}=e;let f=null,x=null;this.flowType==="pkce"&&([f,x]=await Xe(this.storage,this.storageKey)),a=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:x},xform:xe})}else if("phone"in e){const{phone:u,password:h,options:m}=e;a=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:xe})}else throw new us("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(A(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let s;if("email"in e){const{email:a,password:o,options:l}=e;s=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ai})}else if("phone"in e){const{phone:a,password:o,options:l}=e;s=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ai})}else throw new us("You must provide either an email or phone number and a password");const{data:r,error:i}=s;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ds}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,i,a,o,l,c,d,u,h,m,f;let x,p;if("message"in e)x=e.message,p=e.signature;else{const{chain:g,wallet:y,statement:w,options:b}=e;let j;if(oe())if(typeof y=="object")j=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const _=new URL((s=b==null?void 0:b.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),w?{statement:w}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)x=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:g,error:y}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Uh(p)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:xe});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new ds}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(A(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const s=await $e(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(s??"").split("/");try{const{data:a,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:xe});if(await Ne(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ds}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(A(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:s,provider:r,token:i,access_token:a,nonce:o}=e,l=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:xe}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ds}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,i,a,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Xe(this.storage,this.storageKey));const{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new us("You must provide either an email or phone number.")}catch(l){if(A(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var s,r;try{let i,a;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:xe});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Xe(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:im})}catch(a){if(A(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Te;const{error:i}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await M(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:l}=await M(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new us("You must provide either an email or phone number and a type")}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await $e(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<rr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await $e(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ar()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ce}):await this._useSession(async s=>{var r,i,a;const{data:o,error:l}=s;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Te}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ce})})}catch(s){if(A(s))return Eh(s)&&(await this._removeSession(),await Ne(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Te;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Xe(this.storage,this.storageKey));const{data:d,error:u}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ce});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Te;const s=Date.now()/1e3;let r=s,i=!0,a=null;const{payload:o}=ir(e.access_token);if(o.exp&&(r=o.exp,i=r<=s),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if(A(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:l}=s;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Te;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!oe())throw new hs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ki("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ki("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!a||!l||!o||!d)throw new hs("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const f=m-u;f*1e3<=nt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const x=m-h;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,u);const{data:p,error:g}=await this._getUser(a);if(g)throw g;const y={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(A(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await $e(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Ah(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ne(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Fh(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,i;try{const{data:{session:a},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,s={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Xe(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(A(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(A(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,c,d,u;const{data:h,error:m}=a;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return oe()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(A(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,i;const{data:a,error:o}=s;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(A(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Hh(async i=>(i>0&&await qh(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xe})),(i,a)=>{const o=200*Math.pow(2,i);return a&&nr(a)&&Date.now()+o-r<nt})}catch(r){if(this._debug(s,"error",r),A(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),oe()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await $e(this.storage,this.storageKey);if(i&&this.userStorage){let o=await $e(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await it(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ar()}else if(i&&!i.user&&!i.user){const o=await $e(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Ne(this.storage,this.storageKey+"-user"),await it(this.storage,this.storageKey,i)):i.user=ar()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<rr;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${rr}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),nr(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Te;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ws;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Te;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),A(a)){const o={session:null,error:a};return nr(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,s)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await it(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const a=Pi(i);await it(this.storage,this.storageKey,a)}else{const i=Pi(s);await it(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ne(this.storage,this.storageKey),await Ne(this.storage,this.storageKey+"-code-verifier"),await Ne(this.storage,this.storageKey+"-user"),this.userStorage&&await Ne(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&oe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),nt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/nt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${nt}ms, refresh threshold is ${Ir} ticks`),i<=Ir&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof el)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!oe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const i=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Xe(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?{data:null,error:a}:await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(A(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,i;const{data:a,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await M(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(A(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return{data:null,error:a};const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(A(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?{data:null,error:a}:await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(A(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ir(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(l=>l.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Ph>i)return r;const{data:a,error:o}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:f,error:x}=await this.getSession();if(x||!f.session)return{data:null,error:x};r=f.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=ir(r);s!=null&&s.allowExpired||Xh(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!d){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:a,header:i,signature:o},error:null}}const u=Qh(i.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,$h(`${l}.${c}`)))throw new Vr("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}Ht.nextInstanceID=0;const pm=Ht;class gm extends pm{constructor(e){super(e)}}var xm=function(t,e,s,r){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class ym{constructor(e,s,r){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=jh(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:fh,realtime:gh,auth:Object.assign(Object.assign({},ph),{storageKey:d}),global:mh},h=kh(r??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=bh(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Ru(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new dh(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new du(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return xm(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gm({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Zu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wt=(t,e,s)=>new ym(t,e,s);function vm(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}vm()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let lr;function bm(t){return lr||(lr=new Zc({...t,_sdkVersion:`react-wagmi-${Xc.VERSION}`})),lr}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),N=(t,e)=>{const s=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>v.createElement("svg",{ref:u,...wm,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${jm(t)}`,l].join(" "),...d},[...e.map(([h,m])=>v.createElement(h,m)),...Array.isArray(c)?c:[c]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=N("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=N("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=N("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=N("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=N("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=N("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=N("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=N("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=N("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=N("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=N("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=N("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=N("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=N("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=N("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=N("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=N("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=N("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=N("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=N("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=N("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=N("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=N("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=N("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=N("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=N("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=N("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=N("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=N("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=N("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=N("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=N("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=N("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=N("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=N("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=N("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=N("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=N("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=N("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=N("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=N("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=N("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=N("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=N("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=N("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=N("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=N("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=N("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=N("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=N("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=N("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=N("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=N("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=N("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=N("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=N("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=N("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=N("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=N("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=N("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),cl=v.createContext({});function Wm(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sn=v.createContext(null),dl=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function qm(t=!0){const e=v.useContext(Sn);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=e,a=v.useId();v.useEffect(()=>{t&&i(a)},[t]);const o=v.useCallback(()=>t&&r&&r(a),[a,r,t]);return!s&&r?[!1,o]:[!0]}const Tn=typeof window<"u",Hm=Tn?v.useLayoutEffect:v.useEffect,te=t=>t;let ul=te;function Pn(t){let e;return()=>(e===void 0&&(e=t()),e)}const pt=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r},be=t=>t*1e3,we=t=>t/1e3,zm={useManualTiming:!1};function Km(t){let e=new Set,s=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),t()),d(o)}const c={schedule:(d,u=!1,h=!1)=>{const f=h&&r?e:s;return u&&a.add(d),f.has(d)||f.add(d),d},cancel:d=>{s.delete(d),a.delete(d)},process:d=>{if(o=d,r){i=!0;return}r=!0,[e,s]=[s,e],e.forEach(l),e.clear(),r=!1,i&&(i=!1,c.process(d))}};return c}const ms=["read","resolveKeyframes","update","preRender","render","postRender"],Gm=40;function hl(t,e){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=ms.reduce((y,w)=>(y[w]=Km(a),y),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:m}=o,f=()=>{const y=performance.now();s=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,Gm),1),i.timestamp=y,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),i.isProcessing=!1,s&&e&&(r=!1,t(f))},x=()=>{s=!0,r=!0,i.isProcessing||t(f)};return{schedule:ms.reduce((y,w)=>{const b=o[w];return y[w]=(j,_=!1,S=!1)=>(s||x(),b.schedule(j,_,S)),y},{}),cancel:y=>{for(let w=0;w<ms.length;w++)o[ms[w]].cancel(y)},state:i,steps:o}}const{schedule:I,cancel:Me,state:G,steps:dr}=hl(typeof requestAnimationFrame<"u"?requestAnimationFrame:te,!0),ml=v.createContext({strict:!1}),$i={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gt={};for(const t in $i)gt[t]={isEnabled:e=>$i[t].some(s=>!!e[s])};function Ym(t){for(const e in t)gt[e]={...gt[e],...t[e]}}const Jm=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ts(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Jm.has(t)}let fl=t=>!Ts(t);function Zm(t){t&&(fl=e=>e.startsWith("on")?!Ts(e):t(e))}try{Zm(require("@emotion/is-prop-valid").default)}catch{}function Xm(t,e,s){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(fl(i)||s===!0&&Ts(i)||!e&&!Ts(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Qm(t){if(typeof Proxy>"u")return t;const e=new Map,s=(...r)=>t(...r);return new Proxy(s,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const zs=v.createContext({});function zt(t){return typeof t=="string"||Array.isArray(t)}function Ks(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Cn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],An=["initial",...Cn];function Gs(t){return Ks(t.animate)||An.some(e=>zt(t[e]))}function pl(t){return!!(Gs(t)||t.variants)}function ef(t,e){if(Gs(t)){const{initial:s,animate:r}=t;return{initial:s===!1||zt(s)?s:void 0,animate:zt(r)?r:void 0}}return t.inherit!==!1?e:{}}function tf(t){const{initial:e,animate:s}=ef(t,v.useContext(zs));return v.useMemo(()=>({initial:e,animate:s}),[Ui(e),Ui(s)])}function Ui(t){return Array.isArray(t)?t.join(" "):t}const sf=Symbol.for("motionComponentSymbol");function at(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rf(t,e,s){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):at(s)&&(s.current=r))},[e])}const En=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nf="framerAppearId",gl="data-"+En(nf),{schedule:Mn}=hl(queueMicrotask,!1),xl=v.createContext({});function af(t,e,s,r,i){var a,o;const{visualElement:l}=v.useContext(zs),c=v.useContext(ml),d=v.useContext(Sn),u=v.useContext(dl).reducedMotion,h=v.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,f=v.useContext(xl);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&of(h.current,s,i,f);const x=v.useRef(!1);v.useInsertionEffect(()=>{m&&x.current&&m.update(s,d)});const p=s[gl],g=v.useRef(!!p&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return Hm(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Mn.render(m.render),g.current&&m.animationState&&m.animationState.animateChanges())}),v.useEffect(()=>{m&&(!g.current&&m.animationState&&m.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,p)}),g.current=!1))}),m}function of(t,e,s,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:yl(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&at(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function yl(t){if(t)return t.options.allowProjection!==!1?t.projection:yl(t.parent)}function lf({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:r,Component:i}){var a,o;t&&Ym(t);function l(d,u){let h;const m={...v.useContext(dl),...d,layoutId:cf(d)},{isStatic:f}=m,x=tf(d),p=r(d,f);if(!f&&Tn){df();const g=uf(m);h=g.MeasureLayout,x.visualElement=af(i,p,m,e,g.ProjectionNode)}return n.jsxs(zs.Provider,{value:x,children:[h&&x.visualElement?n.jsx(h,{visualElement:x.visualElement,...m}):null,s(i,d,rf(p,x.visualElement,u),p,f,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=v.forwardRef(l);return c[sf]=i,c}function cf({layoutId:t}){const e=v.useContext(cl).id;return e&&t!==void 0?e+"-"+t:t}function df(t,e){v.useContext(ml).strict}function uf(t){const{drag:e,layout:s}=gt;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const hf=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function On(t){return typeof t!="string"||t.includes("-")?!1:!!(hf.indexOf(t)>-1||/[A-Z]/u.test(t))}function Vi(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function Rn(t,e,s,r){if(typeof e=="function"){const[i,a]=Vi(r);e=e(s!==void 0?s:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Vi(r);e=e(s!==void 0?s:t.custom,i,a)}return e}const zr=t=>Array.isArray(t),mf=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),ff=t=>zr(t)?t[t.length-1]||0:t,Z=t=>!!(t&&t.getVelocity);function xs(t){const e=Z(t)?t.get():t;return mf(e)?e.toValue():e}function pf({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:s},r,i,a){const o={latestValues:gf(r,i,a,t),renderState:e()};return s&&(o.onMount=l=>s({props:r,current:l,...o}),o.onUpdate=l=>s(l)),o}const vl=t=>(e,s)=>{const r=v.useContext(zs),i=v.useContext(Sn),a=()=>pf(t,e,r,i);return s?a():Wm(a)};function gf(t,e,s,r){const i={},a=r(t,{});for(const m in a)i[m]=xs(a[m]);let{initial:o,animate:l}=t;const c=Gs(t),d=pl(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Ks(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const x=Rn(t,m[f]);if(x){const{transitionEnd:p,transition:g,...y}=x;for(const w in y){let b=y[w];if(Array.isArray(b)){const j=u?b.length-1:0;b=b[j]}b!==null&&(i[w]=b)}for(const w in p)i[w]=p[w]}}}return i}const _t=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Je=new Set(_t),bl=t=>e=>typeof e=="string"&&e.startsWith(t),wl=bl("--"),xf=bl("var(--"),Dn=t=>xf(t)?yf.test(t.split("/*")[0].trim()):!1,yf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jl=(t,e)=>e&&typeof t=="number"?e.transform(t):t,je=(t,e,s)=>s>e?e:s<t?t:s,Nt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Kt={...Nt,transform:t=>je(0,1,t)},fs={...Nt,default:1},rs=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pe=rs("deg"),me=rs("%"),T=rs("px"),vf=rs("vh"),bf=rs("vw"),Fi={...me,parse:t=>me.parse(t)/100,transform:t=>me.transform(t*100)},wf={borderWidth:T,borderTopWidth:T,borderRightWidth:T,borderBottomWidth:T,borderLeftWidth:T,borderRadius:T,radius:T,borderTopLeftRadius:T,borderTopRightRadius:T,borderBottomRightRadius:T,borderBottomLeftRadius:T,width:T,maxWidth:T,height:T,maxHeight:T,top:T,right:T,bottom:T,left:T,padding:T,paddingTop:T,paddingRight:T,paddingBottom:T,paddingLeft:T,margin:T,marginTop:T,marginRight:T,marginBottom:T,marginLeft:T,backgroundPositionX:T,backgroundPositionY:T},jf={rotate:Pe,rotateX:Pe,rotateY:Pe,rotateZ:Pe,scale:fs,scaleX:fs,scaleY:fs,scaleZ:fs,skew:Pe,skewX:Pe,skewY:Pe,distance:T,translateX:T,translateY:T,translateZ:T,x:T,y:T,z:T,perspective:T,transformPerspective:T,opacity:Kt,originX:Fi,originY:Fi,originZ:T},Bi={...Nt,transform:Math.round},Ln={...wf,...jf,zIndex:Bi,size:T,fillOpacity:Kt,strokeOpacity:Kt,numOctaves:Bi},kf={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_f=_t.length;function Nf(t,e,s){let r="",i=!0;for(let a=0;a<_f;a++){const o=_t[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=jl(l,Ln[o]);if(!c){i=!1;const u=kf[o]||o;r+=`${u}(${d}) `}s&&(e[o]=d)}}return r=r.trim(),s?r=s(e,i?"":r):i&&(r="none"),r}function In(t,e,s){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Je.has(c)){o=!0;continue}else if(wl(c)){i[c]=d;continue}else{const u=jl(d,Ln[c]);c.startsWith("origin")?(l=!0,a[c]=u):r[c]=u}}if(e.transform||(o||s?r.transform=Nf(e,t.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;r.transformOrigin=`${c} ${d} ${u}`}}const Sf={offset:"stroke-dashoffset",array:"stroke-dasharray"},Tf={offset:"strokeDashoffset",array:"strokeDasharray"};function Pf(t,e,s=1,r=0,i=!0){t.pathLength=1;const a=i?Sf:Tf;t[a.offset]=T.transform(-r);const o=T.transform(e),l=T.transform(s);t[a.array]=`${o} ${l}`}function Wi(t,e,s){return typeof t=="string"?t:T.transform(e+s*t)}function Cf(t,e,s){const r=Wi(e,t.x,t.width),i=Wi(s,t.y,t.height);return`${r} ${i}`}function $n(t,{attrX:e,attrY:s,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(In(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:f,dimensions:x}=t;m.transform&&(x&&(f.transform=m.transform),delete m.transform),x&&(i!==void 0||a!==void 0||f.transform)&&(f.transformOrigin=Cf(x,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(m.x=e),s!==void 0&&(m.y=s),r!==void 0&&(m.scale=r),o!==void 0&&Pf(m,o,l,c,!1)}const Un=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),kl=()=>({...Un(),attrs:{}}),Vn=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _l(t,{style:e,vars:s},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in s)t.style.setProperty(a,s[a])}const Nl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Sl(t,e,s,r){_l(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Nl.has(i)?i:En(i),e.attrs[i])}const Ps={};function Af(t){Object.assign(Ps,t)}function Tl(t,{layout:e,layoutId:s}){return Je.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Ps[t]||t==="opacity")}function Fn(t,e,s){var r;const{style:i}=t,a={};for(const o in i)(Z(i[o])||e.style&&Z(e.style[o])||Tl(o,t)||((r=s==null?void 0:s.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function Pl(t,e,s){const r=Fn(t,e,s);for(const i in t)if(Z(t[i])||Z(e[i])){const a=_t.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function Ef(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const qi=["x","y","width","height","cx","cy","r"],Mf={useVisualState:vl({scrapeMotionValuesFromProps:Pl,createRenderState:kl,onUpdate:({props:t,prevProps:e,current:s,renderState:r,latestValues:i})=>{if(!s)return;let a=!!t.drag;if(!a){for(const l in i)if(Je.has(l)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let l=0;l<qi.length;l++){const c=qi[l];t[c]!==e[c]&&(o=!0)}o&&I.read(()=>{Ef(s,r),I.render(()=>{$n(r,i,Vn(s.tagName),t.transformTemplate),Sl(s,r)})})}})},Of={useVisualState:vl({scrapeMotionValuesFromProps:Fn,createRenderState:Un})};function Cl(t,e,s){for(const r in e)!Z(e[r])&&!Tl(r,s)&&(t[r]=e[r])}function Rf({transformTemplate:t},e){return v.useMemo(()=>{const s=Un();return In(s,e,t),Object.assign({},s.vars,s.style)},[e])}function Df(t,e){const s=t.style||{},r={};return Cl(r,s,t),Object.assign(r,Rf(t,e)),r}function Lf(t,e){const s={},r=Df(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}function If(t,e,s,r){const i=v.useMemo(()=>{const a=kl();return $n(a,e,Vn(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Cl(a,t.style,t),i.style={...a,...i.style}}return i}function $f(t=!1){return(s,r,i,{latestValues:a},o)=>{const c=(On(s)?If:Lf)(r,a,o,s),d=Xm(r,typeof s=="string",t),u=s!==v.Fragment?{...d,...c,ref:i}:{},{children:h}=r,m=v.useMemo(()=>Z(h)?h.get():h,[h]);return v.createElement(s,{...u,children:m})}}function Uf(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...On(r)?Mf:Of,preloadedFeatures:t,useRender:$f(i),createVisualElement:e,Component:r};return lf(o)}}function Al(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}function Ys(t,e,s){const r=t.getProps();return Rn(r,e,s!==void 0?s:r.custom,t)}const Vf=Pn(()=>window.ScrollTimeline!==void 0);class Ff{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,s){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=s}attachTimeline(e,s){const r=this.animations.map(i=>{if(Vf()&&i.attachTimeline)return i.attachTimeline(e);if(typeof s=="function")return s(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Bf extends Ff{then(e,s){return Promise.all(this.animations).then(e).catch(s)}}function Bn(t,e){return t?t[e]||t.default||t:void 0}const Kr=2e4;function El(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<Kr;)e+=s,r=t.next(e);return e>=Kr?1/0:e}function Wn(t){return typeof t=="function"}function Hi(t,e){t.timeline=e,t.onfinish=null}const qn=t=>Array.isArray(t)&&typeof t[0]=="number",Wf={linearEasing:void 0};function qf(t,e){const s=Pn(t);return()=>{var r;return(r=Wf[e])!==null&&r!==void 0?r:s()}}const Cs=qf(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ml=(t,e,s=10)=>{let r="";const i=Math.max(Math.round(e/s),2);for(let a=0;a<i;a++)r+=t(pt(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function Ol(t){return!!(typeof t=="function"&&Cs()||!t||typeof t=="string"&&(t in Gr||Cs())||qn(t)||Array.isArray(t)&&t.every(Ol))}const Ot=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,Gr={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ot([0,.65,.55,1]),circOut:Ot([.55,0,1,.45]),backIn:Ot([.31,.01,.66,-.59]),backOut:Ot([.33,1.53,.69,.99])};function Rl(t,e){if(t)return typeof t=="function"&&Cs()?Ml(t,e):qn(t)?Ot(t):Array.isArray(t)?t.map(s=>Rl(s,e)||Gr.easeOut):Gr[t]}const ce={x:!1,y:!1};function Dl(){return ce.x||ce.y}function Hf(t,e,s){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function Ll(t,e){const s=Hf(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[s,i,()=>r.abort()]}function zi(t){return e=>{e.pointerType==="touch"||Dl()||t(e)}}function zf(t,e,s={}){const[r,i,a]=Ll(t,s),o=zi(l=>{const{target:c}=l,d=e(l);if(typeof d!="function"||!c)return;const u=zi(h=>{d(h),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,i)});return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const Il=(t,e)=>e?t===e?!0:Il(t,e.parentElement):!1,Hn=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Kf=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gf(t){return Kf.has(t.tagName)||t.tabIndex!==-1}const Rt=new WeakSet;function Ki(t){return e=>{e.key==="Enter"&&t(e)}}function ur(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Yf=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=Ki(()=>{if(Rt.has(s))return;ur(s,"down");const i=Ki(()=>{ur(s,"up")}),a=()=>ur(s,"cancel");s.addEventListener("keyup",i,e),s.addEventListener("blur",a,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function Gi(t){return Hn(t)&&!Dl()}function Jf(t,e,s={}){const[r,i,a]=Ll(t,s),o=l=>{const c=l.currentTarget;if(!Gi(l)||Rt.has(c))return;Rt.add(c);const d=e(l),u=(f,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!Gi(f)||!Rt.has(c))&&(Rt.delete(c),typeof d=="function"&&d(f,{success:x}))},h=f=>{u(f,s.useGlobalTarget||Il(c,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return r.forEach(l=>{!Gf(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",d=>Yf(d,i),i)}),a}function Zf(t){return t==="x"||t==="y"?ce[t]?null:(ce[t]=!0,()=>{ce[t]=!1}):ce.x||ce.y?null:(ce.x=ce.y=!0,()=>{ce.x=ce.y=!1})}const $l=new Set(["width","height","top","left","right","bottom",..._t]);let ys;function Xf(){ys=void 0}const fe={now:()=>(ys===void 0&&fe.set(G.isProcessing||zm.useManualTiming?G.timestamp:performance.now()),ys),set:t=>{ys=t,queueMicrotask(Xf)}};function zn(t,e){t.indexOf(e)===-1&&t.push(e)}function Kn(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class Gn{constructor(){this.subscriptions=[]}add(e){return zn(this.subscriptions,e),()=>Kn(this.subscriptions,e)}notify(e,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ul(t,e){return e?t*(1e3/e):0}const Yi=30,Qf=t=>!isNaN(parseFloat(t));class ep{constructor(e,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=fe.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=fe.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Qf(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Gn);const r=this.events[e].add(s);return e==="change"?()=>{r(),I.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Yi)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Yi);return Ul(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gt(t,e){return new ep(t,e)}function tp(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,Gt(s))}function sp(t,e){const s=Ys(t,e);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const o in a){const l=ff(a[o]);tp(t,o,l)}}function rp(t){return!!(Z(t)&&t.add)}function Yr(t,e){const s=t.getValue("willChange");if(rp(s))return s.add(e)}function Vl(t){return t.props[gl]}const Fl=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,np=1e-7,ip=12;function ap(t,e,s,r,i){let a,o,l=0;do o=e+(s-e)/2,a=Fl(o,r,i)-t,a>0?s=o:e=o;while(Math.abs(a)>np&&++l<ip);return o}function ns(t,e,s,r){if(t===e&&s===r)return te;const i=a=>ap(a,0,1,t,s);return a=>a===0||a===1?a:Fl(i(a),e,r)}const Bl=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Wl=t=>e=>1-t(1-e),ql=ns(.33,1.53,.69,.99),Yn=Wl(ql),Hl=Bl(Yn),zl=t=>(t*=2)<1?.5*Yn(t):.5*(2-Math.pow(2,-10*(t-1))),Jn=t=>1-Math.sin(Math.acos(t)),Kl=Wl(Jn),Gl=Bl(Jn),Yl=t=>/^0[^.\s]+$/u.test(t);function op(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Yl(t):!0}const Ut=t=>Math.round(t*1e5)/1e5,Zn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lp(t){return t==null}const cp=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xn=(t,e)=>s=>!!(typeof s=="string"&&cp.test(s)&&s.startsWith(t)||e&&!lp(s)&&Object.prototype.hasOwnProperty.call(s,e)),Jl=(t,e,s)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(Zn);return{[t]:parseFloat(i),[e]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},dp=t=>je(0,255,t),hr={...Nt,transform:t=>Math.round(dp(t))},He={test:Xn("rgb","red"),parse:Jl("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+hr.transform(t)+", "+hr.transform(e)+", "+hr.transform(s)+", "+Ut(Kt.transform(r))+")"};function up(t){let e="",s="",r="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Jr={test:Xn("#"),parse:up,transform:He.transform},ot={test:Xn("hsl","hue"),parse:Jl("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+me.transform(Ut(e))+", "+me.transform(Ut(s))+", "+Ut(Kt.transform(r))+")"},J={test:t=>He.test(t)||Jr.test(t)||ot.test(t),parse:t=>He.test(t)?He.parse(t):ot.test(t)?ot.parse(t):Jr.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?He.transform(t):ot.transform(t)},hp=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mp(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Zn))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(hp))===null||s===void 0?void 0:s.length)||0)>0}const Zl="number",Xl="color",fp="var",pp="var(",Ji="${}",gp=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yt(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(gp,c=>(J.test(c)?(r.color.push(a),i.push(Xl),s.push(J.parse(c))):c.startsWith(pp)?(r.var.push(a),i.push(fp),s.push(c)):(r.number.push(a),i.push(Zl),s.push(parseFloat(c))),++a,Ji)).split(Ji);return{values:s,split:l,indexes:r,types:i}}function Ql(t){return Yt(t).values}function ec(t){const{split:e,types:s}=Yt(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const l=s[o];l===Zl?a+=Ut(i[o]):l===Xl?a+=J.transform(i[o]):a+=i[o]}return a}}const xp=t=>typeof t=="number"?0:t;function yp(t){const e=Ql(t);return ec(t)(e.map(xp))}const Oe={test:mp,parse:Ql,createTransformer:ec,getAnimatableNone:yp},vp=new Set(["brightness","contrast","saturate","opacity"]);function bp(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(Zn)||[];if(!r)return t;const i=s.replace(r,"");let a=vp.has(e)?1:0;return r!==s&&(a*=100),e+"("+a+i+")"}const wp=/\b([a-z-]*)\(.*?\)/gu,Zr={...Oe,getAnimatableNone:t=>{const e=t.match(wp);return e?e.map(bp).join(" "):t}},jp={...Ln,color:J,backgroundColor:J,outlineColor:J,fill:J,stroke:J,borderColor:J,borderTopColor:J,borderRightColor:J,borderBottomColor:J,borderLeftColor:J,filter:Zr,WebkitFilter:Zr},Qn=t=>jp[t];function tc(t,e){let s=Qn(t);return s!==Zr&&(s=Oe),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const kp=new Set(["auto","none","0"]);function _p(t,e,s){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!kp.has(a)&&Yt(a).values.length&&(i=t[r]),r++}if(i&&s)for(const a of e)t[a]=tc(s,i)}const Zi=t=>t===Nt||t===T,Xi=(t,e)=>parseFloat(t.split(", ")[e]),Qi=(t,e)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Xi(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Xi(a[1],t):0}},Np=new Set(["x","y","z"]),Sp=_t.filter(t=>!Np.has(t));function Tp(t){const e=[];return Sp.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const xt={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Qi(4,13),y:Qi(5,14)};xt.translateX=xt.x;xt.translateY=xt.y;const ze=new Set;let Xr=!1,Qr=!1;function sc(){if(Qr){const t=Array.from(ze).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const i=Tp(r);i.length&&(s.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qr=!1,Xr=!1,ze.forEach(t=>t.complete()),ze.clear()}function rc(){ze.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qr=!0)})}function Pp(){rc(),sc()}class ei{constructor(e,s,r,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ze.add(this),Xr||(Xr=!0,I.read(rc),I.resolveKeyframes(sc))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&s){const c=r.readValue(s,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ze.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ze.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const nc=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Cp=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ap(t){const e=Cp.exec(t);if(!e)return[,];const[,s,r,i]=e;return[`--${s??r}`,i]}function ic(t,e,s=1){const[r,i]=Ap(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return nc(o)?parseFloat(o):o}return Dn(i)?ic(i,e,s+1):i}const ac=t=>e=>e.test(t),Ep={test:t=>t==="auto",parse:t=>t},oc=[Nt,T,me,Pe,bf,vf,Ep],ea=t=>oc.find(ac(t));class lc extends ei{constructor(e,s,r,i,a){super(e,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),Dn(d))){const u=ic(d,s.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!$l.has(r)||e.length!==2)return;const[i,a]=e,o=ea(i),l=ea(a);if(o!==l)if(Zi(o)&&Zi(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let i=0;i<e.length;i++)op(e[i])&&r.push(i);r.length&&_p(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xt[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:s,name:r,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const a=s.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=xt[r](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const ta=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oe.test(t)||t==="0")&&!t.startsWith("url("));function Mp(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function Op(t,e,s,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=ta(i,e),l=ta(a,e);return!o||!l?!1:Mp(t)||(s==="spring"||Wn(s))&&r}const Rp=t=>t!==null;function Js(t,{repeat:e,repeatType:s="loop"},r){const i=t.filter(Rp),a=e&&s!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Dp=40;class cc{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=fe.now(),this.options={autoplay:e,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Dp?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Pp(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=fe.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!Op(e,r,i,a))if(o)this.options.duration=0;else{c&&c(Js(e,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,s);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const F=(t,e,s)=>t+(e-t)*s;function mr(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function Lp({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let i=0,a=0,o=0;if(!e)i=a=o=s;else{const l=s<.5?s*(1+e):s+e-s*e,c=2*s-l;i=mr(c,l,t+1/3),a=mr(c,l,t),o=mr(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function As(t,e){return s=>s>0?e:t}const fr=(t,e,s)=>{const r=t*t,i=s*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Ip=[Jr,He,ot],$p=t=>Ip.find(e=>e.test(t));function sa(t){const e=$p(t);if(!e)return!1;let s=e.parse(t);return e===ot&&(s=Lp(s)),s}const ra=(t,e)=>{const s=sa(t),r=sa(e);if(!s||!r)return As(t,e);const i={...s};return a=>(i.red=fr(s.red,r.red,a),i.green=fr(s.green,r.green,a),i.blue=fr(s.blue,r.blue,a),i.alpha=F(s.alpha,r.alpha,a),He.transform(i))},Up=(t,e)=>s=>e(t(s)),is=(...t)=>t.reduce(Up),en=new Set(["none","hidden"]);function Vp(t,e){return en.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function Fp(t,e){return s=>F(t,e,s)}function ti(t){return typeof t=="number"?Fp:typeof t=="string"?Dn(t)?As:J.test(t)?ra:qp:Array.isArray(t)?dc:typeof t=="object"?J.test(t)?ra:Bp:As}function dc(t,e){const s=[...t],r=s.length,i=t.map((a,o)=>ti(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)s[o]=i[o](a);return s}}function Bp(t,e){const s={...t,...e},r={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ti(t[i])(t[i],e[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function Wp(t,e){var s;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],l=t.indexes[o][i[o]],c=(s=t.values[l])!==null&&s!==void 0?s:0;r[a]=c,i[o]++}return r}const qp=(t,e)=>{const s=Oe.createTransformer(e),r=Yt(t),i=Yt(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?en.has(t)&&!i.values.length||en.has(e)&&!r.values.length?Vp(t,e):is(dc(Wp(r,i),i.values),s):As(t,e)};function uc(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?F(t,e,s):ti(t)(t,e)}const Hp=5;function hc(t,e,s){const r=Math.max(e-Hp,0);return Ul(s-t(r),e-r)}const B={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pr=.001;function zp({duration:t=B.duration,bounce:e=B.bounce,velocity:s=B.velocity,mass:r=B.mass}){let i,a,o=1-e;o=je(B.minDamping,B.maxDamping,o),t=je(B.minDuration,B.maxDuration,we(t)),o<1?(i=d=>{const u=d*o,h=u*t,m=u-s,f=tn(d,o),x=Math.exp(-h);return pr-m/f*x},a=d=>{const h=d*o*t,m=h*s+s,f=Math.pow(o,2)*Math.pow(d,2)*t,x=Math.exp(-h),p=tn(Math.pow(d,2),o);return(-i(d)+pr>0?-1:1)*((m-f)*x)/p}):(i=d=>{const u=Math.exp(-d*t),h=(d-s)*t+1;return-pr+u*h},a=d=>{const u=Math.exp(-d*t),h=(s-d)*(t*t);return u*h});const l=5/t,c=Gp(i,a,l);if(t=be(t),isNaN(c))return{stiffness:B.stiffness,damping:B.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const Kp=12;function Gp(t,e,s){let r=s;for(let i=1;i<Kp;i++)r=r-t(r)/e(r);return r}function tn(t,e){return t*Math.sqrt(1-e*e)}const Yp=["duration","bounce"],Jp=["stiffness","damping","mass"];function na(t,e){return e.some(s=>t[s]!==void 0)}function Zp(t){let e={velocity:B.velocity,stiffness:B.stiffness,damping:B.damping,mass:B.mass,isResolvedFromDuration:!1,...t};if(!na(t,Jp)&&na(t,Yp))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,a=2*je(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:B.mass,stiffness:i,damping:a}}else{const s=zp(t);e={...e,...s,mass:B.mass},e.isResolvedFromDuration=!0}return e}function mc(t=B.visualDuration,e=B.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=Zp({...s,velocity:-we(s.velocity||0)}),x=m||0,p=d/(2*Math.sqrt(c*u)),g=o-a,y=we(Math.sqrt(c/u)),w=Math.abs(g)<5;r||(r=w?B.restSpeed.granular:B.restSpeed.default),i||(i=w?B.restDelta.granular:B.restDelta.default);let b;if(p<1){const _=tn(y,p);b=S=>{const C=Math.exp(-p*y*S);return o-C*((x+p*y*g)/_*Math.sin(_*S)+g*Math.cos(_*S))}}else if(p===1)b=_=>o-Math.exp(-y*_)*(g+(x+y*g)*_);else{const _=y*Math.sqrt(p*p-1);b=S=>{const C=Math.exp(-p*y*S),P=Math.min(_*S,300);return o-C*((x+p*y*g)*Math.sinh(P)+_*g*Math.cosh(P))/_}}const j={calculatedDuration:f&&h||null,next:_=>{const S=b(_);if(f)l.done=_>=h;else{let C=0;p<1&&(C=_===0?be(x):hc(b,_,S));const P=Math.abs(C)<=r,O=Math.abs(o-S)<=i;l.done=P&&O}return l.value=l.done?o:S,l},toString:()=>{const _=Math.min(El(j),Kr),S=Ml(C=>j.next(_*C).value,_,30);return _+"ms "+S}};return j}function ia({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],m={done:!1,value:h},f=P=>l!==void 0&&P<l||c!==void 0&&P>c,x=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let p=s*e;const g=h+p,y=o===void 0?g:o(g);y!==g&&(p=y-h);const w=P=>-p*Math.exp(-P/r),b=P=>y+w(P),j=P=>{const O=w(P),$=b(P);m.done=Math.abs(O)<=d,m.value=m.done?y:$};let _,S;const C=P=>{f(m.value)&&(_=P,S=mc({keyframes:[m.value,x(m.value)],velocity:hc(b,P,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return C(0),{calculatedDuration:null,next:P=>{let O=!1;return!S&&_===void 0&&(O=!0,j(P),C(P)),_!==void 0&&P>=_?S.next(P-_):(!O&&j(P),m)}}}const Xp=ns(.42,0,1,1),Qp=ns(0,0,.58,1),fc=ns(.42,0,.58,1),eg=t=>Array.isArray(t)&&typeof t[0]!="number",tg={linear:te,easeIn:Xp,easeInOut:fc,easeOut:Qp,circIn:Jn,circInOut:Gl,circOut:Kl,backIn:Yn,backInOut:Hl,backOut:ql,anticipate:zl},aa=t=>{if(qn(t)){ul(t.length===4);const[e,s,r,i]=t;return ns(e,s,r,i)}else if(typeof t=="string")return tg[t];return t};function sg(t,e,s){const r=[],i=s||uc,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||te:e;l=is(c,l)}r.push(l)}return r}function rg(t,e,{clamp:s=!0,ease:r,mixer:i}={}){const a=t.length;if(ul(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=sg(e,r,i),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const m=pt(t[h],t[h+1],u);return l[h](m)};return s?u=>d(je(t[0],t[a-1],u)):d}function ng(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const i=pt(0,e,r);t.push(F(s,1,i))}}function ig(t){const e=[0];return ng(e,t.length-1),e}function ag(t,e){return t.map(s=>s*e)}function og(t,e){return t.map(()=>e||fc).splice(0,t.length-1)}function Es({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const i=eg(r)?r.map(aa):aa(r),a={done:!1,value:e[0]},o=ag(s&&s.length===e.length?s:ig(e),t),l=rg(o,e,{ease:Array.isArray(i)?i:og(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const lg=t=>{const e=({timestamp:s})=>t(s);return{start:()=>I.update(e,!0),stop:()=>Me(e),now:()=>G.isProcessing?G.timestamp:fe.now()}},cg={decay:ia,inertia:ia,tween:Es,keyframes:Es,spring:mc},dg=t=>t/100;class si extends cc{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:r,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||ei,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,s,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=Wn(s)?s:cg[s]||Es;let c,d;l!==Es&&typeof e[0]!="number"&&(c=is(dg,uc(e[0],e[1])),e=[0,100]);const u=l({...this.options,keyframes:e});a==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=El(u));const{calculatedDuration:h}=u,m=h+i,f=m*(r+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return a.next(0);const{delay:m,repeat:f,repeatType:x,repeatDelay:p,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-m*(this.speed>=0?1:-1),w=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,j=a;if(f){const P=Math.min(this.currentTime,u)/h;let O=Math.floor(P),$=P%1;!$&&P>=1&&($=1),$===1&&O--,O=Math.min(O,f+1),!!(O%2)&&(x==="reverse"?($=1-$,p&&($-=p/h)):x==="mirror"&&(j=o)),b=je(0,1,$)*h}const _=w?{done:!1,value:c[0]}:j.next(b);l&&(_.value=l(_.value));let{done:S}=_;!w&&d!==null&&(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return C&&i!==void 0&&(_.value=Js(c,this.options,i)),g&&g(_.value),C&&this.finish(),_}get duration(){const{resolved:e}=this;return e?we(e.calculatedDuration):0}get time(){return we(this.currentTime)}set time(e){e=be(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=we(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=lg,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ug=new Set(["opacity","clipPath","filter","transform"]);function hg(t,e,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[e]:s};c&&(d.offset=c);const u=Rl(l,i);return Array.isArray(u)&&(d.easing=u),t.animate(d,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const mg=Pn(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ms=10,fg=2e4;function pg(t){return Wn(t.type)||t.type==="spring"||!Ol(t.ease)}function gg(t,e){const s=new si({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<fg;)r=s.sample(a),i.push(r.value),a+=Ms;return{times:void 0,keyframes:i,duration:a-Ms,ease:"linear"}}const pc={anticipate:zl,backInOut:Hl,circInOut:Gl};function xg(t){return t in pc}class oa extends cc{constructor(e){super(e);const{name:s,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new lc(a,(o,l)=>this.onKeyframesResolved(o,l),s,r,i),this.resolver.scheduleResolve()}initPlayback(e,s){let{duration:r=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&Cs()&&xg(a)&&(a=pc[a]),pg(this.options)){const{onComplete:h,onUpdate:m,motionValue:f,element:x,...p}=this.options,g=gg(e,p);e=g.keyframes,e.length===1&&(e[1]=e[0]),r=g.duration,i=g.times,a=g.ease,o="keyframes"}const u=hg(l.owner.current,c,e,{...this.options,duration:r,times:i,ease:a});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(Hi(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Js(e,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return we(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return we(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=be(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return te;const{animation:r}=s;Hi(r,e)}return te}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:r,duration:i,type:a,ease:o,times:l}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:m,...f}=this.options,x=new si({...f,keyframes:r,duration:i,type:a,ease:o,times:l,isGenerator:!0}),p=be(this.time);d.setWithVelocity(x.sample(p-Ms).value,x.sample(p).value,Ms)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:r,repeatDelay:i,repeatType:a,damping:o,type:l}=e;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=s.owner.getProps();return mg()&&r&&ug.has(r)&&!c&&!d&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const yg={type:"spring",stiffness:500,damping:25,restSpeed:10},vg=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bg={type:"keyframes",duration:.8},wg={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jg=(t,{keyframes:e})=>e.length>2?bg:Je.has(t)?t.startsWith("scale")?vg(e[1]):yg:wg;function kg({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const ri=(t,e,s,r={},i,a)=>o=>{const l=Bn(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-be(c);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};kg(l)||(u={...u,...jg(t,u)}),u.duration&&(u.duration=be(u.duration)),u.repeatDelay&&(u.repeatDelay=be(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!a&&e.get()!==void 0){const m=Js(u.keyframes,l);if(m!==void 0)return I.update(()=>{u.onUpdate(m),u.onComplete()}),new Bf([])}return!a&&oa.supports(u)?new oa(u):new si(u)};function _g({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function gc(t,e,{delay:s=0,transitionOverride:r,type:i}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const d=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in c){const m=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),f=c[h];if(f===void 0||u&&_g(u,h))continue;const x={delay:s,...Bn(o||{},h)};let p=!1;if(window.MotionHandoffAnimation){const y=Vl(t);if(y){const w=window.MotionHandoffAnimation(y,h,I);w!==null&&(x.startTime=w,p=!0)}}Yr(t,h),m.start(ri(h,m,f,t.shouldReduceMotion&&$l.has(h)?{type:!1}:x,t,p));const g=m.animation;g&&d.push(g)}return l&&Promise.all(d).then(()=>{I.update(()=>{l&&sp(t,l)})}),d}function sn(t,e,s={}){var r;const i=Ys(t,e,s.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const o=i?()=>Promise.all(gc(t,i,s)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=a;return Ng(t,e,u+d,h,m,s)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(s.delay)])}function Ng(t,e,s=0,r=0,i=1,a){const o=[],l=(t.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(Sg).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(sn(d,e,{...a,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function Sg(t,e){return t.sortNodePosition(e)}function Tg(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>sn(t,a,s));r=Promise.all(i)}else if(typeof e=="string")r=sn(t,e,s);else{const i=typeof e=="function"?Ys(t,e,s.custom):e;r=Promise.all(gc(t,i,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Pg=An.length;function xc(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?xc(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<Pg;s++){const r=An[s],i=t.props[r];(zt(i)||i===!1)&&(e[r]=i)}return e}const Cg=[...Cn].reverse(),Ag=Cn.length;function Eg(t){return e=>Promise.all(e.map(({animation:s,options:r})=>Tg(t,s,r)))}function Mg(t){let e=Eg(t),s=la(),r=!0;const i=c=>(d,u)=>{var h;const m=Ys(t,u,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:f,transitionEnd:x,...p}=m;d={...d,...p,...x}}return d};function a(c){e=c(t)}function o(c){const{props:d}=t,u=xc(t.parent)||{},h=[],m=new Set;let f={},x=1/0;for(let g=0;g<Ag;g++){const y=Cg[g],w=s[y],b=d[y]!==void 0?d[y]:u[y],j=zt(b),_=y===c?w.isActive:null;_===!1&&(x=g);let S=b===u[y]&&b!==d[y]&&j;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),w.protectedKeys={...f},!w.isActive&&_===null||!b&&!w.prevProp||Ks(b)||typeof b=="boolean")continue;const C=Og(w.prevProp,b);let P=C||y===c&&w.isActive&&!S&&j||g>x&&j,O=!1;const $=Array.isArray(b)?b:[b];let ke=$.reduce(i(y),{});_===!1&&(ke={});const{prevResolvedValues:os={}}=w,Qs={...os,...ke},ls=k=>{P=!0,m.has(k)&&(O=!0,m.delete(k)),w.needsAnimating[k]=!0;const V=t.getValue(k);V&&(V.liveStyle=!1)};for(const k in Qs){const V=ke[k],_e=os[k];if(f.hasOwnProperty(k))continue;let St=!1;zr(V)&&zr(_e)?St=!Al(V,_e):St=V!==_e,St?V!=null?ls(k):m.add(k):V!==void 0&&m.has(k)?ls(k):w.protectedKeys[k]=!0}w.prevProp=b,w.prevResolvedValues=ke,w.isActive&&(f={...f,...ke}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(S&&C)||O)&&h.push(...$.map(k=>({animation:k,options:{type:y}})))}if(m.size){const g={};m.forEach(y=>{const w=t.getBaseTarget(y),b=t.getValue(y);b&&(b.liveStyle=!0),g[y]=w??null}),h.push({animation:g})}let p=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(p=!1),r=!1,p?e(h):Promise.resolve()}function l(c,d){var u;if(s[c].isActive===d)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(m=>{var f;return(f=m.animationState)===null||f===void 0?void 0:f.setActive(c,d)}),s[c].isActive=d;const h=o(c);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=la(),r=!0}}}function Og(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Al(e,t):!1}function Ue(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function la(){return{animate:Ue(!0),whileInView:Ue(),whileHover:Ue(),whileTap:Ue(),whileDrag:Ue(),whileFocus:Ue(),exit:Ue()}}class Le{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Rg extends Le{constructor(e){super(e),e.animationState||(e.animationState=Mg(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ks(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Dg=0;class Lg extends Le{constructor(){super(...arguments),this.id=Dg++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Ig={animation:{Feature:Rg},exit:{Feature:Lg}};function Jt(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function as(t){return{point:{x:t.pageX,y:t.pageY}}}const $g=t=>e=>Hn(e)&&t(e,as(e));function Vt(t,e,s,r){return Jt(t,e,$g(s),r)}const ca=(t,e)=>Math.abs(t-e);function Ug(t,e){const s=ca(t.x,e.x),r=ca(t.y,e.y);return Math.sqrt(s**2+r**2)}class yc{constructor(e,s,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=xr(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=Ug(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:x}=h,{timestamp:p}=G;this.history.push({...x,timestamp:p});const{onStart:g,onMove:y}=this.handlers;m||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=gr(m,this.transformPagePoint),I.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:x,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=xr(h.type==="pointercancel"?this.lastMoveEventInfo:gr(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,g),x&&x(h,g)},!Hn(e))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.contextWindow=i||window;const o=as(e),l=gr(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=G;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(e,xr(l,this.history)),this.removeListeners=is(Vt(this.contextWindow,"pointermove",this.handlePointerMove),Vt(this.contextWindow,"pointerup",this.handlePointerUp),Vt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Me(this.updatePoint)}}function gr(t,e){return e?{point:e(t.point)}:t}function da(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xr({point:t},e){return{point:t,delta:da(t,vc(e)),offset:da(t,Vg(e)),velocity:Fg(e,.1)}}function Vg(t){return t[0]}function vc(t){return t[t.length-1]}function Fg(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const i=vc(t);for(;s>=0&&(r=t[s],!(i.timestamp-r.timestamp>be(e)));)s--;if(!r)return{x:0,y:0};const a=we(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const bc=1e-4,Bg=1-bc,Wg=1+bc,wc=.01,qg=0-wc,Hg=0+wc;function se(t){return t.max-t.min}function zg(t,e,s){return Math.abs(t-e)<=s}function ua(t,e,s,r=.5){t.origin=r,t.originPoint=F(e.min,e.max,t.origin),t.scale=se(s)/se(e),t.translate=F(s.min,s.max,t.origin)-t.originPoint,(t.scale>=Bg&&t.scale<=Wg||isNaN(t.scale))&&(t.scale=1),(t.translate>=qg&&t.translate<=Hg||isNaN(t.translate))&&(t.translate=0)}function Ft(t,e,s,r){ua(t.x,e.x,s.x,r?r.originX:void 0),ua(t.y,e.y,s.y,r?r.originY:void 0)}function ha(t,e,s){t.min=s.min+e.min,t.max=t.min+se(e)}function Kg(t,e,s){ha(t.x,e.x,s.x),ha(t.y,e.y,s.y)}function ma(t,e,s){t.min=e.min-s.min,t.max=t.min+se(e)}function Bt(t,e,s){ma(t.x,e.x,s.x),ma(t.y,e.y,s.y)}function Gg(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?F(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?F(s,t,r.max):Math.min(t,s)),t}function fa(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function Yg(t,{top:e,left:s,bottom:r,right:i}){return{x:fa(t.x,s,i),y:fa(t.y,e,r)}}function pa(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function Jg(t,e){return{x:pa(t.x,e.x),y:pa(t.y,e.y)}}function Zg(t,e){let s=.5;const r=se(t),i=se(e);return i>r?s=pt(e.min,e.max-r,t.min):r>i&&(s=pt(t.min,t.max-i,e.min)),je(0,1,s)}function Xg(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const rn=.35;function Qg(t=rn){return t===!1?t=0:t===!0&&(t=rn),{x:ga(t,"left","right"),y:ga(t,"top","bottom")}}function ga(t,e,s){return{min:xa(t,e),max:xa(t,s)}}function xa(t,e){return typeof t=="number"?t:t[e]||0}const ya=()=>({translate:0,scale:1,origin:0,originPoint:0}),lt=()=>({x:ya(),y:ya()}),va=()=>({min:0,max:0}),W=()=>({x:va(),y:va()});function ie(t){return[t("x"),t("y")]}function jc({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function e0({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function t0(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function yr(t){return t===void 0||t===1}function nn({scale:t,scaleX:e,scaleY:s}){return!yr(t)||!yr(e)||!yr(s)}function Fe(t){return nn(t)||kc(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kc(t){return ba(t.x)||ba(t.y)}function ba(t){return t&&t!=="0%"}function Os(t,e,s){const r=t-s,i=e*r;return s+i}function wa(t,e,s,r,i){return i!==void 0&&(t=Os(t,i,r)),Os(t,s,r)+e}function an(t,e=0,s=1,r,i){t.min=wa(t.min,e,s,r,i),t.max=wa(t.max,e,s,r,i)}function _c(t,{x:e,y:s}){an(t.x,e.translate,e.scale,e.originPoint),an(t.y,s.translate,s.scale,s.originPoint)}const ja=.999999999999,ka=1.0000000000001;function s0(t,e,s,r=!1){const i=s.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&dt(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_c(t,o)),r&&Fe(a.latestValues)&&dt(t,a.latestValues))}e.x<ka&&e.x>ja&&(e.x=1),e.y<ka&&e.y>ja&&(e.y=1)}function ct(t,e){t.min=t.min+e,t.max=t.max+e}function _a(t,e,s,r,i=.5){const a=F(t.min,t.max,i);an(t,e,s,a,r)}function dt(t,e){_a(t.x,e.x,e.scaleX,e.scale,e.originX),_a(t.y,e.y,e.scaleY,e.scale,e.originY)}function Nc(t,e){return jc(t0(t.getBoundingClientRect(),e))}function r0(t,e,s){const r=Nc(t,s),{scroll:i}=e;return i&&(ct(r.x,i.offset.x),ct(r.y,i.offset.y)),r}const Sc=({current:t})=>t?t.ownerDocument.defaultView:null,n0=new WeakMap;class i0{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=W(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(as(u).point)},a=(u,h)=>{const{drag:m,dragPropagation:f,onDragStart:x}=this.getProps();if(m&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Zf(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ie(g=>{let y=this.getAxisMotionValue(g).get()||0;if(me.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[g];b&&(y=se(b)*(parseFloat(y)/100))}}this.originPoint[g]=y}),x&&I.postRender(()=>x(u,h)),Yr(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:x,onDrag:p}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=h;if(f&&this.currentDirection===null){this.currentDirection=a0(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),p&&p(u,h)},l=(u,h)=>this.stop(u,h),c=()=>ie(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new yc(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Sc(this.visualElement)})}stop(e,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&I.postRender(()=>a(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:i}=this.getProps();if(!r||!ps(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Gg(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;s&&at(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=Yg(i.layoutBox,s):this.constraints=!1,this.elastic=Qg(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ie(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Xg(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!at(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=r0(r,i.root,this.visualElement.getTransformPagePoint());let o=Jg(i.layout.layoutBox,a);if(s){const l=s(e0(o));this.hasMutatedConstraints=!!l,l&&(o=jc(l))}return o}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ie(u=>{if(!ps(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,x={type:"inertia",velocity:r?e[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return Yr(this.visualElement,e),r.start(ri(e,r,0,s,this.visualElement,!1))}stopAnimation(){ie(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ie(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ie(s=>{const{drag:r}=this.getProps();if(!ps(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(e[s]-F(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!at(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ie(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=Zg({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ie(o=>{if(!ps(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(F(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;n0.set(this.visualElement,this);const e=this.visualElement.current,s=Vt(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();at(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),I.read(r);const o=Jt(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ie(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=rn,dragMomentum:l=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function ps(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function a0(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class o0 extends Le{constructor(e){super(e),this.removeGroupControls=te,this.removeListeners=te,this.controls=new i0(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||te}unmount(){this.removeGroupControls(),this.removeListeners()}}const Na=t=>(e,s)=>{t&&I.postRender(()=>t(e,s))};class l0 extends Le{constructor(){super(...arguments),this.removePointerDownListener=te}onPointerDown(e){this.session=new yc(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Sc(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Na(e),onStart:Na(s),onMove:r,onEnd:(a,o)=>{delete this.session,i&&I.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Vt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sa(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(T.test(t))t=parseFloat(t);else return t;const s=Sa(t,e.target.x),r=Sa(t,e.target.y);return`${s}% ${r}%`}},c0={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,i=Oe.parse(t);if(i.length>5)return r;const a=Oe.createTransformer(t),o=typeof i[0]!="number"?1:0,l=s.x.scale*e.x,c=s.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=F(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};class d0 extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;Af(u0),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),vs.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||I.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mn.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Tc(t){const[e,s]=qm(),r=v.useContext(cl);return n.jsx(d0,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(xl),isPresent:e,safeToRemove:s})}const u0={borderRadius:{...Pt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomLeftRadius:Pt,borderBottomRightRadius:Pt,boxShadow:c0};function h0(t,e,s){const r=Z(t)?t:Gt(t);return r.start(ri("",r,e,s)),r.animation}function m0(t){return t instanceof SVGElement&&t.tagName!=="svg"}const f0=(t,e)=>t.depth-e.depth;class p0{constructor(){this.children=[],this.isDirty=!1}add(e){zn(this.children,e),this.isDirty=!0}remove(e){Kn(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(f0),this.isDirty=!1,this.children.forEach(e)}}function g0(t,e){const s=fe.now(),r=({timestamp:i})=>{const a=i-s;a>=e&&(Me(r),t(a-e))};return I.read(r,!0),()=>Me(r)}const Pc=["TopLeft","TopRight","BottomLeft","BottomRight"],x0=Pc.length,Ta=t=>typeof t=="string"?parseFloat(t):t,Pa=t=>typeof t=="number"||T.test(t);function y0(t,e,s,r,i,a){i?(t.opacity=F(0,s.opacity!==void 0?s.opacity:1,v0(r)),t.opacityExit=F(e.opacity!==void 0?e.opacity:1,0,b0(r))):a&&(t.opacity=F(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let o=0;o<x0;o++){const l=`border${Pc[o]}Radius`;let c=Ca(e,l),d=Ca(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Pa(c)===Pa(d)?(t[l]=Math.max(F(Ta(c),Ta(d),r),0),(me.test(d)||me.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||s.rotate)&&(t.rotate=F(e.rotate||0,s.rotate||0,r))}function Ca(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const v0=Cc(0,.5,Kl),b0=Cc(.5,.95,te);function Cc(t,e,s){return r=>r<t?0:r>e?1:s(pt(t,e,r))}function Aa(t,e){t.min=e.min,t.max=e.max}function re(t,e){Aa(t.x,e.x),Aa(t.y,e.y)}function Ea(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ma(t,e,s,r,i){return t-=e,t=Os(t,1/s,r),i!==void 0&&(t=Os(t,1/i,r)),t}function w0(t,e=0,s=1,r=.5,i,a=t,o=t){if(me.test(e)&&(e=parseFloat(e),e=F(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=F(a.min,a.max,r);t===a&&(l-=e),t.min=Ma(t.min,e,s,l,i),t.max=Ma(t.max,e,s,l,i)}function Oa(t,e,[s,r,i],a,o){w0(t,e[s],e[r],e[i],e.scale,a,o)}const j0=["x","scaleX","originX"],k0=["y","scaleY","originY"];function Ra(t,e,s,r){Oa(t.x,e,j0,s?s.x:void 0,r?r.x:void 0),Oa(t.y,e,k0,s?s.y:void 0,r?r.y:void 0)}function Da(t){return t.translate===0&&t.scale===1}function Ac(t){return Da(t.x)&&Da(t.y)}function La(t,e){return t.min===e.min&&t.max===e.max}function _0(t,e){return La(t.x,e.x)&&La(t.y,e.y)}function Ia(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ec(t,e){return Ia(t.x,e.x)&&Ia(t.y,e.y)}function $a(t){return se(t.x)/se(t.y)}function Ua(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class N0{constructor(){this.members=[]}add(e){zn(this.members,e),e.scheduleRender()}remove(e){if(Kn(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function S0(t,e,s){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:x}=s;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),f&&(r+=`skewX(${f}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Be={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Dt=typeof window<"u"&&window.MotionDebug!==void 0,vr=["","X","Y","Z"],T0={visibility:"hidden"},Va=1e3;let P0=0;function br(t,e,s,r){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Mc(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=Vl(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",I,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Mc(r)}function Oc({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=P0++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Dt&&(Be.totalNodes=Be.resolvedTargetDeltas=Be.recalculatedProjection=0),this.nodes.forEach(E0),this.nodes.forEach(L0),this.nodes.forEach(I0),this.nodes.forEach(M0),Dt&&window.MotionDebug.record(Be)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new p0)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gn),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=m0(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=g0(m,250),vs.hasAnimatedSinceResize&&(vs.hasAnimatedSinceResize=!1,this.nodes.forEach(Ba))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||B0,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!Ec(this.targetLayout,x)||f,b=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||m&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const j={...Bn(p,"layout"),onPlay:g,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||Ba(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Me(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($0),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Mc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fa);return}this.isUpdating||this.nodes.forEach(R0),this.isUpdating=!1,this.nodes.forEach(D0),this.nodes.forEach(C0),this.nodes.forEach(A0),this.clearAllSnapshots();const l=fe.now();G.delta=je(0,1e3/60,l-G.timestamp),G.timestamp=l,G.isProcessing=!0,dr.update.process(G),dr.preRender.process(G),dr.render.process(G),G.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(O0),this.sharedNodes.forEach(U0)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,I.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){I.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=W(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ac(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Fe(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),W0(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return W();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(q0))){const{scroll:u}=this.root;u&&(ct(c.x,u.offset.x),ct(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=W();if(re(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&re(c,o),ct(c.x,h.offset.x),ct(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=W();re(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&dt(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Fe(u.latestValues)&&dt(c,u.latestValues)}return Fe(this.latestValues)&&dt(c,this.latestValues),c}removeTransform(o){const l=W();re(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Fe(d.latestValues))continue;nn(d.latestValues)&&d.updateSnapshot();const u=W(),h=d.measurePageBox();re(u,h),Ra(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Fe(this.latestValues)&&Ra(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==G.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=G.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=W(),this.relativeTargetOrigin=W(),Bt(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),re(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=W(),this.targetWithTransforms=W()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kg(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):re(this.target,this.layout.layoutBox),_c(this.target,this.targetDelta)):re(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=W(),this.relativeTargetOrigin=W(),Bt(this.relativeTargetOrigin,this.target,f.target),re(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Dt&&Be.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||nn(this.parent.latestValues)||kc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===G.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;re(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;s0(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=W());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ea(this.prevProjectionDelta.x,this.projectionDelta.x),Ea(this.prevProjectionDelta.y,this.projectionDelta.y)),Ft(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!Ua(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ua(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Dt&&Be.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lt(),this.projectionDelta=lt(),this.projectionDeltaWithTransform=lt()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=lt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=W(),f=c?c.source:void 0,x=this.layout?this.layout.source:void 0,p=f!==x,g=this.getStack(),y=!g||g.members.length<=1,w=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(F0));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const _=j/1e3;Wa(h.x,o.x,_),Wa(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bt(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),V0(this.relativeTarget,this.relativeTargetOrigin,m,_),b&&_0(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=W()),re(b,this.relativeTarget)),p&&(this.animationValues=u,y0(u,d,this.latestValues,_,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Me(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=I.update(()=>{vs.hasAnimatedSinceResize=!0,this.currentAnimation=h0(0,Va,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Va),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Rc(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||W();const h=se(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=se(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}re(l,c),dt(l,u),Ft(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new N0),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&br("z",o,d,this.animationValues);for(let u=0;u<vr.length;u++)br(`rotate${vr[u]}`,o,d,this.animationValues),br(`skew${vr[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return T0;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=xs(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=xs(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Fe(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=S0(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:f,y:x}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${x.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const p in Ps){if(m[p]===void 0)continue;const{correct:g,applyTo:y}=Ps[p],w=d.transform==="none"?m[p]:g(m[p],h);if(y){const b=y.length;for(let j=0;j<b;j++)d[y[j]]=w}else d[p]=w}return this.options.layoutId&&(d.pointerEvents=h===this?xs(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Fa),this.root.sharedNodes.clear()}}}function C0(t){t.updateLayout()}function A0(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,o=s.source!==t.layout.source;a==="size"?ie(h=>{const m=o?s.measuredBox[h]:s.layoutBox[h],f=se(m);m.min=r[h].min,m.max=m.min+f}):Rc(a,s.layoutBox,r)&&ie(h=>{const m=o?s.measuredBox[h]:s.layoutBox[h],f=se(r[h]);m.max=m.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const l=lt();Ft(l,r,s.layoutBox);const c=lt();o?Ft(c,t.applyTransform(i,!0),s.measuredBox):Ft(c,r,s.layoutBox);const d=!Ac(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const x=W();Bt(x,s.layoutBox,m.layoutBox);const p=W();Bt(p,r,f.layoutBox),Ec(x,p)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function E0(t){Dt&&Be.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function M0(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function O0(t){t.clearSnapshot()}function Fa(t){t.clearMeasurements()}function R0(t){t.isLayoutDirty=!1}function D0(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ba(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function L0(t){t.resolveTargetDelta()}function I0(t){t.calcProjection()}function $0(t){t.resetSkewAndRotation()}function U0(t){t.removeLeadSnapshot()}function Wa(t,e,s){t.translate=F(e.translate,0,s),t.scale=F(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function qa(t,e,s,r){t.min=F(e.min,s.min,r),t.max=F(e.max,s.max,r)}function V0(t,e,s,r){qa(t.x,e.x,s.x,r),qa(t.y,e.y,s.y,r)}function F0(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const B0={duration:.45,ease:[.4,0,.1,1]},Ha=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),za=Ha("applewebkit/")&&!Ha("chrome/")?Math.round:te;function Ka(t){t.min=za(t.min),t.max=za(t.max)}function W0(t){Ka(t.x),Ka(t.y)}function Rc(t,e,s){return t==="position"||t==="preserve-aspect"&&!zg($a(e),$a(s),.2)}function q0(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const H0=Oc({attachResizeListener:(t,e)=>Jt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wr={current:void 0},Dc=Oc({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wr.current){const t=new H0({});t.mount(window),t.setOptions({layoutScroll:!0}),wr.current=t}return wr.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),z0={pan:{Feature:l0},drag:{Feature:o0,ProjectionNode:Dc,MeasureLayout:Tc}};function Ga(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=r[i];a&&I.postRender(()=>a(e,as(e)))}class K0 extends Le{mount(){const{current:e}=this.node;e&&(this.unmount=zf(e,s=>(Ga(this.node,s,"Start"),r=>Ga(this.node,r,"End"))))}unmount(){}}class G0 extends Le{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=is(Jt(this.node.current,"focus",()=>this.onFocus()),Jt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ya(t,e,s){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=r[i];a&&I.postRender(()=>a(e,as(e)))}class Y0 extends Le{mount(){const{current:e}=this.node;e&&(this.unmount=Jf(e,s=>(Ya(this.node,s,"Start"),(r,{success:i})=>Ya(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const on=new WeakMap,jr=new WeakMap,J0=t=>{const e=on.get(t.target);e&&e(t)},Z0=t=>{t.forEach(J0)};function X0({root:t,...e}){const s=t||document;jr.has(s)||jr.set(s,{});const r=jr.get(s),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Z0,{root:t,...e})),r[i]}function Q0(t,e,s){const r=X0(e);return on.set(t,s),r.observe(t),()=>{on.delete(t),r.unobserve(t)}}const ex={some:0,all:1};class tx extends Le{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=e,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:ex[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return Q0(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(sx(e,s))&&this.startObserver()}unmount(){}}function sx({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const rx={inView:{Feature:tx},tap:{Feature:Y0},focus:{Feature:G0},hover:{Feature:K0}},nx={layout:{ProjectionNode:Dc,MeasureLayout:Tc}},ln={current:null},Lc={current:!1};function ix(){if(Lc.current=!0,!!Tn)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ln.current=t.matches;t.addListener(e),e()}else ln.current=!1}const ax=[...oc,J,Oe],ox=t=>ax.find(ac(t)),Ja=new WeakMap;function lx(t,e,s){for(const r in e){const i=e[r],a=s[r];if(Z(i))t.addValue(r,i);else if(Z(a))t.addValue(r,Gt(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Gt(o!==void 0?o:i,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const Za=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cx{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ei,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=fe.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,I.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Gs(s),this.isVariantNode=pl(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in m){const x=m[f];c[f]!==void 0&&Z(x)&&x.set(c[f],!1)}}mount(e){this.current=e,Ja.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),Lc.current||ix(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ln.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ja.delete(this.current),this.projection&&this.projection.unmount(),Me(this.notifyUpdate),Me(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Je.has(e),i=s.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&I.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gt){const s=gt[e];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):W()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Za.length;r++){const i=Za[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=lx(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=Gt(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(nc(i)||Yl(i))?i=parseFloat(i):!ox(i)&&Oe.test(s)&&(i=tc(e,s)),this.setBaseTarget(e,Z(i)?i.get():i)),Z(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Rn(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Z(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Gn),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class Ic extends cx{constructor(){super(...arguments),this.KeyframeResolver=lc}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Z(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function dx(t){return window.getComputedStyle(t)}class ux extends Ic{constructor(){super(...arguments),this.type="html",this.renderInstance=_l}readValueFromInstance(e,s){if(Je.has(s)){const r=Qn(s);return r&&r.default||0}else{const r=dx(e),i=(wl(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Nc(e,s)}build(e,s,r){In(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Fn(e,s,r)}}class hx extends Ic{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=W}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Je.has(s)){const r=Qn(s);return r&&r.default||0}return s=Nl.has(s)?s:En(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return Pl(e,s,r)}build(e,s,r){$n(e,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,s,r,i){Sl(e,s,r,i)}mount(e){this.isSVGTag=Vn(e.tagName),super.mount(e)}}const mx=(t,e)=>On(t)?new hx(e):new ux(e,{allowProjection:t!==v.Fragment}),fx=Uf({...Ig,...rx,...z0,...nx},mx),Y=Qm(fx);function ue(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ke(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const $c=6048e5,px=864e5;let gx={};function Zs(){return gx}function Zt(t,e){var l,c,d,u;const s=Zs(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=ue(t),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Rs(t){return Zt(t,{weekStartsOn:1})}function Uc(t){const e=ue(t),s=e.getFullYear(),r=Ke(t,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const i=Rs(r),a=Ke(t,0);a.setFullYear(s,0,4),a.setHours(0,0,0,0);const o=Rs(a);return e.getTime()>=i.getTime()?s+1:e.getTime()>=o.getTime()?s:s-1}function Xa(t){const e=ue(t);return e.setHours(0,0,0,0),e}function Qa(t){const e=ue(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function xx(t,e){const s=Xa(t),r=Xa(e),i=+s-Qa(s),a=+r-Qa(r);return Math.round((i-a)/px)}function yx(t){const e=Uc(t),s=Ke(t,0);return s.setFullYear(e,0,4),s.setHours(0,0,0,0),Rs(s)}function vx(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bx(t){if(!vx(t)&&typeof t!="number")return!1;const e=ue(t);return!isNaN(Number(e))}function wx(t){const e=ue(t),s=Ke(t,0);return s.setFullYear(e.getFullYear(),0,1),s.setHours(0,0,0,0),s}const jx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kx=(t,e,s)=>{let r;const i=jx[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function kr(t){return(e={})=>{const s=e.width?String(e.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const _x={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tx={date:kr({formats:_x,defaultWidth:"full"}),time:kr({formats:Nx,defaultWidth:"full"}),dateTime:kr({formats:Sx,defaultWidth:"full"})},Px={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cx=(t,e,s,r)=>Px[t];function Ct(t){return(e,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=s!=null&&s.width?String(s.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=s!=null&&s.width?String(s.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Ax={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ex={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ox={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Dx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Lx=(t,e)=>{const s=Number(t),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Ix={ordinalNumber:Lx,era:Ct({values:Ax,defaultWidth:"wide"}),quarter:Ct({values:Ex,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ct({values:Mx,defaultWidth:"wide"}),day:Ct({values:Ox,defaultWidth:"wide"}),dayPeriod:Ct({values:Rx,defaultWidth:"wide",formattingValues:Dx,defaultFormattingWidth:"wide"})};function At(t){return(e,s={})=>{const r=s.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Ux(l,h=>h.test(o)):$x(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function $x(t,e){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return s}function Ux(t,e){for(let s=0;s<t.length;s++)if(e(t[s]))return s}function Vx(t){return(e,s={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=s.valueCallback?s.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const Fx=/^(\d+)(th|st|nd|rd)?/i,Bx=/\d+/i,Wx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qx={any:[/^b/i,/^(a|c)/i]},Hx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zx={any:[/1/i,/2/i,/3/i,/4/i]},Kx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Gx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Yx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qx={ordinalNumber:Vx({matchPattern:Fx,parsePattern:Bx,valueCallback:t=>parseInt(t,10)}),era:At({matchPatterns:Wx,defaultMatchWidth:"wide",parsePatterns:qx,defaultParseWidth:"any"}),quarter:At({matchPatterns:Hx,defaultMatchWidth:"wide",parsePatterns:zx,defaultParseWidth:"any",valueCallback:t=>t+1}),month:At({matchPatterns:Kx,defaultMatchWidth:"wide",parsePatterns:Gx,defaultParseWidth:"any"}),day:At({matchPatterns:Yx,defaultMatchWidth:"wide",parsePatterns:Jx,defaultParseWidth:"any"}),dayPeriod:At({matchPatterns:Zx,defaultMatchWidth:"any",parsePatterns:Xx,defaultParseWidth:"any"})},ey={code:"en-US",formatDistance:kx,formatLong:Tx,formatRelative:Cx,localize:Ix,match:Qx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ty(t){const e=ue(t);return xx(e,wx(e))+1}function sy(t){const e=ue(t),s=+Rs(e)-+yx(e);return Math.round(s/$c)+1}function Vc(t,e){var u,h,m,f;const s=ue(t),r=s.getFullYear(),i=Zs(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(m=i.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=Ke(t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Zt(o,e),c=Ke(t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Zt(c,e);return s.getTime()>=l.getTime()?r+1:s.getTime()>=d.getTime()?r:r-1}function ry(t,e){var l,c,d,u;const s=Zs(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=Vc(t,e),a=Ke(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Zt(a,e)}function ny(t,e){const s=ue(t),r=+Zt(s,e)-+ry(s,e);return Math.round(r/$c)+1}function R(t,e){const s=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return s+r}const Se={y(t,e){const s=t.getFullYear(),r=s>0?s:1-s;return R(e==="yy"?r%100:r,e.length)},M(t,e){const s=t.getMonth();return e==="M"?String(s+1):R(s+1,2)},d(t,e){return R(t.getDate(),e.length)},a(t,e){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,e){return R(t.getHours()%12||12,e.length)},H(t,e){return R(t.getHours(),e.length)},m(t,e){return R(t.getMinutes(),e.length)},s(t,e){return R(t.getSeconds(),e.length)},S(t,e){const s=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,s-3));return R(i,e.length)}},st={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eo={G:function(t,e,s){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(t,e,s){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return s.ordinalNumber(i,{unit:"year"})}return Se.y(t,e)},Y:function(t,e,s,r){const i=Vc(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return R(o,2)}return e==="Yo"?s.ordinalNumber(a,{unit:"year"}):R(a,e.length)},R:function(t,e){const s=Uc(t);return R(s,e.length)},u:function(t,e){const s=t.getFullYear();return R(s,e.length)},Q:function(t,e,s){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return R(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,s){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return R(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,s){const r=t.getMonth();switch(e){case"M":case"MM":return Se.M(t,e);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,s){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return R(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,s,r){const i=ny(t,r);return e==="wo"?s.ordinalNumber(i,{unit:"week"}):R(i,e.length)},I:function(t,e,s){const r=sy(t);return e==="Io"?s.ordinalNumber(r,{unit:"week"}):R(r,e.length)},d:function(t,e,s){return e==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):Se.d(t,e)},D:function(t,e,s){const r=ty(t);return e==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):R(r,e.length)},E:function(t,e,s){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,s,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return R(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,s,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return R(a,e.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,s){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return R(i,e.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,s){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,s){const r=t.getHours();let i;switch(r===12?i=st.noon:r===0?i=st.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,s){const r=t.getHours();let i;switch(r>=17?i=st.evening:r>=12?i=st.afternoon:r>=4?i=st.morning:i=st.night,e){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,s){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return Se.h(t,e)},H:function(t,e,s){return e==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):Se.H(t,e)},K:function(t,e,s){const r=t.getHours()%12;return e==="Ko"?s.ordinalNumber(r,{unit:"hour"}):R(r,e.length)},k:function(t,e,s){let r=t.getHours();return r===0&&(r=24),e==="ko"?s.ordinalNumber(r,{unit:"hour"}):R(r,e.length)},m:function(t,e,s){return e==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):Se.m(t,e)},s:function(t,e,s){return e==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):Se.s(t,e)},S:function(t,e){return Se.S(t,e)},X:function(t,e,s){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return so(r);case"XXXX":case"XX":return We(r);case"XXXXX":case"XXX":default:return We(r,":")}},x:function(t,e,s){const r=t.getTimezoneOffset();switch(e){case"x":return so(r);case"xxxx":case"xx":return We(r);case"xxxxx":case"xxx":default:return We(r,":")}},O:function(t,e,s){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+to(r,":");case"OOOO":default:return"GMT"+We(r,":")}},z:function(t,e,s){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+to(r,":");case"zzzz":default:return"GMT"+We(r,":")}},t:function(t,e,s){const r=Math.trunc(t.getTime()/1e3);return R(r,e.length)},T:function(t,e,s){const r=t.getTime();return R(r,e.length)}};function to(t,e=""){const s=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?s+String(i):s+String(i)+e+R(a,2)}function so(t,e){return t%60===0?(t>0?"-":"+")+R(Math.abs(t)/60,2):We(t,e)}function We(t,e=""){const s=t>0?"-":"+",r=Math.abs(t),i=R(Math.trunc(r/60),2),a=R(r%60,2);return s+i+e+a}const ro=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Fc=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},iy=(t,e)=>{const s=t.match(/(P+)(p+)?/)||[],r=s[1],i=s[2];if(!i)return ro(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",ro(r,e)).replace("{{time}}",Fc(i,e))},ay={p:Fc,P:iy},oy=/^D+$/,ly=/^Y+$/,cy=["D","DD","YY","YYYY"];function dy(t){return oy.test(t)}function uy(t){return ly.test(t)}function hy(t,e,s){const r=my(t,e,s);if(console.warn(r),cy.includes(t))throw new RangeError(r)}function my(t,e,s){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fy=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,py=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gy=/^'([^]*?)'?$/,xy=/''/g,yy=/[a-zA-Z]/;function Xs(t,e,s){var u,h,m,f;const r=Zs(),i=r.locale??ey,a=r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((f=(m=r.locale)==null?void 0:m.options)==null?void 0:f.weekStartsOn)??0,l=ue(t);if(!bx(l))throw new RangeError("Invalid time value");let c=e.match(py).map(x=>{const p=x[0];if(p==="p"||p==="P"){const g=ay[p];return g(x,i.formatLong)}return x}).join("").match(fy).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const p=x[0];if(p==="'")return{isToken:!1,value:vy(x)};if(eo[p])return{isToken:!0,value:x};if(p.match(yy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(x=>{if(!x.isToken)return x.value;const p=x.value;(uy(p)||dy(p))&&hy(p,e,String(t));const g=eo[p[0]];return g(l,p,i.localize,d)}).join("")}function vy(t){const e=t.match(gy);return e?e[1].replace(xy,"'"):t}function by({market:t}){const e=t.current_price*100;return n.jsx(Y.div,{whileHover:{scale:1.02},className:"flex-none w-[300px]",children:n.jsx(E,{to:`/market/${t.id}`,children:n.jsxs("div",{className:"rounded-xl overflow-hidden bg-gray-900 border border-gray-800 hover:border-gray-700 transition-colors",children:[n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-white line-clamp-2 flex-1 pr-4",children:t.title}),n.jsxs("span",{className:"shrink-0 px-2 py-1 bg-green-500/90 rounded text-sm font-medium text-white",children:[e.toFixed(1),"%"]})]}),n.jsx("p",{className:"text-sm text-gray-400 mb-6 line-clamp-2",children:t.description}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-green-400",children:[n.jsx(ge,{className:"h-4 w-4 mr-2 shrink-0"}),n.jsxs("span",{className:"text-sm font-medium",children:["$",t.volume.toLocaleString()]})]}),n.jsxs("div",{className:"flex items-center text-blue-400",children:[n.jsx(jt,{className:"h-4 w-4 mr-2 shrink-0"}),n.jsx("span",{className:"text-sm",children:Xs(new Date(t.target_date),"MMM d")})]})]})]}),n.jsx("div",{className:"h-1 w-full bg-gray-800",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-500",style:{width:`${e}%`}})})]})})})}function rt({title:t,markets:e,id:s}){const r=v.useRef(null),i=a=>{if(r.current){const o=a==="left"?-400:400;r.current.scrollBy({left:o,behavior:"smooth"})}};return e.length?n.jsxs("div",{className:"relative mb-16 pt-8",id:s,children:[n.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:n.jsx("h2",{className:"text-xl font-semibold mb-6 text-white",children:t})}),n.jsxs("div",{className:"group relative",children:[n.jsx("div",{ref:r,className:"flex overflow-x-auto scrollbar-hide px-4 sm:px-6 lg:px-8",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:n.jsx("div",{className:"flex gap-4 pb-4",children:e.map(a=>n.jsx(by,{market:a},a.id))})}),n.jsx("div",{className:"absolute inset-y-0 left-0 w-16 bg-gradient-to-r from-black to-transparent pointer-events-none"}),n.jsx("div",{className:"absolute inset-y-0 right-0 w-16 bg-gradient-to-l from-black to-transparent pointer-events-none"}),n.jsx(Y.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-0 backdrop-blur-sm z-20",onClick:()=>i("left"),children:n.jsx(Tm,{className:"h-6 w-6 text-white"})}),n.jsx(Y.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-0 backdrop-blur-sm z-20",onClick:()=>i("right"),children:n.jsx(Ns,{className:"h-6 w-6 text-white"})})]})]}):null}function wy({pricePoints:t,onSelect:e,selectedPrice:s}){const r=[...t].sort((i,a)=>a.price_point-i.price_point);return n.jsxs("div",{className:"bg-gray-900 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-white",children:"Price Points"}),n.jsxs("div",{className:"flex items-center text-green-400",children:[n.jsx(ge,{className:"h-5 w-5 mr-2"}),n.jsxs("span",{className:"font-medium",children:["$",t.reduce((i,a)=>i+a.volume,0).toLocaleString()]})]})]}),n.jsx("div",{className:"space-y-2",children:r.map(i=>n.jsxs(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${s===i.price_point?"bg-blue-600 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-100"}`,onClick:()=>e(i.price_point),children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-lg font-medium",children:["$",i.price_point.toLocaleString()]}),n.jsxs("span",{className:"text-sm text-gray-400",children:[(i.probability*100).toFixed(0),"%"]})]}),n.jsxs("span",{className:"text-sm text-gray-400",children:["$",i.volume.toLocaleString()]})]},i.price_point))})]})}function jy({orderBook:t,onPlaceOrder:e}){return n.jsxs("div",{className:"bg-gray-900 rounded-xl p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Order Book"}),n.jsx("div",{className:"space-y-1 mb-4",children:t.asks.map((s,r)=>n.jsxs(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-2 rounded bg-red-500/10 hover:bg-red-500/20 transition-colors",onClick:()=>e("buy",s.price,s.size),children:[n.jsxs("div",{className:"flex items-center text-red-400",children:[n.jsx(ll,{className:"h-4 w-4 mr-2"}),n.jsxs("span",{className:"font-medium",children:["$",s.price.toFixed(2)]})]}),n.jsxs("span",{className:"text-gray-400",children:[s.size," shares"]})]},`ask-${r}`))}),n.jsxs("div",{className:"text-center py-2 text-sm text-gray-500",children:["Spread: $",(Math.min(...t.asks.map(s=>s.price))-Math.max(...t.bids.map(s=>s.price))).toFixed(2)]}),n.jsx("div",{className:"space-y-1",children:t.bids.map((s,r)=>n.jsxs(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-2 rounded bg-green-500/10 hover:bg-green-500/20 transition-colors",onClick:()=>e("sell",s.price,s.size),children:[n.jsxs("div",{className:"flex items-center text-green-400",children:[n.jsx(ge,{className:"h-4 w-4 mr-2"}),n.jsxs("span",{className:"font-medium",children:["$",s.price.toFixed(2)]})]}),n.jsxs("span",{className:"text-gray-400",children:[s.size," shares"]})]},`bid-${r}`))})]})}function ky({type:t,currentPrice:e,onTrade:s}){const[r,i]=v.useState(20),a=100,o=l=>{i(Math.min(Math.max(1,l),a))};return n.jsxs("div",{className:"bg-gray-900 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-white",children:t==="buy"?"Buy Yes":"Buy No"}),n.jsxs("div",{className:"text-sm text-gray-400",children:["Max $",a]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"number",value:r,onChange:l=>o(Number(l.target.value)),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500"})]})]}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:[1,20,50,100].map(l=>n.jsxs("button",{onClick:()=>o(l),className:`px-2 py-1 rounded ${r===l?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:["$",l]},l))}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Quantity"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>o(r-1),className:"p-2 rounded-lg bg-gray-800 text-gray-400 hover:bg-gray-700",children:n.jsx(il,{className:"h-5 w-5"})}),n.jsxs("span",{className:"flex-1 text-center text-white text-lg font-medium",children:[(r/e).toFixed(2)," shares"]}),n.jsx("button",{onClick:()=>o(r+1),className:"p-2 rounded-lg bg-gray-800 text-gray-400 hover:bg-gray-700",children:n.jsx(kn,{className:"h-5 w-5"})})]})]}),n.jsx(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s(r),className:`w-full py-3 rounded-lg font-medium ${t==="buy"?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:t==="buy"?"Buy Yes":"Buy No"}),n.jsxs("p",{className:"text-sm text-gray-400 text-center",children:["Est. payout: $",(r*(1/e)).toFixed(2)]})]})]})}const no="your_supabase_project_url_here",_y="your_supabase_anon_key_here";let H=null;no.includes("your_supabase")||(H=wt(no,_y));class Et{static async placeOrder(e){if(!H)return console.warn("Supabase not configured. Using mock data."),this.getMockOrder(e);try{const{data:s,error:r}=await H.from("orders").insert({market_id:e.marketId,user_address:e.userAddress,side:e.side,order_type:e.orderType,amount:e.amount,price:e.price,filled_amount:0,status:"open"}).select().single();if(r)throw r;return s}catch(s){return console.error("Error placing order:",s),null}}static async getOrderBook(e){if(!H)return console.warn("Supabase not configured. Using mock data."),this.getMockOrderBook(e);try{const{data:s,error:r}=await H.from("orders").select("*").eq("market_id",e).eq("status","open").order("price",{ascending:!1});if(r)throw r;const i=(s==null?void 0:s.filter(o=>o.side==="buy"))||[],a=(s==null?void 0:s.filter(o=>o.side==="sell"))||[];return{bids:i,asks:a}}catch(s){return console.error("Error fetching order book:",s),{bids:[],asks:[]}}}static async cancelOrder(e,s){if(!H)return console.warn("Supabase not configured. Using mock data."),!0;try{const{error:r}=await H.from("orders").update({status:"cancelled"}).eq("id",e).eq("user_address",s);if(r)throw r;return!0}catch(r){return console.error("Error cancelling order:",r),!1}}static async getUserOrders(e){if(!H)return console.warn("Supabase not configured. Using mock data."),this.getMockUserOrders(e);try{const{data:s,error:r}=await H.from("orders").select("*").eq("user_address",e).in("status",["open","filled"]).order("created_at",{ascending:!1});if(r)throw r;return s||[]}catch(s){return console.error("Error fetching user orders:",s),[]}}static async getUserTrades(e){if(!H)return console.warn("Supabase not configured. Using mock data."),this.getMockUserTrades(e);try{const{data:s,error:r}=await H.from("trades").select("*").or(`maker_address.eq.${e},taker_address.eq.${e}`).order("created_at",{ascending:!1});if(r)throw r;return s||[]}catch(s){return console.error("Error fetching user trades:",s),[]}}static async getUserPositions(e){if(!H)return console.warn("Supabase not configured. Using mock data."),this.getMockUserPositions(e);try{const{data:s,error:r}=await H.from("market_positions").select("*").eq("user_address",e).order("updated_at",{ascending:!1});if(r)throw r;return s||[]}catch(s){return console.error("Error fetching user positions:",s),[]}}static async executeAtomicSwap(e){if(!H)return console.warn("Supabase not configured. Using mock data."),this.getMockTrade(e);try{const{data:s,error:r}=await H.from("trades").insert({market_id:e.makerOrder.market_id,maker_order_id:e.makerOrder.id,taker_order_id:e.takerOrder.id,maker_address:e.makerOrder.user_address,taker_address:e.takerOrder.user_address,amount:e.amount,price:e.price,fee:e.amount*e.price*.025}).select().single();if(r)throw r;const{error:i}=await H.from("orders").update({filled_amount:e.amount,status:"filled"}).in("id",[e.makerOrder.id,e.takerOrder.id]);if(i)throw i;return s}catch(s){return console.error("Error executing atomic swap:",s),null}}static async resolveMarket(e,s){if(!H)return console.warn("Supabase not configured. Using mock data."),!0;try{const{error:r}=await H.from("prediction_markets").update({resolved:!0,outcome:s,resolved_at:new Date().toISOString()}).eq("id",e);if(r)throw r;const{error:i}=await H.from("ctf_conditions").update({resolved:!0,payout_numerator:s==="yes"?[1,0]:[0,1],payout_denominator:1,resolution_timestamp:new Date().toISOString()}).eq("question_id",e);if(i)throw i;return!0}catch(r){return console.error("Error resolving market:",r),!1}}static getMockOrder(e){return{id:`order_${Date.now()}`,market_id:e.marketId,user_address:e.userAddress,side:e.side,order_type:e.orderType,amount:e.amount,price:e.price,filled_amount:0,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}static getMockOrderBook(e){return{bids:[{id:"bid_1",market_id:e,user_address:"0x1234567890123456789012345678901234567890",side:"buy",order_type:"limit",amount:100,price:.75,filled_amount:0,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"bid_2",market_id:e,user_address:"0x2345678901234567890123456789012345678901",side:"buy",order_type:"limit",amount:50,price:.7,filled_amount:0,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],asks:[{id:"ask_1",market_id:e,user_address:"0x3456789012345678901234567890123456789012",side:"sell",order_type:"limit",amount:75,price:.8,filled_amount:0,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"ask_2",market_id:e,user_address:"0x4567890123456789012345678901234567890123",side:"sell",order_type:"limit",amount:25,price:.85,filled_amount:0,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]}}static getMockUserOrders(e){return[{id:"user_order_1",market_id:"1",user_address:e,side:"buy",order_type:"limit",amount:50,price:.75,filled_amount:25,status:"open",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]}static getMockUserTrades(e){return[{id:"trade_1",market_id:"1",maker_order_id:"maker_order_1",taker_order_id:"taker_order_1",maker_address:e,taker_address:"0x1234567890123456789012345678901234567890",amount:25,price:.75,fee:.47,created_at:new Date().toISOString()}]}static getMockUserPositions(e){return[{id:"position_1",market_id:"1",user_address:e,outcome:"yes",amount:100,average_price:.75,unrealized_pnl:12.5,realized_pnl:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]}static getMockTrade(e){return{id:`trade_${Date.now()}`,market_id:e.makerOrder.market_id,maker_order_id:e.makerOrder.id,taker_order_id:e.takerOrder.id,maker_address:e.makerOrder.user_address,taker_address:e.takerOrder.user_address,amount:e.amount,price:e.price,fee:e.amount*e.price*.025,created_at:new Date().toISOString()}}}const io="your_supabase_project_url_here",Ny="your_supabase_anon_key_here";let U=null;io.includes("your_supabase")||(U=wt(io,Ny));class gs{static async initializeMarket(e){if(!U)return console.warn("Supabase not configured. Using mock data."),this.getMockUMARequest(e);try{const{data:s,error:r}=await U.from("uma_requests").insert({market_id:e.marketId,ancillary_data:e.ancillaryData,request_timestamp:new Date().toISOString(),reward_token:e.rewardToken,reward_amount:e.rewardAmount,proposer:"",dispute_count:0,status:"pending"}).select().single();if(r)throw r;const{error:i}=await U.from("ctf_conditions").insert({question_id:e.marketId,oracle:"uma_optimistic_oracle",outcome_slots:2,parent_collection_id:"climate_markets",condition_id:`condition_${e.marketId}`,resolved:!1,payout_numerator:[0,0],payout_denominator:1});if(i)throw i;return s}catch(s){return console.error("Error initializing market:",s),null}}static async proposeResolution(e){if(!U)return console.warn("Supabase not configured. Using mock data."),!0;try{const{error:s}=await U.from("uma_requests").update({proposer:e.proposerAddress,resolution_data:e.resolutionData,status:"proposed",updated_at:new Date().toISOString()}).eq("market_id",e.marketId);if(s)throw s;const{error:r}=await U.from("market_resolutions").insert({market_id:e.marketId,resolution_data:e.resolutionData,confidence:e.confidence,proposer_address:e.proposerAddress,dispute_count:0,final_resolution:!1});if(r)throw r;return!0}catch(s){return console.error("Error proposing resolution:",s),!1}}static async disputeResolution(e){if(!U)return console.warn("Supabase not configured. Using mock data."),!0;try{const{error:s}=await U.from("uma_requests").update({dispute_timestamp:new Date().toISOString(),dispute_count:U.raw("dispute_count + 1"),status:"disputed",updated_at:new Date().toISOString()}).eq("market_id",e.marketId);if(s)throw s;const{error:r}=await U.from("market_resolutions").update({dispute_count:U.raw("dispute_count + 1"),updated_at:new Date().toISOString()}).eq("market_id",e.marketId);if(r)throw r;return!0}catch(s){return console.error("Error disputing resolution:",s),!1}}static async resolveMarket(e){if(!U)return console.warn("Supabase not configured. Using mock data."),!0;try{const{error:s}=await U.from("uma_requests").update({status:"resolved",resolution_data:e.resolutionData,resolution_timestamp:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("market_id",e.marketId);if(s)throw s;const{error:r}=await U.from("ctf_conditions").update({resolved:!0,payout_numerator:e.outcome==="yes"?[1,0]:[0,1],payout_denominator:1,resolution_timestamp:new Date().toISOString()}).eq("question_id",e.marketId);if(r)throw r;const{error:i}=await U.from("market_resolutions").update({outcome:e.outcome,resolution_data:e.resolutionData,final_resolution:e.finalResolution,updated_at:new Date().toISOString()}).eq("market_id",e.marketId);if(i)throw i;const{error:a}=await U.from("prediction_markets").update({resolved:!0,outcome:e.outcome,resolved_at:new Date().toISOString()}).eq("id",e.marketId);if(a)throw a;return!0}catch(s){return console.error("Error resolving market:",s),!1}}static async getUMARequest(e){if(!U)return console.warn("Supabase not configured. Using mock data."),this.getMockUMARequest({marketId:e,ancillaryData:"",rewardToken:"",rewardAmount:0});try{const{data:s,error:r}=await U.from("uma_requests").select("*").eq("market_id",e).single();if(r)throw r;return s}catch(s){return console.error("Error fetching UMA request:",s),null}}static async getCTFCondition(e){if(!U)return console.warn("Supabase not configured. Using mock data."),this.getMockCTFCondition(e);try{const{data:s,error:r}=await U.from("ctf_conditions").select("*").eq("question_id",e).single();if(r)throw r;return s}catch(s){return console.error("Error fetching CTF condition:",s),null}}static async getMarketResolutions(e){if(!U)return console.warn("Supabase not configured. Using mock data."),this.getMockMarketResolutions(e);try{const{data:s,error:r}=await U.from("market_resolutions").select("*").eq("market_id",e).order("created_at",{ascending:!1});if(r)throw r;return s||[]}catch(s){return console.error("Error fetching market resolutions:",s),[]}}static async canResolveMarket(e){if(!U)return console.warn("Supabase not configured. Using mock data."),!0;try{const s=await this.getUMARequest(e);if(!s)return!1;const r=new Date,i=new Date(s.request_timestamp),a=(r.getTime()-i.getTime())/(1e3*60*60);return s.dispute_count===0?a>=2:s.dispute_count===1?a>=48:a>=72}catch(s){return console.error("Error checking market resolution eligibility:",s),!1}}static getMockUMARequest(e){return{id:`uma_${Date.now()}`,market_id:e.marketId,ancillary_data:e.ancillaryData||"Will the global average temperature exceed 1.5C in 2024?",request_timestamp:new Date().toISOString(),reward_token:e.rewardToken||"USDC",reward_amount:e.rewardAmount||100,proposer:"",dispute_count:0,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}static getMockCTFCondition(e){return{id:`ctf_${e}`,question_id:e,oracle:"uma_optimistic_oracle",outcome_slots:2,parent_collection_id:"climate_markets",condition_id:`condition_${e}`,resolved:!1,payout_numerator:[0,0],payout_denominator:1,created_at:new Date().toISOString()}}static getMockMarketResolutions(e){return[{id:`resolution_${Date.now()}`,market_id:e,outcome:"yes",resolution_data:"NOAA data shows global temperature exceeded 1.5C threshold",resolution_source:"NOAA Climate Data",confidence:.95,proposer_address:"0x1234567890123456789012345678901234567890",dispute_count:0,final_resolution:!0,created_at:new Date().toISOString()}]}}function Sy({marketId:t,currentPrice:e,userAddress:s,isWalletConnected:r}){const[i,a]=v.useState("limit"),[o,l]=v.useState("buy"),[c,d]=v.useState(100),[u,h]=v.useState(e),[m,f]=v.useState(!1),[x,p]=v.useState({bids:[],asks:[]}),[g,y]=v.useState([]),[w,b]=v.useState([]),[j,_]=v.useState(null),[S,C]=v.useState([]),[P,O]=v.useState(!1);v.useEffect(()=>{r&&s&&$()},[t,s,r]);const $=async()=>{O(!0);try{const[k,V,_e,St,Wc]=await Promise.all([Et.getOrderBook(t),Et.getUserOrders(s),Et.getUserPositions(s),gs.getUMARequest(t),gs.getMarketResolutions(t)]);p(k),y(V),b(_e),_(St),C(Wc)}catch(k){console.error("Error loading trading data:",k)}finally{O(!1)}},ke=async()=>{if(!r){alert("Please connect your wallet to trade");return}O(!0);try{await Et.placeOrder({marketId:t,userAddress:s,side:o,orderType:i,amount:c,price:i==="market"?e:u})?(alert("Order placed successfully!"),$(),d(100),h(e)):alert("Failed to place order")}catch(k){console.error("Error placing order:",k),alert("Error placing order")}finally{O(!1)}},os=async k=>{O(!0);try{await Et.cancelOrder(k,s)?(alert("Order cancelled successfully!"),$()):alert("Failed to cancel order")}catch(V){console.error("Error cancelling order:",V),alert("Error cancelling order")}finally{O(!1)}},Qs=async()=>{if(!r){alert("Please connect your wallet to propose resolution");return}const k=prompt("Enter resolution data:"),V=parseFloat(prompt("Enter confidence (0-1):")||"0.95");if(k&&V>=0&&V<=1){O(!0);try{await gs.proposeResolution({marketId:t,resolutionData:k,proposerAddress:s,confidence:V})?(alert("Resolution proposed successfully!"),$()):alert("Failed to propose resolution")}catch(_e){console.error("Error proposing resolution:",_e),alert("Error proposing resolution")}finally{O(!1)}}},ls=async()=>{if(!r){alert("Please connect your wallet to dispute resolution");return}const k=prompt("Enter dispute reason:");if(k){O(!0);try{await gs.disputeResolution({marketId:t,disputerAddress:s,reason:k})?(alert("Resolution disputed successfully!"),$()):alert("Failed to dispute resolution")}catch(V){console.error("Error disputing resolution:",V),alert("Error disputing resolution")}finally{O(!1)}}},ni=k=>{switch(k){case"open":return"text-green-500";case"filled":return"text-blue-500";case"cancelled":return"text-red-500";case"expired":return"text-gray-500";default:return"text-gray-400"}},ii=k=>{switch(k){case"pending":return"text-yellow-500";case"proposed":return"text-blue-500";case"disputed":return"text-red-500";case"resolved":return"text-green-500";default:return"text-gray-400"}};return n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-white",children:"Advanced Trading"}),n.jsxs("button",{onClick:()=>f(!m),className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[m?n.jsx(bn,{className:"w-4 h-4"}):n.jsx(wn,{className:"w-4 h-4"}),n.jsxs("span",{children:[m?"Hide":"Show"," Advanced"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-medium text-white",children:"Place Order"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>a("limit"),className:`px-4 py-2 rounded-lg transition-colors ${i==="limit"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Limit"}),n.jsx("button",{onClick:()=>a("market"),className:`px-4 py-2 rounded-lg transition-colors ${i==="market"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Market"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>l("buy"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-lg transition-colors ${o==="buy"?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[n.jsx(ge,{className:"w-4 h-4"}),n.jsx("span",{children:"Buy"})]}),n.jsxs("button",{onClick:()=>l("sell"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-lg transition-colors ${o==="sell"?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[n.jsx(ll,{className:"w-4 h-4"}),n.jsx("span",{children:"Sell"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount (USDC)"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>d(Math.max(0,c-10)),className:"p-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600",children:n.jsx(il,{className:"w-4 h-4"})}),n.jsx("input",{type:"number",value:c,onChange:k=>d(parseFloat(k.target.value)||0),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white",placeholder:"100"}),n.jsx("button",{onClick:()=>d(c+10),className:"p-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600",children:n.jsx(kn,{className:"w-4 h-4"})})]})]}),i==="limit"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Price"}),n.jsx("input",{type:"number",value:u,onChange:k=>h(parseFloat(k.target.value)||0),step:"0.01",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white",placeholder:"0.75"})]}),n.jsx("button",{onClick:ke,disabled:P||!r,className:`w-full py-3 rounded-lg font-medium transition-colors ${r&&!P?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:P?"Processing...":`Place ${o.toUpperCase()} Order`})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-medium text-white",children:"Order Book"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm text-gray-400 mb-2",children:[n.jsx("span",{children:"Price"}),n.jsx("span",{children:"Size"}),n.jsx("span",{children:"Total"})]}),n.jsx("div",{className:"space-y-1",children:x.asks.slice(0,5).map((k,V)=>n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[n.jsx("span",{className:"text-red-400",children:k.price.toFixed(2)}),n.jsx("span",{className:"text-gray-300",children:k.amount}),n.jsx("span",{className:"text-gray-400",children:(k.price*k.amount).toFixed(2)})]},k.id))}),n.jsx("div",{className:"text-center py-2 bg-gray-800 rounded-lg",children:n.jsxs("span",{className:"text-lg font-semibold text-white",children:["$",e.toFixed(2)]})}),n.jsx("div",{className:"space-y-1",children:x.bids.slice(0,5).map((k,V)=>n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[n.jsx("span",{className:"text-green-400",children:k.price.toFixed(2)}),n.jsx("span",{className:"text-gray-300",children:k.amount}),n.jsx("span",{className:"text-gray-400",children:(k.price*k.amount).toFixed(2)})]},k.id))})]})]}),m&&n.jsxs("div",{className:"mt-8 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Your Orders"}),n.jsxs("div",{className:"space-y-2",children:[g.map(k=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs ${k.side==="buy"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:k.side.toUpperCase()}),n.jsxs("span",{className:"text-white",children:[k.amount," @ $",k.price.toFixed(2)]}),n.jsx("span",{className:`text-xs ${ni(k.status)}`,children:k.status.toUpperCase()})]}),k.status==="open"&&n.jsx("button",{onClick:()=>os(k.id),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Cancel"})]},k.id)),g.length===0&&n.jsx("p",{className:"text-gray-400 text-center py-4",children:"No open orders"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Your Positions"}),n.jsxs("div",{className:"space-y-2",children:[w.map(k=>n.jsx("div",{className:"p-3 bg-gray-800 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs ${k.outcome==="yes"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:k.outcome.toUpperCase()}),n.jsxs("span",{className:"text-white ml-2",children:[k.amount," shares"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-sm text-gray-400",children:["Avg Price: $",k.average_price.toFixed(2)]}),n.jsxs("div",{className:`text-sm ${k.unrealized_pnl>=0?"text-green-400":"text-red-400"}`,children:["P&L: $",k.unrealized_pnl.toFixed(2)]})]})]})},k.id)),w.length===0&&n.jsx("p",{className:"text-gray-400 text-center py-4",children:"No positions"})]})]}),j&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-lg font-medium text-white mb-4 flex items-center",children:[n.jsx(kt,{className:"w-5 h-5 mr-2"}),"UMA Oracle Status"]}),n.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Status:"}),n.jsx("span",{className:`ml-2 ${ii(j.status)}`,children:j.status.toUpperCase()})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Disputes:"}),n.jsx("span",{className:"ml-2 text-white",children:j.dispute_count})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Reward:"}),n.jsxs("span",{className:"ml-2 text-white",children:[j.reward_amount," ",j.reward_token]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Proposer:"}),n.jsx("span",{className:"ml-2 text-white",children:j.proposer||"None"})]})]}),n.jsxs("div",{className:"mt-4 flex space-x-2",children:[n.jsx("button",{onClick:Qs,disabled:P,className:"px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:"Propose Resolution"}),n.jsx("button",{onClick:ls,disabled:P,className:"px-3 py-2 bg-red-600 text-white rounded text-sm hover:bg-red-700 disabled:opacity-50",children:"Dispute Resolution"})]})]})]}),S.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Resolution History"}),n.jsx("div",{className:"space-y-2",children:S.map(k=>n.jsxs("div",{className:"p-3 bg-gray-800 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs ${k.outcome==="yes"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:k.outcome.toUpperCase()}),n.jsxs("span",{className:"text-sm text-gray-400",children:["Confidence: ",(k.confidence*100).toFixed(1),"%"]})]}),n.jsx("div",{className:"text-sm text-gray-300",children:k.resolution_data}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Source: ",k.resolution_source," | Proposer: ",k.proposer_address.slice(0,8),"..."]})]},k.id))})]})]})]})}const ao="your_supabase_project_url_here",oo="your_supabase_anon_key_here",bs=!ao.includes("your_supabase")&&!oo.includes("your_supabase")?wt(ao,oo):null;bs||console.warn("Supabase not configured. Please add your Supabase credentials to the .env file.");const Ty={asks:[{price:.89,size:100},{price:.88,size:200},{price:.87,size:300},{price:.86,size:400}],bids:[{price:.85,size:500},{price:.84,size:400},{price:.83,size:300},{price:.82,size:200}]};function Py(){const{id:t}=To(),[e,s]=v.useState(null),[r,i]=v.useState([]),[a,o]=v.useState(),[l,c]=v.useState(!0),[d,u]=v.useState("buy"),[h,m]=v.useState(!1),[f,x]=v.useState(!1);v.useEffect(()=>{if(!t)return;async function y(){if(!bs){console.warn("Supabase not configured. Using mock data.");const w={id:t||"1",category_id:"temperature",title:"Global Temperature 2024",description:"Will the global average temperature exceed 1.5C above pre-industrial levels?",target_date:"2024-12-31T23:59:59Z",current_price:.75,volume:125e3,country:"Global",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"}],resolution_criteria:"Based on global average temperature data from major meteorological organizations",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},b=[{id:"1",market_id:t||"1",price_point:.75,probability:75,volume:1e3,created_at:"2024-01-01T00:00:00Z"},{id:"2",market_id:t||"1",price_point:.74,probability:74,volume:800,created_at:"2024-01-01T00:00:00Z"},{id:"3",market_id:t||"1",price_point:.76,probability:76,volume:1200,created_at:"2024-01-01T00:00:00Z"}];s(w),i(b),c(!1);return}try{const[w,b]=await Promise.all([bs.from("prediction_markets").select("*").eq("id",t).single(),bs.from("market_price_points").select("*").eq("market_id",t).order("price_point",{ascending:!1})]);if(w.error)throw w.error;if(b.error)throw b.error;s(w.data),i(b.data||[])}catch(w){console.error("Error fetching market data:",w)}finally{c(!1)}}y()},[t]);const p=y=>{e&&console.log(`${d==="buy"?"Buying":"Selling"} $${y} worth of shares`)},g=(y,w,b)=>{console.log(`Placing ${y} order: ${b} shares at $${w}`)};return l?n.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:n.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading market data..."})}):e?n.jsx("div",{className:"min-h-screen bg-black text-white pt-20",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[n.jsxs(E,{to:"/",className:"text-blue-400 hover:text-blue-300 flex items-center mb-8",children:[n.jsx(pe,{className:"w-4 h-4 mr-2"}),"Back to Markets"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 mb-8",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.title}),n.jsx("p",{className:"text-lg text-gray-400 mb-6",children:e.description})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hs,{className:"w-6 h-6 text-blue-400"}),n.jsx("span",{className:"text-lg font-medium",children:e.country})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[n.jsx(_r,{icon:n.jsx(jt,{className:"w-5 h-5 text-blue-400"}),label:"Resolution Date",value:Xs(new Date(e.target_date),"MMM d, yyyy")}),n.jsx(_r,{icon:n.jsx(ge,{className:"w-5 h-5 text-green-400"}),label:"Total Volume",value:`$${e.volume.toLocaleString()}`}),n.jsx(_r,{icon:n.jsx(jn,{className:"w-5 h-5 text-purple-400"}),label:"Sources",value:e.verification_sources.length.toString()})]}),n.jsxs("button",{onClick:()=>m(!h),className:"mt-6 flex items-center text-gray-400 hover:text-white transition-colors",children:[n.jsx(Sm,{className:`w-5 h-5 mr-2 transform transition-transform ${h?"rotate-180":""}`}),h?"Hide Details":"Show Details"]}),h&&n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Resolution Criteria"}),n.jsx("p",{className:"text-gray-400 mb-6",children:e.resolution_criteria}),n.jsx("div",{className:"space-y-2",children:e.verification_sources.map((y,w)=>n.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-400 hover:text-blue-300",children:[n.jsx(ht,{className:"w-4 h-4 mr-2"}),y.name]},w))})]})]}),n.jsx(jy,{orderBook:Ty,onPlaceOrder:g})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>x(!1),className:`px-4 py-2 rounded-md transition-colors ${f?"text-gray-300 hover:text-white":"bg-blue-600 text-white"}`,children:"Simple Trading"}),n.jsx("button",{onClick:()=>x(!0),className:`px-4 py-2 rounded-md transition-colors ${f?"bg-blue-600 text-white":"text-gray-300 hover:text-white"}`,children:"Advanced Trading"})]})}),f?n.jsx(Sy,{marketId:e.id,currentPrice:e.current_price,userAddress:"0x1234567890123456789012345678901234567890",isWalletConnected:!0}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-gray-900 rounded-xl p-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("button",{onClick:()=>u("buy"),className:`py-2 rounded-lg font-medium transition-colors ${d==="buy"?"bg-green-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"Buy Yes"}),n.jsx("button",{onClick:()=>u("sell"),className:`py-2 rounded-lg font-medium transition-colors ${d==="sell"?"bg-red-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"Buy No"})]})}),n.jsx(ky,{type:d,currentPrice:e.current_price,onTrade:p}),n.jsx(wy,{pricePoints:r,onSelect:o,selectedPrice:a})]})]})]})]})}):n.jsx("div",{className:"min-h-screen bg-black p-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs(E,{to:"/",className:"text-blue-400 hover:text-blue-300 flex items-center",children:[n.jsx(pe,{className:"w-4 h-4 mr-2"}),"Back to Markets"]}),n.jsxs("div",{className:"mt-8 text-center",children:[n.jsx(yn,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Market Not Found"}),n.jsx("p",{className:"text-gray-400",children:"The market you're looking for doesn't exist or has been removed."})]})]})})}function _r({icon:t,label:e,value:s}){return n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[t,n.jsx("span",{className:"ml-2 text-sm text-gray-400",children:e})]}),n.jsx("div",{className:"text-xl font-semibold",children:s})]})}function Cy({market:t}){const e=t.current_price*100;return n.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all dark:bg-gray-900 border border-gray-100 dark:border-gray-800",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(E,{to:`/market/${t.id}`,className:"text-xl font-semibold text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:t.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:t.description})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Hs,{className:"h-4 w-4 text-blue-500"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t.country})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"relative w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-blue-600",style:{width:`${e}%`}})}),n.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"No"}),n.jsxs("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:[e.toFixed(1),"%"]}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Yes"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(ge,{className:"h-4 w-4 text-green-500 mr-2"}),n.jsxs("span",{className:"text-sm font-medium",children:["$",t.volume.toLocaleString()]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(sl,{className:"h-4 w-4 text-blue-500 mr-2"}),n.jsx("span",{className:"text-sm",children:Xs(new Date(t.target_date),"MMM d, yyyy")})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Fee"}),n.jsxs("p",{className:"text-sm font-medium",children:[(t.sustainability_fee_percentage*100).toFixed(1),"%"]})]})]}),n.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100 dark:border-gray-800",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:t.verification_sources.map((s,r)=>n.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:[n.jsx(ht,{className:"w-3 h-3 mr-1"}),s.name]},r))})})]})})}const lo="your_supabase_project_url_here",co="your_supabase_anon_key_here",cn=!lo.includes("your_supabase")&&!co.includes("your_supabase")?wt(lo,co):null;cn||console.warn("Supabase not configured. Please add your Supabase credentials to the .env file.");const Ay={trending:{title:"Trending Markets",description:"Most active prediction markets with high trading volume",filter:t=>t.volume>5e4},temperature:{title:"Temperature Predictions",description:"Climate temperature forecasts and predictions",filter:t=>t.title.toLowerCase().includes("temperature")},precipitation:{title:"Precipitation Markets",description:"Rainfall, snowfall, and drought predictions",filter:t=>t.title.toLowerCase().includes("rain")||t.title.toLowerCase().includes("snow")||t.title.toLowerCase().includes("drought")},emissions:{title:"Carbon Emissions",description:"Carbon emission targets and climate policy outcomes",filter:t=>t.title.toLowerCase().includes("carbon")},disasters:{title:"Natural Disasters",description:"Predictions about natural disasters and extreme weather events",filter:t=>t.title.toLowerCase().includes("hurricane")||t.title.toLowerCase().includes("earthquake")||t.title.toLowerCase().includes("flood")||t.title.toLowerCase().includes("wildfire")},records:{title:"Climate Records",description:"Predictions about breaking climate and weather records",filter:t=>t.title.toLowerCase().includes("record")}};function Ey(){const{category:t}=To(),[e,s]=v.useState([]),[r,i]=v.useState(""),[a,o]=v.useState(!0),l=t?Ay[t]:null;return v.useEffect(()=>{if(!l)return;async function c(){if(!cn){console.warn("Supabase not configured. Using mock data.");const u=[{id:"1",category_id:"temperature",title:"Global Temperature 2024",description:"Will the global average temperature exceed 1.5C above pre-industrial levels?",target_date:"2024-12-31T23:59:59Z",current_price:.75,volume:125e3,country:"Global",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"}],resolution_criteria:"Based on global average temperature data from major meteorological organizations",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"2",category_id:"emissions",title:"Carbon Emissions Target",description:"Will global carbon emissions decrease by 5% in 2024?",target_date:"2024-12-31T23:59:59Z",current_price:.45,volume:89e3,country:"Global",verification_sources:[{name:"IEA",url:"https://www.iea.org"}],resolution_criteria:"Based on official carbon emission reports from major economies",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}].filter(l.filter).filter(h=>r===""||h.title.toLowerCase().includes(r.toLowerCase())||h.description.toLowerCase().includes(r.toLowerCase()));s(u),o(!1);return}try{const{data:d,error:u}=await cn.from("prediction_markets").select("*").order("volume",{ascending:!1});if(u)throw u;const h=(d||[]).filter(l.filter).filter(m=>r===""||m.title.toLowerCase().includes(r.toLowerCase())||m.description.toLowerCase().includes(r.toLowerCase()));s(h)}catch(d){console.error("Error fetching markets:",d)}finally{o(!1)}}c()},[t,r]),l?n.jsx("div",{className:"min-h-screen bg-black pt-24",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"flex items-center justify-between mb-8",children:n.jsxs(E,{to:"/",className:"text-blue-400 hover:text-blue-300 flex items-center",children:[n.jsx(pe,{className:"w-4 h-4 mr-2"}),"Back to Markets"]})}),n.jsxs("div",{className:"mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:l.title}),n.jsx("p",{className:"text-xl text-gray-400",children:l.description})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"relative max-w-xl",children:[n.jsx(ol,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:r,onChange:c=>i(c.target.value),placeholder:"Search markets...",className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-800 bg-gray-900 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]})}),a?n.jsx("div",{className:"text-center py-12",children:n.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading markets..."})}):e.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-400",children:"No markets found"})}):n.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(c=>n.jsx(Cy,{market:c},c.id))})]})}):n.jsx("div",{className:"min-h-screen bg-black p-8 pt-24",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Category Not Found"}),n.jsx(E,{to:"/",className:"text-blue-400 hover:text-blue-300",children:"Return to Home"})]})})}const he=[{id:"metamask",name:"MetaMask",icon:"",universalLink:"https://metamask.app.link",deepLinkScheme:"metamask://",webLink:"https://metamask.io",mobile:!0,web:!0},{id:"walletconnect",name:"WalletConnect",icon:"",universalLink:"https://walletconnect.com",deepLinkScheme:"wc://",webLink:"https://walletconnect.com",mobile:!0,web:!0},{id:"coinbase",name:"Coinbase Wallet",icon:"",universalLink:"https://wallet.coinbase.com",deepLinkScheme:"coinbase-wallet://",webLink:"https://wallet.coinbase.com",mobile:!0,web:!0},{id:"trust",name:"Trust Wallet",icon:"",universalLink:"https://trustwallet.com",deepLinkScheme:"trust://",webLink:"https://trustwallet.com",mobile:!0,web:!1},{id:"rainbow",name:"Rainbow",icon:"",universalLink:"https://rainbow.me",deepLinkScheme:"rainbow://",webLink:"https://rainbow.me",mobile:!0,web:!0},{id:"argent",name:"Argent",icon:"",universalLink:"https://argent.xyz",deepLinkScheme:"argent://",webLink:"https://argent.xyz",mobile:!0,web:!1}];function My({onWalletSelect:t}){var d,u,h;const[e,s]=v.useState(null),[r,i]=v.useState(null),a=(m,f,x={})=>{const p=he.find(y=>y.id===m);if(!p)return"";const g=new URLSearchParams({action:f,...x});return`${p.universalLink}?${g.toString()}`},o=m=>a(m,"connect",{app:"climatemarkets",redirect:"https://climatemarkets.space"}),l=async(m,f)=>{try{await navigator.clipboard.writeText(m),i(f),setTimeout(()=>i(null),2e3)}catch(x){console.error("Failed to copy to clipboard:",x)}},c=(m,f)=>{const x=he.find(g=>g.id===m);if(!x)return;let p="";switch(f){case"universal":p=o(m);break;case"deep":p=x.deepLinkScheme+"?action=connect&app=climatemarkets";break;case"web":p=x.webLink;break}p&&window.open(p,"_blank")};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Wallet Deep Linking"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:he.map(m=>n.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${e===m.id?"border-blue-500 bg-blue-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>{s(m.id),t==null||t(m.id)},children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-2xl",children:m.icon}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:m.name}),n.jsxs("div",{className:"flex space-x-2 text-xs text-gray-400",children:[m.mobile&&n.jsx("span",{children:"Mobile"}),m.web&&n.jsx("span",{children:"Web"})]})]})]})},m.id))})]}),e&&n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsxs("h4",{className:"text-lg font-semibold mb-4",children:[(d=he.find(m=>m.id===e))==null?void 0:d.name," Deep Links"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-300 mb-2",children:"Universal Link"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:()=>c(e,"universal"),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:[n.jsx(Ss,{className:"w-4 h-4"}),n.jsx("span",{children:"Open Mobile"})]}),n.jsxs("button",{onClick:()=>l(o(e),"universal"),className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 text-white rounded-lg text-sm hover:bg-gray-600 transition-colors",children:[r==="universal"?n.jsx(L,{className:"w-4 h-4 text-green-500"}):n.jsx(X,{className:"w-4 h-4"}),n.jsx("span",{children:"Copy"})]})]}),n.jsx("p",{className:"text-xs text-gray-400 break-all",children:o(e)})]})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-300 mb-2",children:"Deep Link"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:()=>c(e,"deep"),className:"flex items-center space-x-2 px-3 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:[n.jsx(Ss,{className:"w-4 h-4"}),n.jsx("span",{children:"Open App"})]}),n.jsxs("button",{onClick:()=>{var m;return l(((m=he.find(f=>f.id===e))==null?void 0:m.deepLinkScheme)+"?action=connect&app=climatemarkets","deep")},className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 text-white rounded-lg text-sm hover:bg-gray-600 transition-colors",children:[r==="deep"?n.jsx(L,{className:"w-4 h-4 text-green-500"}):n.jsx(X,{className:"w-4 h-4"}),n.jsx("span",{children:"Copy"})]})]}),n.jsxs("p",{className:"text-xs text-gray-400 break-all",children:[(u=he.find(m=>m.id===e))==null?void 0:u.deepLinkScheme,"?action=connect&app=climatemarkets"]})]})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-300 mb-2",children:"Web Wallet Link"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:()=>c(e,"web"),className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:[n.jsx(Im,{className:"w-4 h-4"}),n.jsx("span",{children:"Open Web"})]}),n.jsxs("button",{onClick:()=>{var m;return l(((m=he.find(f=>f.id===e))==null?void 0:m.webLink)||"","web")},className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 text-white rounded-lg text-sm hover:bg-gray-600 transition-colors",children:[r==="web"?n.jsx(L,{className:"w-4 h-4 text-green-500"}):n.jsx(X,{className:"w-4 h-4"}),n.jsx("span",{children:"Copy"})]})]}),n.jsx("p",{className:"text-xs text-gray-400 break-all",children:(h=he.find(m=>m.id===e))==null?void 0:h.webLink})]})]})]})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h5",{className:"font-medium text-gray-300",children:"Trade Climate Market"}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("button",{onClick:()=>l("https://climatemarkets.space?action=trade&marketId=1&amount=100&token=USDC","trade"),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:[r==="trade"?n.jsx(L,{className:"w-4 h-4"}):n.jsx(X,{className:"w-4 h-4"}),n.jsx("span",{children:"Copy Trade Link"})]})}),n.jsx("p",{className:"text-xs text-gray-400",children:"https://climatemarkets.space?action=trade&marketId=1&amount=100&token=USDC"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h5",{className:"font-medium text-gray-300",children:"View Market Details"}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("button",{onClick:()=>l("https://climatemarkets.space?action=market&marketId=1","market"),className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:[r==="market"?n.jsx(L,{className:"w-4 h-4"}):n.jsx(X,{className:"w-4 h-4"}),n.jsx("span",{children:"Copy Market Link"})]})}),n.jsx("p",{className:"text-xs text-gray-400",children:"https://climatemarkets.space?action=market&marketId=1"})]})]})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"How to Use Deep Links"}),n.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("span",{className:"text-blue-400",children:""}),n.jsx("span",{children:"Mobile: Deep links will open your wallet app directly"})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("span",{className:"text-blue-400",children:""}),n.jsx("span",{children:"Desktop: Web wallet links will open in your browser"})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("span",{className:"text-blue-400",children:""}),n.jsx("span",{children:"Copy Links: Share wallet links with other users"})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("span",{className:"text-blue-400",children:""}),n.jsx("span",{children:"Quick Actions: Generate trade-specific deep links"})]})]})]})]})}const Oy=he.map(t=>({wallet:t,baseUniversalLink:t.universalLink,sampleTradeLink:`${t.universalLink}?action=trade&marketId=1&amount=100&token=USDC`,sampleConnectLink:`${t.universalLink}?action=connect&app=climatemarkets&redirect=${encodeURIComponent("https://climatemarkets.space")}`,deepLinkScheme:t.deepLinkScheme,webWalletLink:t.webLink}));function Ry(){const[t,e]=v.useState("metamask"),[s,r]=v.useState(null),i=async(o,l)=>{try{await navigator.clipboard.writeText(o),r(l),setTimeout(()=>r(null),2e3)}catch(c){console.error("Failed to copy to clipboard:",c)}},a=Oy.find(o=>o.wallet.id===t);return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Universal Link Configuration"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mb-6",children:he.map(o=>n.jsx("button",{onClick:()=>e(o.id),className:`p-3 border rounded-lg transition-colors ${t===o.id?"border-blue-500 bg-blue-500/10":"border-gray-700 hover:border-gray-600"}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl mb-1",children:o.icon}),n.jsx("div",{className:"text-xs text-gray-400",children:o.name})]})},o.id))}),a&&n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("span",{className:"text-2xl",children:a.wallet.icon}),n.jsxs("h4",{className:"text-lg font-semibold",children:[a.wallet.name," Universal Link Configuration"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h5",{className:"font-medium text-gray-300",children:"Universal Link"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Base Universal Link"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:a.baseUniversalLink,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm"}),n.jsx("button",{onClick:()=>i(a.baseUniversalLink,"base"),className:"px-3 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:s==="base"?n.jsx(L,{className:"w-4 h-4 text-green-500"}):n.jsx(X,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sample Trade Link"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:a.sampleTradeLink,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm"}),n.jsx("button",{onClick:()=>i(a.sampleTradeLink,"trade"),className:"px-3 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:s==="trade"?n.jsx(L,{className:"w-4 h-4 text-green-500"}):n.jsx(X,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sample Connect Link"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:a.sampleConnectLink,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm"}),n.jsx("button",{onClick:()=>i(a.sampleConnectLink,"connect"),className:"px-3 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:s==="connect"?n.jsx(L,{className:"w-4 h-4 text-green-500"}):n.jsx(X,{className:"w-4 h-4"})})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h5",{className:"font-medium text-gray-300",children:"Additional Links"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Deep Link (Optional)"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:a.deepLinkScheme,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm"}),n.jsx("button",{onClick:()=>i(a.deepLinkScheme,"deep"),className:"px-3 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:s==="deep"?n.jsx(L,{className:"w-4 h-4 text-green-500"}):n.jsx(X,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Web Wallet Link"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:a.webWalletLink,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm"}),n.jsx("a",{href:a.webWalletLink,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:n.jsx(ht,{className:"w-4 h-4"})})]})]})]})]})]}),n.jsxs("div",{className:"mt-8 p-4 bg-blue-900/20 border border-blue-800 rounded-lg",children:[n.jsx("h5",{className:"font-medium text-blue-300 mb-3",children:"Configuration Instructions"}),n.jsxs("div",{className:"space-y-2 text-sm text-blue-200",children:[n.jsx("div",{className:"flex items-start space-x-2",children:n.jsx("span",{className:"text-blue-400",children:"For Your Wallet App:"})}),n.jsxs("div",{className:"ml-4 space-y-1",children:[n.jsxs("p",{children:["1. ",n.jsx("strong",{children:"Universal Link:"})," Use the base universal link for iOS/Android deep linking"]}),n.jsxs("p",{children:["2. ",n.jsx("strong",{children:"Deep Link:"})," Use the custom scheme for direct app-to-app communication"]}),n.jsxs("p",{children:["3. ",n.jsx("strong",{children:"Web Link:"})," Use for desktop browser wallet connections"]})]}),n.jsx("div",{className:"flex items-start space-x-2 mt-3",children:n.jsx("span",{className:"text-blue-400",children:"For Your Climate Markets App:"})}),n.jsxs("div",{className:"ml-4 space-y-1",children:[n.jsxs("p",{children:["1. ",n.jsx("strong",{children:"Trade Actions:"})," Generate links with market ID, amount, and token"]}),n.jsxs("p",{children:["2. ",n.jsx("strong",{children:"Connect Actions:"})," Generate links for wallet connection with redirect"]}),n.jsxs("p",{children:["3. ",n.jsx("strong",{children:"Share Links:"})," Users can share these links to open specific actions"]})]})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-800 rounded-lg",children:[n.jsx("h5",{className:"font-medium text-gray-300 mb-3",children:"Example Usage"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Universal Link:"}),n.jsx("p",{className:"text-green-400 font-mono text-xs break-all mt-1",children:a.sampleTradeLink})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Deep Link:"}),n.jsxs("p",{className:"text-purple-400 font-mono text-xs break-all mt-1",children:[a.deepLinkScheme,"?action=connect&app=climatemarkets"]})]})]})]})]})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h5",{className:"font-medium text-gray-300",children:"Trade Climate Market"}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("button",{onClick:()=>i("https://climatemarkets.space?action=trade&marketId=1&amount=100&token=USDC","quick-trade"),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:[s==="quick-trade"?n.jsx(L,{className:"w-4 h-4"}):n.jsx(X,{className:"w-4 h-4"}),n.jsx("span",{children:"Copy Link"})]})}),n.jsx("p",{className:"text-xs text-gray-400",children:"https://climatemarkets.space?action=trade&marketId=1&amount=100&token=USDC"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h5",{className:"font-medium text-gray-300",children:"View Market Details"}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("button",{onClick:()=>i("https://climatemarkets.space?action=market&marketId=1","quick-market"),className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:[s==="quick-market"?n.jsx(L,{className:"w-4 h-4"}):n.jsx(X,{className:"w-4 h-4"}),n.jsx("span",{children:"Copy Link"})]})}),n.jsx("p",{className:"text-xs text-gray-400",children:"https://climatemarkets.space?action=market&marketId=1"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h5",{className:"font-medium text-gray-300",children:"Connect Wallet"}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("button",{onClick:()=>i("https://climatemarkets.space?action=connect&walletType=metamask","quick-connect"),className:"flex items-center space-x-2 px-3 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:[s==="quick-connect"?n.jsx(L,{className:"w-4 h-4"}):n.jsx(X,{className:"w-4 h-4"}),n.jsx("span",{children:"Copy Link"})]})}),n.jsx("p",{className:"text-xs text-gray-400",children:"https://climatemarkets.space?action=connect&walletType=metamask"})]})]})]})]})}function Dy(){const t=So(),e=es(),[s,r]=v.useState(null),[i,a]=v.useState(!1);v.useEffect(()=>{(()=>{const h=new URLSearchParams(e.search),m=h.get("action");if(m){a(!0);const f={};switch(h.forEach((p,g)=>{g!=="action"&&(f[g]=p)}),r({action:m,params:f}),m){case"trade":o(f);break;case"market":l(f);break;case"wallet":c(f);break;case"connect":d(f);break;default:console.log("Unknown deep link action:",m)}setTimeout(()=>{t(e.pathname,{replace:!0}),a(!1)},3e3)}})()},[e,t]);const o=u=>{const{marketId:h,amount:m,token:f}=u;console.log("Processing trade action:",{marketId:h,amount:m,token:f}),h&&t(`/market/${h}`)},l=u=>{const{marketId:h}=u;console.log("Processing market action:",{marketId:h}),h&&t(`/market/${h}`)},c=u=>{const{walletType:h,action:m}=u;console.log("Processing wallet action:",{walletType:h,action:m}),m==="connect"&&console.log("Connecting to wallet:",h)},d=u=>{const{walletType:h,redirect:m}=u;console.log("Processing connect action:",{walletType:h,redirect:m}),m&&setTimeout(()=>{window.location.href=m},2e3)};return s?n.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:n.jsx("div",{className:"max-w-md w-full mx-4 p-6 rounded-xl bg-gray-900 border border-gray-800",children:n.jsx("div",{className:"text-center",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Processing Deep Link"}),n.jsxs("p",{className:"text-gray-400 text-sm",children:["Action: ",s.action]})]}):n.jsxs(n.Fragment,{children:[n.jsx(L,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Deep Link Processed"}),n.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Successfully handled ",s.action," action"]}),n.jsxs("div",{className:"text-left text-xs text-gray-500 bg-gray-800 p-3 rounded-lg",children:[n.jsx("div",{className:"font-medium mb-2",children:"Parameters:"}),Object.entries(s.params).map(([u,h])=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:[u,":"]}),n.jsx("span",{className:"text-blue-400",children:h})]},u))]})]})})})}):null}function Ly(){const t=(i,a)=>{const o=window.location.origin,l=new URLSearchParams({action:i,...a});return`${o}?${l.toString()}`};return{generateDeepLink:t,generateWalletDeepLink:(i,a,o)=>t("wallet",{walletType:i,action:a,...o}),generateTradeDeepLink:(i,a,o="USDC")=>t("trade",{marketId:i,amount:a,token:o}),generateMarketDeepLink:i=>t("market",{marketId:i})}}function Iy(){const[t,e]=v.useState(!1),[s,r]=v.useState(!1),{generateTradeDeepLink:i,generateMarketDeepLink:a,generateWalletDeepLink:o}=Ly(),l=async h=>{await navigator.clipboard.writeText(h),e(!0),setTimeout(()=>e(!1),2e3)},c=i("1","100","USDC"),d=a("1"),u=o("metamask","connect");return n.jsx("div",{className:"min-h-screen bg-black pt-24",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"flex items-center justify-between mb-8",children:n.jsxs(E,{to:"/",className:"text-blue-400 hover:text-blue-300 flex items-center",children:[n.jsx(pe,{className:"w-4 h-4 mr-2"}),"Back to Markets"]})}),n.jsxs("div",{className:"mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Mobile Wallet Integration"}),n.jsx("p",{className:"text-xl text-gray-400",children:"Connect your mobile wallet and trade climate markets seamlessly"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[n.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-xl bg-gray-900 border border-gray-800",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Wallet Deep Linking"}),n.jsx(My,{})]}),n.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-6 rounded-xl bg-gray-900 border border-gray-800",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Universal Link Config"}),n.jsx(Ry,{walletName:"MetaMask",walletType:"metamask"})]}),n.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-6 rounded-xl bg-gray-900 border border-gray-800",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Trade Climate Market"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:c,readOnly:!0,className:"flex-1 px-3 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white text-sm"}),n.jsx("button",{onClick:()=>l(c),className:"px-3 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 transition-colors",children:t?n.jsx(cr,{className:"w-4 h-4"}):n.jsx(X,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"View Market Details"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:d,readOnly:!0,className:"flex-1 px-3 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white text-sm"}),n.jsx("button",{onClick:()=>l(d),className:"px-3 py-2 rounded-lg bg-green-600 hover:bg-green-700 transition-colors",children:t?n.jsx(cr,{className:"w-4 h-4"}):n.jsx(X,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Connect Wallet"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:u,readOnly:!0,className:"flex-1 px-3 py-2 rounded-lg bg-gray-800 border border-gray-700 text-white text-sm"}),n.jsx("button",{onClick:()=>l(u),className:"px-3 py-2 rounded-lg bg-purple-600 hover:bg-purple-700 transition-colors",children:t?n.jsx(cr,{className:"w-4 h-4"}):n.jsx(X,{className:"w-4 h-4"})})]})]})]})]})]}),n.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[n.jsxs("div",{className:"p-6 rounded-xl bg-blue-900/20 border border-blue-800",children:[n.jsx(Ss,{className:"h-8 w-8 text-blue-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Mobile Apps"}),n.jsx("p",{className:"text-sm text-blue-200",children:"Deep links open your wallet app directly on mobile devices"})]}),n.jsxs("div",{className:"p-6 rounded-xl bg-green-900/20 border border-green-800",children:[n.jsx(Hs,{className:"h-8 w-8 text-green-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Web Wallets"}),n.jsx("p",{className:"text-sm text-green-200",children:"Web wallet links open in your browser for desktop users"})]}),n.jsxs("div",{className:"p-6 rounded-xl bg-purple-900/20 border border-purple-800",children:[n.jsx(Um,{className:"h-8 w-8 text-purple-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Share Links"}),n.jsx("p",{className:"text-sm text-purple-200",children:"Share deep links with other users for seamless connections"})]})]}),n.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-6 rounded-xl bg-gray-900 border border-gray-800",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"How to Use Mobile Wallet Integration"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"For Mobile Users"}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[n.jsxs("p",{children:["1. ",n.jsx("strong",{children:"Install your wallet app"})," (MetaMask, Trust Wallet, etc.)"]}),n.jsxs("p",{children:["2. ",n.jsx("strong",{children:"Click on wallet deep links"})," to open your wallet directly"]}),n.jsxs("p",{children:["3. ",n.jsx("strong",{children:"Approve transactions"})," in your wallet app"]}),n.jsxs("p",{children:["4. ",n.jsx("strong",{children:"Return to the app"})," to see your updated balance"]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"For Desktop Users"}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[n.jsxs("p",{children:["1. ",n.jsx("strong",{children:"Use web wallets"})," or browser extensions"]}),n.jsxs("p",{children:["2. ",n.jsx("strong",{children:"Click web wallet links"})," to open in browser"]}),n.jsxs("p",{children:["3. ",n.jsx("strong",{children:"Connect your wallet"})," to the web interface"]}),n.jsxs("p",{children:["4. ",n.jsx("strong",{children:"Trade seamlessly"})," across platforms"]})]})]})]})]})]})})}function $y(){return n.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs(E,{to:"/",className:"text-blue-400 hover:text-blue-300 flex items-center mb-6",children:[n.jsx(pe,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(kt,{className:"h-8 w-8 text-blue-400"}),n.jsx("h1",{className:"text-4xl font-bold",children:"Privacy Policy"})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsx("span",{children:"Last Updated: January 11, 2022"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(mt,{className:"h-4 w-4"}),n.jsx("span",{children:"Contact: legal@climate.markets"})]})]})]}),n.jsx("div",{className:"prose prose-invert max-w-none",children:n.jsxs("div",{className:"space-y-8 text-gray-300 leading-relaxed",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Information We Collect"}),n.jsx("p",{className:"mb-4",children:"Climate Markets collects information you provide directly to us, such as when you create an account, make a transaction, or contact us for support. This may include:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Wallet addresses and transaction data"}),n.jsx("li",{children:"Email addresses and contact information"}),n.jsx("li",{children:"Trading activity and market participation"}),n.jsx("li",{children:"Communication preferences and settings"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"How We Use Your Information"}),n.jsx("p",{className:"mb-4",children:"We use the information we collect to:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Provide and maintain our climate prediction markets platform"}),n.jsx("li",{children:"Process transactions and manage your account"}),n.jsx("li",{children:"Send you important updates about market events and platform changes"}),n.jsx("li",{children:"Improve our services and develop new features"}),n.jsx("li",{children:"Ensure compliance with legal and regulatory requirements"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Information Sharing"}),n.jsx("p",{className:"mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share your information only in the following circumstances:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"With your explicit consent"}),n.jsx("li",{children:"To comply with legal obligations or regulatory requirements"}),n.jsx("li",{children:"To protect our rights, property, or safety"}),n.jsx("li",{children:"In connection with a business transfer or merger"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Data Security"}),n.jsx("p",{className:"mb-4",children:"We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. However, no method of transmission over the internet is 100% secure."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Your Rights"}),n.jsx("p",{className:"mb-4",children:"You have the right to:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Access and review your personal information"}),n.jsx("li",{children:"Correct inaccurate or incomplete information"}),n.jsx("li",{children:"Request deletion of your personal information"}),n.jsx("li",{children:"Object to or restrict certain processing activities"}),n.jsx("li",{children:"Data portability for your information"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Cookies and Tracking"}),n.jsx("p",{className:"mb-4",children:"We use cookies and similar technologies to enhance your experience, analyze usage patterns, and improve our platform. You can control cookie settings through your browser preferences."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Third-Party Services"}),n.jsx("p",{className:"mb-4",children:"Our platform may integrate with third-party services such as wallet providers, blockchain networks, and analytics tools. These services have their own privacy policies, and we encourage you to review them."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Children's Privacy"}),n.jsx("p",{className:"mb-4",children:"Our platform is not intended for children under 18 years of age. We do not knowingly collect personal information from children under 18."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Changes to This Policy"}),n.jsx("p",{className:"mb-4",children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new policy on our platform and updating the "Last Updated" date.'})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Contact Us"}),n.jsx("p",{className:"mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us at:"}),n.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[n.jsx("p",{className:"text-blue-400 font-medium",children:"legal@climate.markets"}),n.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"We will respond to your inquiry within 30 days."})]})]})]})})]})})}function Uy(){return n.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs(E,{to:"/",className:"text-blue-400 hover:text-blue-300 flex items-center mb-6",children:[n.jsx(pe,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(jn,{className:"h-8 w-8 text-green-400"}),n.jsx("h1",{className:"text-4xl font-bold",children:"Terms of Use"})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(jt,{className:"h-4 w-4"}),n.jsx("span",{children:"Last Updated: February 6, 2025"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(mt,{className:"h-4 w-4"}),n.jsx("span",{children:"Contact: hello@climate.markets"})]})]})]}),n.jsx("div",{className:"prose prose-invert max-w-none",children:n.jsxs("div",{className:"space-y-8 text-gray-300 leading-relaxed",children:[n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Acceptance of Terms"}),n.jsx("p",{className:"mb-4",children:"By accessing and using Climate Markets, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Description of Service"}),n.jsx("p",{className:"mb-4",children:"Climate Markets provides a decentralized platform for trading climate prediction markets. Users can:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Participate in climate prediction markets"}),n.jsx("li",{children:"Trade outcomes related to climate events"}),n.jsx("li",{children:"Connect digital wallets for transactions"}),n.jsx("li",{children:"Access real-time market data and analytics"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"User Responsibilities"}),n.jsx("p",{className:"mb-4",children:"As a user of Climate Markets, you agree to:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Provide accurate and complete information"}),n.jsx("li",{children:"Maintain the security of your wallet and account"}),n.jsx("li",{children:"Comply with all applicable laws and regulations"}),n.jsx("li",{children:"Not engage in market manipulation or fraudulent activities"}),n.jsx("li",{children:"Report any suspicious activity or security concerns"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Risk Disclaimer"}),n.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-800 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(yn,{className:"h-5 w-5 text-yellow-400"}),n.jsx("span",{className:"text-yellow-400 font-medium",children:"Important Risk Warning"})]}),n.jsx("p",{className:"text-yellow-200 text-sm",children:"Trading climate prediction markets involves substantial risk. You may lose some or all of your invested capital. Past performance does not guarantee future results. Please ensure you understand the risks before participating."})]}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Market outcomes are unpredictable and subject to various factors"}),n.jsx("li",{children:"Cryptocurrency prices are highly volatile"}),n.jsx("li",{children:"Smart contract risks and potential technical failures"}),n.jsx("li",{children:"Regulatory changes may affect market operations"})]})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Intellectual Property"}),n.jsx("p",{className:"mb-4",children:"The content, features, and functionality of Climate Markets are owned by Climate Markets and are protected by international copyright, trademark, patent, trade secret, and other intellectual property laws."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Privacy and Data"}),n.jsx("p",{className:"mb-4",children:"Your privacy is important to us. Please review our Privacy Policy, which also governs your use of the service, to understand our practices regarding the collection and use of your information."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Limitation of Liability"}),n.jsx("p",{className:"mb-4",children:"Climate Markets shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your use of the service."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Indemnification"}),n.jsx("p",{className:"mb-4",children:"You agree to defend, indemnify, and hold harmless Climate Markets and its affiliates from and against any claims, damages, obligations, losses, liabilities, costs, or debt arising from your use of the service."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Termination"}),n.jsx("p",{className:"mb-4",children:"We may terminate or suspend your account and bar access to the service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever, including without limitation if you breach the Terms."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Governing Law"}),n.jsx("p",{className:"mb-4",children:"These Terms shall be interpreted and governed by the laws of the jurisdiction in which Climate Markets operates, without regard to its conflict of law provisions."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Changes to Terms"}),n.jsx("p",{className:"mb-4",children:"We reserve the right to modify or replace these Terms at any time. If a revision is material, we will provide at least 30 days notice prior to any new terms taking effect."})]}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Contact Information"}),n.jsx("p",{className:"mb-4",children:"If you have any questions about these Terms of Use, please contact us at:"}),n.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[n.jsx("p",{className:"text-green-400 font-medium",children:"hello@climate.markets"}),n.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"We will respond to your inquiry within 30 days."})]})]})]})})]})})}function Vy(){return n.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs(E,{to:"/",className:"inline-flex items-center text-gray-400 hover:text-white transition-colors mb-6",children:[n.jsx(pe,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(Hs,{className:"w-8 h-8 text-blue-500"}),n.jsx("h1",{className:"text-3xl font-bold",children:" How It Works"})]}),n.jsx("p",{className:"text-xl text-gray-300",children:"climate.markets is a prediction market platform where users trade on real-world climate and weather outcomes  like rainfall, heat records, or extreme events. Instead of relying solely on weather apps, you're putting your money behind what you believe will happen."})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Step-by-Step:"}),n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:"1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Choose a Market"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Browse categories like:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Fr,{className:"w-5 h-5 text-blue-400"}),n.jsx("span",{className:"font-medium",children:"Precipitation"})]}),n.jsx("p",{className:"text-sm text-gray-400",children:'e.g. "Will it rain more than 2 inches in Maui on Sept 10?"'})]}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Hr,{className:"w-5 h-5 text-red-400"}),n.jsx("span",{className:"font-medium",children:"Natural Disasters"})]}),n.jsx("p",{className:"text-sm text-gray-400",children:'e.g. "Will a Category 3+ hurricane hit Florida this year?"'})]}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Wr,{className:"w-5 h-5 text-orange-400"}),n.jsx("span",{className:"font-medium",children:"Climate Records"})]}),n.jsx("p",{className:"text-sm text-gray-400",children:'e.g. "Will 2025 break the global hottest year record?"'})]})]}),n.jsxs("p",{className:"text-gray-300 mt-4",children:["Each market has a ",n.jsx("span",{className:"text-green-400 font-medium",children:"YES"})," or ",n.jsx("span",{className:"text-red-400 font-medium",children:"NO"})," outcome."]})]})]})}),n.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold",children:"2"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Place a Trade"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Buy YES or NO shares depending on your prediction. The price reflects market consensus  if YES costs $0.60, the market believes there's a 60% chance it happens."}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium mb-2",children:"You can fund your account with:"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(L,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{children:"Crypto (e.g. USDC)"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(L,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{children:"Credit/debit card or bank transfer (if enabled)"})]})]})]})]})]})}),n.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center text-white font-bold",children:"3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Watch the Market Move"}),n.jsx("p",{className:"text-gray-300",children:"As more users trade, odds shift in real-time. You can sell shares at any time or hold until market resolution."})]})]})}),n.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:"4"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Claim Winnings"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"When the market closes and an outcome is verified:"}),n.jsxs("ul",{className:"space-y-2 text-gray-300",children:[n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(qs,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{children:"Each winning share is worth $1"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(ge,{className:"w-4 h-4 text-blue-400"}),n.jsx("span",{children:"You can cash out or reinvest"})]})]})]})]})})]})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"How Outcomes Are Resolved:"}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("p",{className:"text-gray-300 mb-4",children:"We use independent data sources and climate oracles (e.g. NOAA, ECMWF, UMA, Chainlink) to verify event outcomes. Disputes are handled via transparent resolution protocols."}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(kt,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),n.jsx("span",{className:"text-sm font-medium",children:"NOAA"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Pm,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),n.jsx("span",{className:"text-sm font-medium",children:"ECMWF"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Bm,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),n.jsx("span",{className:"text-sm font-medium",children:"UMA"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(ht,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Chainlink"})]})]})]})]}),n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-2xl font-semibold flex items-center",children:[n.jsx(nl,{className:"w-6 h-6 mr-2"})," Frequently Asked Questions (FAQ)"]}),n.jsxs(E,{to:"/faq",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["View Full FAQ",n.jsx(Ns,{className:"w-4 h-4 ml-2"})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What is a prediction market?"}),n.jsx("p",{className:"text-gray-300",children:"A prediction market lets people bet on future outcomes. The price of a share represents the collective belief in the likelihood of that event occurring."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Is this legal?"}),n.jsx("p",{className:"text-gray-300",children:"climate.markets is a decentralized platform operating in accordance with applicable law. Users in restricted jurisdictions (e.g. U.S., U.K.) may only access non-trading features like climate data and forecasts. Always consult local laws."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"How do I fund my account?"}),n.jsx("p",{className:"text-gray-300",children:"You can connect a crypto wallet (e.g. MetaMask) and fund your account using USDC or another supported stablecoin. In some jurisdictions, fiat on-ramps via card or bank transfer may be supported."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"How are outcomes verified?"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Markets resolve using publicly available, verifiable data from trusted sources like:"}),n.jsxs("ul",{className:"space-y-2 text-gray-300",children:[n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(L,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{children:"NOAA (National Oceanic and Atmospheric Administration)"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(L,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{children:"ECMWF (European Centre for Medium-Range Weather Forecasts)"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(L,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{children:"IPFS-stored climate oracles (e.g. UMA's Optimistic Oracle)"})]})]})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Can I sell my shares before the event resolves?"}),n.jsx("p",{className:"text-gray-300",children:"Yes. You can sell YES/NO shares any time before the market closes. This allows you to take profits or cut losses early."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What happens if there's a dispute?"}),n.jsx("p",{className:"text-gray-300",children:"Markets include a dispute window. Challenges can be raised based on incorrect data or unclear criteria, and resolved via governance or oracle escalation. Final outcomes are transparently recorded on-chain."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Are there trading limits or fees?"}),n.jsx("p",{className:"text-gray-300",children:"There are no trading limits. Fees are minimal and used to support oracle resolution and platform upkeep. All fees are disclosed before you place a trade."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What kind of climate data can I trade on?"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Currently supported categories include:"}),n.jsxs("ul",{className:"space-y-2 text-gray-300",children:[n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(Fr,{className:"w-4 h-4 text-blue-400"}),n.jsx("span",{children:"Rainfall, snowfall, and drought"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(Hr,{className:"w-4 h-4 text-red-400"}),n.jsx("span",{children:"Natural disasters (hurricanes, wildfires, earthquakes)"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(Wr,{className:"w-4 h-4 text-orange-400"}),n.jsx("span",{children:"Climate records (temperature highs, rainfall records, wind speeds)"})]})]}),n.jsx("p",{className:"text-gray-300 mt-4",children:"More data types (e.g. soil moisture, El Nio cycles, coral bleaching) will be added over time."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Can I create my own market?"}),n.jsx("p",{className:"text-gray-300",children:"Yes  advanced users can propose and fund new markets with custom parameters. We offer tooling for community-created forecasts with staked incentives."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Who is behind climate.markets?"}),n.jsx("p",{className:"text-gray-300",children:"climate.markets is developed by a distributed collective of climate technologists, forecasters, and Web3 developers committed to using markets to improve climate intelligence and transparency."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What wallets and networks are supported?"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Wallets:"}),n.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[n.jsx("li",{children:" MetaMask"}),n.jsx("li",{children:" Coinbase Wallet"}),n.jsx("li",{children:" WalletConnect"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Networks:"}),n.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[n.jsx("li",{children:" Polygon (mainnet)"}),n.jsx("li",{children:" Others coming soon"})]})]})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ready to Start Trading?"}),n.jsx("p",{className:"text-blue-100 mb-6",children:"Join the future of climate prediction markets and put your knowledge to the test."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs(E,{to:"/category/trending",className:"inline-flex items-center justify-center px-6 py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:["Browse Markets",n.jsx(Ns,{className:"w-4 h-4 ml-2"})]}),n.jsx(E,{to:"/dashboard",className:"inline-flex items-center justify-center px-6 py-3 border border-white text-white rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"View Dashboard"})]})]})]})})}function Fy(){const[t,e]=v.useState("overview"),s={totalValue:1250.5,totalProfit:234.75,profitPercentage:23.1,activePositions:8,completedTrades:24},r=[{id:1,market:"Global Temperature 2024",type:"buy",amount:50,outcome:"win",profit:12.5,date:"2024-01-15"},{id:2,market:"Carbon Emissions Reduction",type:"sell",amount:75,outcome:"loss",profit:-8.25,date:"2024-01-14"},{id:3,market:"Arctic Sea Ice Extent",type:"buy",amount:30,outcome:"win",profit:15.75,date:"2024-01-13"}],i=[{id:1,market:"Hurricane Season 2024",position:"Yes",amount:100,currentValue:125.5,profit:25.5,endDate:"2024-11-30"},{id:2,market:"Renewable Energy Adoption",position:"No",amount:75,currentValue:62.25,profit:-12.75,endDate:"2024-12-31"}],a=[{icon:kn,label:"New Trade",href:"/category/trending",color:"green"},{icon:Di,label:"Market Analysis",href:"/category/trending",color:"blue"},{icon:_n,label:"Settings",href:"/settings",color:"gray"},{icon:ft,label:"Profile",href:"/profile",color:"purple"}];return n.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard"}),n.jsx("p",{className:"text-gray-400",children:"Welcome back! Here's your trading overview."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Portfolio Value"}),n.jsxs("p",{className:"text-2xl font-bold",children:["$",s.totalValue.toLocaleString()]})]}),n.jsx(qs,{className:"h-8 w-8 text-green-500"})]})}),n.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Total Profit"}),n.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["$",s.totalProfit.toLocaleString()]}),n.jsxs("p",{className:"text-sm text-green-400",children:["+",s.profitPercentage,"%"]})]}),n.jsx(ge,{className:"h-8 w-8 text-green-500"})]})}),n.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Active Positions"}),n.jsx("p",{className:"text-2xl font-bold",children:s.activePositions})]}),n.jsx(Br,{className:"h-8 w-8 text-blue-500"})]})}),n.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Completed Trades"}),n.jsx("p",{className:"text-2xl font-bold",children:s.completedTrades})]}),n.jsx(tl,{className:"h-8 w-8 text-purple-500"})]})})]}),n.jsx("div",{className:"flex space-x-1 bg-gray-900 rounded-lg p-1 mb-8",children:[{id:"overview",label:"Overview",icon:Di},{id:"positions",label:"Active Positions",icon:Br},{id:"history",label:"Trade History",icon:sl}].map(o=>n.jsxs("button",{onClick:()=>e(o.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${t===o.id?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[n.jsx(o.icon,{className:"h-4 w-4"}),n.jsx("span",{children:o.label})]},o.id))}),t==="overview"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),n.jsx("div",{className:"space-y-3",children:a.map(o=>n.jsxs(E,{to:o.href,className:"flex items-center space-x-3 p-4 bg-gray-900 border border-gray-800 rounded-lg hover:bg-gray-800 transition-colors",children:[n.jsx(o.icon,{className:`h-5 w-5 text-${o.color}-500`}),n.jsx("span",{children:o.label}),n.jsx(Oi,{className:"h-4 w-4 text-gray-400 ml-auto"})]},o.label))})]}),n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),n.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-800",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Market"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Profit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-800",children:r.map(o=>n.jsxs("tr",{className:"hover:bg-gray-800",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-white",children:o.market}),n.jsx("div",{className:"text-sm text-gray-400",children:o.date})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o.type==="buy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.type.toUpperCase()})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:["$",o.amount]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[o.profit>=0?n.jsx(Oi,{className:"h-4 w-4 text-green-500 mr-1"}):n.jsx(_m,{className:"h-4 w-4 text-red-500 mr-1"}),n.jsxs("span",{className:`text-sm ${o.profit>=0?"text-green-500":"text-red-500"}`,children:["$",Math.abs(o.profit)]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.outcome==="win"?n.jsx(L,{className:"h-5 w-5 text-green-500"}):n.jsx(Ii,{className:"h-5 w-5 text-red-500"})})]},o.id))})]})})})]})]}),t==="positions"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Active Positions"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(o=>n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white mb-1",children:o.market}),n.jsxs("p",{className:"text-sm text-gray-400",children:["Position: ",o.position]})]}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o.position==="Yes"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.position})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-400",children:"Amount:"}),n.jsxs("span",{className:"text-white",children:["$",o.amount]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-400",children:"Current Value:"}),n.jsxs("span",{className:"text-white",children:["$",o.currentValue]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-400",children:"Profit/Loss:"}),n.jsxs("span",{className:o.profit>=0?"text-green-500":"text-red-500",children:["$",o.profit]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-400",children:"End Date:"}),n.jsx("span",{className:"text-white",children:o.endDate})]})]}),n.jsxs("div",{className:"mt-4 flex space-x-2",children:[n.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"View Details"}),n.jsx("button",{className:"flex-1 bg-gray-700 text-white py-2 px-4 rounded-lg text-sm hover:bg-gray-600 transition-colors",children:"Close Position"})]})]},o.id))})]}),t==="history"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Trade History"}),n.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-800",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Market"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Position"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Outcome"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Profit/Loss"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-800",children:r.map(o=>n.jsxs("tr",{className:"hover:bg-gray-800",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:o.date}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-white",children:o.market})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o.type==="buy"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.type.toUpperCase()})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:["$",o.amount]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.outcome==="win"?n.jsx(L,{className:"h-5 w-5 text-green-500"}):n.jsx(Ii,{className:"h-5 w-5 text-red-500"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm ${o.profit>=0?"text-green-500":"text-red-500"}`,children:["$",o.profit]})})]},o.id))})]})})})]})]})})}const uo="your_supabase_project_url_here",By="your_supabase_anon_key_here";let le=null;uo.includes("your_supabase")||(le=wt(uo,By));class ho{static async getUserProfile(e){if(!le)return console.warn("Supabase not configured. Using mock data."),this.getMockUserProfile(e);try{const{data:s,error:r}=await le.from("user_profiles").select("*").eq("wallet_address",e).single();if(r)throw r;return s}catch(s){return console.error("Error fetching user profile:",s),this.getMockUserProfile(e)}}static async upsertUserProfile(e){if(!le)return console.warn("Supabase not configured. Using mock data."),this.getMockUserProfile(e.wallet_address||"");try{const{data:s,error:r}=await le.from("user_profiles").upsert(e,{onConflict:"wallet_address"}).select().single();if(r)throw r;return s}catch(s){return console.error("Error upserting user profile:",s),null}}static async getUserSettings(e){if(!le)return console.warn("Supabase not configured. Using mock data."),this.getMockUserSettings(e);try{const{data:s,error:r}=await le.from("user_settings").select("*").eq("user_id",e).single();if(r)throw r;return s}catch(s){return console.error("Error fetching user settings:",s),this.getMockUserSettings(e)}}static async updateUserSettings(e){if(!le)return console.warn("Supabase not configured. Using mock data."),this.getMockUserSettings(e.user_id||"");try{const{data:s,error:r}=await le.from("user_settings").upsert(e,{onConflict:"user_id"}).select().single();if(r)throw r;return s}catch(s){return console.error("Error updating user settings:",s),null}}static async getUserTradingStats(e){if(!le)return console.warn("Supabase not configured. Using mock data."),{totalTrades:156,winRate:68.5,totalProfit:2347.5,activePositions:8,completedTrades:24};try{const{data:s,error:r}=await le.from("user_trades").select("*").eq("wallet_address",e);if(r)throw r;const i=(s==null?void 0:s.length)||0,a=(s==null?void 0:s.filter(c=>c.outcome==="win").length)||0,o=i>0?a/i*100:0,l=(s==null?void 0:s.reduce((c,d)=>c+(d.profit||0),0))||0;return{totalTrades:i,winRate:o,totalProfit:l,activePositions:(s==null?void 0:s.filter(c=>c.status==="active").length)||0,completedTrades:(s==null?void 0:s.filter(c=>c.status==="completed").length)||0}}catch(s){return console.error("Error fetching trading stats:",s),{totalTrades:0,winRate:0,totalProfit:0,activePositions:0,completedTrades:0}}}static getMockUserProfile(e){return{id:"1",wallet_address:e,username:"climate_trader",email:"alex.johnson@example.com",full_name:"Alex Johnson",bio:"Passionate about climate prediction markets and sustainable investing. Trading since 2023.",location:"San Francisco, CA",avatar_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",trading_level:"Advanced",total_trades:156,win_rate:68.5,total_profit:2347.5,join_date:"2023-03-15",created_at:"2023-03-15T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}}static getMockUserSettings(e){return{id:"1",user_id:e,theme:"dark",language:"en",timezone:"UTC",currency:"USD",default_trade_amount:50,auto_confirm_trades:!1,show_advanced_charts:!0,risk_level:"medium",email_notifications:!0,push_notifications:!0,trade_alerts:!0,market_updates:!1,price_alerts:!0,two_factor_auth:!0,session_timeout:30,login_notifications:!0,profile_visibility:"public",show_trading_history:!0,allow_data_analytics:!0,created_at:"2023-03-15T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}}}function Wy(){const[t,e]=v.useState(!1),[s,r]=v.useState(!1),[i,a]=v.useState("personal"),[o,l]=v.useState(null),[c,d]=v.useState(!0),u=localStorage.getItem("userAddress")||"0x1234567890123456789012345678901234567890";if(v.useEffect(()=>{(async()=>{try{const w=await ho.getUserProfile(u);l(w)}catch(w){console.error("Error loading user profile:",w)}finally{d(!1)}})()},[u]),c)return n.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-400",children:"Loading profile..."})]})})});if(!o)return n.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-400",children:"Failed to load user profile"}),n.jsx(E,{to:"/dashboard",className:"text-blue-400 hover:text-blue-300 mt-4 inline-block",children:"Back to Dashboard"})]})})});const[h,m]=v.useState({name:o.full_name||"",email:o.email||"",username:o.username,location:o.location||"",bio:o.bio||"",currentPassword:"",newPassword:"",confirmPassword:""}),f=(y,w)=>{m(b=>({...b,[y]:w}))},x=async()=>{try{const y=await ho.upsertUserProfile({wallet_address:u,full_name:h.name,email:h.email,username:h.username,location:h.location,bio:h.bio});y&&(l(y),console.log("Profile saved successfully"))}catch(y){console.error("Error saving profile:",y)}e(!1)},p=()=>{m({name:o.full_name||"",email:o.email||"",username:o.username,location:o.location||"",bio:o.bio||"",currentPassword:"",newPassword:"",confirmPassword:""}),e(!1)},g=[{icon:Ri,title:"First Trade",description:"Completed your first trade",earned:"2023-03-16"},{icon:ge,title:"Profit Maker",description:"Made your first profit",earned:"2023-04-02"},{icon:tl,title:"Active Trader",description:"Completed 50 trades",earned:"2023-06-15"},{icon:Br,title:"Sharp Shooter",description:"Achieved 70% win rate",earned:"2023-08-22"}];return n.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs(E,{to:"/dashboard",className:"text-blue-400 hover:text-blue-300 flex items-center mb-6",children:[n.jsx(pe,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Profile"}),n.jsxs("button",{onClick:()=>e(!t),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Li,{className:"w-4 h-4"}),n.jsx("span",{children:t?"Cancel":"Edit Profile"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:o.avatar_url||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",alt:o.full_name||o.username,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-800"}),t&&n.jsx("button",{className:"absolute bottom-0 right-0 bg-blue-600 p-2 rounded-full hover:bg-blue-700 transition-colors",children:n.jsx(Li,{className:"w-4 h-4"})})]}),n.jsx("h2",{className:"text-xl font-semibold mt-4",children:o.full_name||o.username}),n.jsxs("p",{className:"text-gray-400",children:["@",o.username]}),n.jsxs("div",{className:"flex items-center justify-center mt-2",children:[n.jsx(L,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-sm text-green-500",children:"Verified"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(mt,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-300",children:user.email})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(jt,{className:"w-4 h-4 text-gray-400"}),n.jsxs("span",{className:"text-sm text-gray-300",children:["Joined ",new Date(user.joinDate).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Lm,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-300",children:user.location})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Em,{className:"w-4 h-4 text-gray-400"}),n.jsxs("span",{className:"text-sm text-gray-300 font-mono",children:[user.walletAddress.slice(0,6),"...",user.walletAddress.slice(-4)]})]})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Trading Statistics"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Total Trades:"}),n.jsx("span",{className:"text-white",children:user.totalTrades})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Win Rate:"}),n.jsxs("span",{className:"text-green-500",children:[user.winRate,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Total Profit:"}),n.jsxs("span",{className:"text-green-500",children:["$",user.totalProfit.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Level:"}),n.jsx("span",{className:"text-blue-500",children:user.tradingLevel})]})]})]})]})}),n.jsxs("div",{className:"lg:col-span-2",children:[n.jsx("div",{className:"flex space-x-1 bg-gray-900 rounded-lg p-1 mb-6",children:[{id:"personal",label:"Personal Info",icon:ft},{id:"security",label:"Security",icon:kt},{id:"achievements",label:"Achievements",icon:Ri}].map(y=>n.jsxs("button",{onClick:()=>a(y.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${i===y.id?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[n.jsx(y.icon,{className:"h-4 w-4"}),n.jsx("span",{children:y.label})]},y.id))}),i==="personal"&&n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[n.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Personal Information"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Full Name"}),n.jsx("input",{type:"text",value:h.name,onChange:y=>f("name",y.target.value),disabled:!t,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white disabled:opacity-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Username"}),n.jsx("input",{type:"text",value:h.username,onChange:y=>f("username",y.target.value),disabled:!t,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white disabled:opacity-50"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",value:h.email,onChange:y=>f("email",y.target.value),disabled:!t,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white disabled:opacity-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Location"}),n.jsx("input",{type:"text",value:h.location,onChange:y=>f("location",y.target.value),disabled:!t,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white disabled:opacity-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Bio"}),n.jsx("textarea",{value:h.bio,onChange:y=>f("bio",y.target.value),disabled:!t,rows:4,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white disabled:opacity-50 resize-none"})]}),t&&n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsxs("button",{onClick:x,className:"flex items-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(al,{className:"w-4 h-4"}),n.jsx("span",{children:"Save Changes"})]}),n.jsxs("button",{onClick:p,className:"flex items-center space-x-2 px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[n.jsx(Nn,{className:"w-4 h-4"}),n.jsx("span",{children:"Cancel"})]})]})]})]}),i==="security"&&n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[n.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Security Settings"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:s?"text":"password",value:h.currentPassword,onChange:y=>f("currentPassword",y.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white pr-12"}),n.jsx("button",{onClick:()=>r(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:s?n.jsx(bn,{className:"w-4 h-4"}):n.jsx(wn,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"New Password"}),n.jsx("input",{type:"password",value:h.newPassword,onChange:y=>f("newPassword",y.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Confirm New Password"}),n.jsx("input",{type:"password",value:h.confirmPassword,onChange:y=>f("confirmPassword",y.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white"})]}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update Password"})})]})]}),i==="achievements"&&n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[n.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Achievements"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map((y,w)=>n.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-800 rounded-lg",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(y.icon,{className:"w-8 h-8 text-yellow-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-white",children:y.title}),n.jsx("p",{className:"text-sm text-gray-400",children:y.description}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Earned ",y.earned]})]})]},w))})]})]})]})]})})}function qy(){const[t,e]=v.useState("general"),[s,r]=v.useState(!1),[i,a]=v.useState(!1),[o,l]=v.useState({theme:"dark",language:"en",timezone:"UTC",currency:"USD",defaultTradeAmount:50,autoConfirmTrades:!1,showAdvancedCharts:!0,riskLevel:"medium",emailNotifications:!0,pushNotifications:!0,tradeAlerts:!0,marketUpdates:!1,priceAlerts:!0,twoFactorAuth:!0,sessionTimeout:30,loginNotifications:!0,profileVisibility:"public",showTradingHistory:!0,allowDataAnalytics:!0}),c=(h,m)=>{l(f=>({...f,[h]:m}))},d=()=>{console.log("Saving settings:",o),a(!1)},u=()=>{a(!1)};return n.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs(E,{to:"/dashboard",className:"text-blue-400 hover:text-blue-300 flex items-center mb-6",children:[n.jsx(pe,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Settings"}),n.jsx("p",{className:"text-gray-400",children:"Manage your account preferences and security"})]}),i&&n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(al,{className:"w-4 h-4"}),n.jsx("span",{children:"Save Changes"})]}),n.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[n.jsx(Nn,{className:"w-4 h-4"}),n.jsx("span",{children:"Cancel"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:n.jsx("nav",{className:"space-y-2",children:[{id:"general",label:"General",icon:_n},{id:"trading",label:"Trading",icon:qs},{id:"notifications",label:"Notifications",icon:vn},{id:"security",label:"Security",icon:kt},{id:"privacy",label:"Privacy",icon:ft}].map(h=>n.jsxs("button",{onClick:()=>e(h.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-colors ${t===h.id?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[n.jsx(h.icon,{className:"w-5 h-5"}),n.jsx("span",{children:h.label})]},h.id))})})}),n.jsxs("div",{className:"lg:col-span-3",children:[t==="general"&&n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6",children:"General Settings"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Theme"}),n.jsxs("select",{value:o.theme,onChange:h=>c("theme",h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[n.jsx("option",{value:"dark",children:"Dark"}),n.jsx("option",{value:"light",children:"Light"}),n.jsx("option",{value:"auto",children:"Auto"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Language"}),n.jsxs("select",{value:o.language,onChange:h=>c("language",h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[n.jsx("option",{value:"en",children:"English"}),n.jsx("option",{value:"es",children:"Spanish"}),n.jsx("option",{value:"fr",children:"French"}),n.jsx("option",{value:"de",children:"German"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Timezone"}),n.jsxs("select",{value:o.timezone,onChange:h=>c("timezone",h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[n.jsx("option",{value:"UTC",children:"UTC"}),n.jsx("option",{value:"EST",children:"Eastern Time"}),n.jsx("option",{value:"PST",children:"Pacific Time"}),n.jsx("option",{value:"GMT",children:"GMT"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Currency"}),n.jsxs("select",{value:o.currency,onChange:h=>c("currency",h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[n.jsx("option",{value:"USD",children:"USD ($)"}),n.jsx("option",{value:"EUR",children:"EUR ()"}),n.jsx("option",{value:"GBP",children:"GBP ()"}),n.jsx("option",{value:"JPY",children:"JPY ()"})]})]})]})]})]}),t==="trading"&&n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Trading Preferences"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Default Trade Amount ($)"}),n.jsx("input",{type:"number",value:o.defaultTradeAmount,onChange:h=>c("defaultTradeAmount",parseInt(h.target.value)),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",min:"1",max:"10000"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-white",children:"Auto-confirm trades"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Automatically confirm trades without manual review"})]}),n.jsx("button",{onClick:()=>c("autoConfirmTrades",!o.autoConfirmTrades),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.autoConfirmTrades?"bg-blue-600":"bg-gray-700"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.autoConfirmTrades?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-white",children:"Show advanced charts"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Display technical indicators and advanced charting tools"})]}),n.jsx("button",{onClick:()=>c("showAdvancedCharts",!o.showAdvancedCharts),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.showAdvancedCharts?"bg-blue-600":"bg-gray-700"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.showAdvancedCharts?"translate-x-6":"translate-x-1"}`})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Risk Level"}),n.jsxs("select",{value:o.riskLevel,onChange:h=>c("riskLevel",h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[n.jsx("option",{value:"low",children:"Low Risk"}),n.jsx("option",{value:"medium",children:"Medium Risk"}),n.jsx("option",{value:"high",children:"High Risk"})]})]})]})]}),t==="notifications"&&n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Notification Preferences"}),n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-white",children:"Email Notifications"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via email"})]}),n.jsx("button",{onClick:()=>c("emailNotifications",!o.emailNotifications),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.emailNotifications?"bg-blue-600":"bg-gray-700"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.emailNotifications?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-white",children:"Push Notifications"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications on your device"})]}),n.jsx("button",{onClick:()=>c("pushNotifications",!o.pushNotifications),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.pushNotifications?"bg-blue-600":"bg-gray-700"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.pushNotifications?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-white",children:"Trade Alerts"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Get notified when your trades are executed"})]}),n.jsx("button",{onClick:()=>c("tradeAlerts",!o.tradeAlerts),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.tradeAlerts?"bg-blue-600":"bg-gray-700"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.tradeAlerts?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-white",children:"Market Updates"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Receive daily market summaries"})]}),n.jsx("button",{onClick:()=>c("marketUpdates",!o.marketUpdates),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.marketUpdates?"bg-blue-600":"bg-gray-700"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.marketUpdates?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-white",children:"Price Alerts"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Get notified when markets reach target prices"})]}),n.jsx("button",{onClick:()=>c("priceAlerts",!o.priceAlerts),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.priceAlerts?"bg-blue-600":"bg-gray-700"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.priceAlerts?"translate-x-6":"translate-x-1"}`})})]})]})})]}),t==="security"&&n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Security Settings"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-white",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Add an extra layer of security to your account"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-sm text-green-500",children:"Enabled"}),n.jsx(L,{className:"w-5 h-5 text-green-500"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-white",children:"Login Notifications"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Get notified of new login attempts"})]}),n.jsx("button",{onClick:()=>c("loginNotifications",!o.loginNotifications),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.loginNotifications?"bg-blue-600":"bg-gray-700"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.loginNotifications?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Session Timeout (minutes)"}),n.jsxs("select",{value:o.sessionTimeout,onChange:h=>c("sessionTimeout",parseInt(h.target.value)),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[n.jsx("option",{value:15,children:"15 minutes"}),n.jsx("option",{value:30,children:"30 minutes"}),n.jsx("option",{value:60,children:"1 hour"}),n.jsx("option",{value:120,children:"2 hours"})]})]}),n.jsx("div",{className:"p-4 bg-yellow-900/20 border border-yellow-800 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(yn,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-yellow-400",children:"Security Tip"}),n.jsx("p",{className:"text-sm text-yellow-200 mt-1",children:"Consider enabling two-factor authentication and using a strong, unique password for enhanced security."})]})]})})]})]}),t==="privacy"&&n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Privacy Settings"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Profile Visibility"}),n.jsxs("select",{value:o.profileVisibility,onChange:h=>c("profileVisibility",h.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white",children:[n.jsx("option",{value:"public",children:"Public"}),n.jsx("option",{value:"private",children:"Private"}),n.jsx("option",{value:"friends",children:"Friends Only"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-white",children:"Show Trading History"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Allow others to see your trading activity"})]}),n.jsx("button",{onClick:()=>c("showTradingHistory",!o.showTradingHistory),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.showTradingHistory?"bg-blue-600":"bg-gray-700"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.showTradingHistory?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-white",children:"Allow Data Analytics"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Help improve our service with anonymous usage data"})]}),n.jsx("button",{onClick:()=>c("allowDataAnalytics",!o.allowDataAnalytics),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.allowDataAnalytics?"bg-blue-600":"bg-gray-700"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.allowDataAnalytics?"translate-x-6":"translate-x-1"}`})})]})]})]})]})]})]})]})})}function Hy(){return n.jsx("div",{className:"min-h-screen bg-black text-white pt-24",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs(E,{to:"/",className:"inline-flex items-center text-gray-400 hover:text-white transition-colors mb-6",children:[n.jsx(pe,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(nl,{className:"w-8 h-8 text-blue-500"}),n.jsx("h1",{className:"text-3xl font-bold",children:" Frequently Asked Questions (FAQ)"})]}),n.jsx("p",{className:"text-xl text-gray-300",children:"Find answers to common questions about climate prediction markets and how to get started."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What is a prediction market?"}),n.jsx("p",{className:"text-gray-300",children:"A prediction market lets people bet on future outcomes. The price of a share represents the collective belief in the likelihood of that event occurring."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Is this legal?"}),n.jsx("p",{className:"text-gray-300",children:"climate.markets is a decentralized platform operating in accordance with applicable law. Users in restricted jurisdictions (e.g. U.S., U.K.) may only access non-trading features like climate data and forecasts. Always consult local laws."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"How do I fund my account?"}),n.jsx("p",{className:"text-gray-300",children:"You can connect a crypto wallet (e.g. MetaMask) and fund your account using USDC or another supported stablecoin. In some jurisdictions, fiat on-ramps via card or bank transfer may be supported."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"How are outcomes verified?"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Markets resolve using publicly available, verifiable data from trusted sources like:"}),n.jsxs("ul",{className:"space-y-2 text-gray-300",children:[n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(L,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{children:"NOAA (National Oceanic and Atmospheric Administration)"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(L,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{children:"ECMWF (European Centre for Medium-Range Weather Forecasts)"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(L,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{children:"IPFS-stored climate oracles (e.g. UMA's Optimistic Oracle)"})]})]})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Can I sell my shares before the event resolves?"}),n.jsx("p",{className:"text-gray-300",children:"Yes. You can sell YES/NO shares any time before the market closes. This allows you to take profits or cut losses early."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What happens if there's a dispute?"}),n.jsx("p",{className:"text-gray-300",children:"Markets include a dispute window. Challenges can be raised based on incorrect data or unclear criteria, and resolved via governance or oracle escalation. Final outcomes are transparently recorded on-chain."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Are there trading limits or fees?"}),n.jsx("p",{className:"text-gray-300",children:"There are no trading limits. Fees are minimal and used to support oracle resolution and platform upkeep. All fees are disclosed before you place a trade."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What kind of climate data can I trade on?"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Currently supported categories include:"}),n.jsxs("ul",{className:"space-y-2 text-gray-300",children:[n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(Fr,{className:"w-4 h-4 text-blue-400"}),n.jsx("span",{children:"Rainfall, snowfall, and drought"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(Hr,{className:"w-4 h-4 text-red-400"}),n.jsx("span",{children:"Natural disasters (hurricanes, wildfires, earthquakes)"})]}),n.jsxs("li",{className:"flex items-center space-x-2",children:[n.jsx(Wr,{className:"w-4 h-4 text-orange-400"}),n.jsx("span",{children:"Climate records (temperature highs, rainfall records, wind speeds)"})]})]}),n.jsx("p",{className:"text-gray-300 mt-4",children:"More data types (e.g. soil moisture, El Nio cycles, coral bleaching) will be added over time."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Can I create my own market?"}),n.jsx("p",{className:"text-gray-300",children:"Yes  advanced users can propose and fund new markets with custom parameters. We offer tooling for community-created forecasts with staked incentives."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Who is behind climate.markets?"}),n.jsx("p",{className:"text-gray-300",children:"climate.markets is developed by a distributed collective of climate technologists, forecasters, and Web3 developers committed to using markets to improve climate intelligence and transparency."})]}),n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"What wallets and networks are supported?"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Wallets:"}),n.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[n.jsx("li",{children:" MetaMask"}),n.jsx("li",{children:" Coinbase Wallet"}),n.jsx("li",{children:" WalletConnect"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Networks:"}),n.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[n.jsx("li",{children:" Polygon (mainnet)"}),n.jsx("li",{children:" Others coming soon"})]})]})]})]})]}),n.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Still Have Questions?"}),n.jsx("p",{className:"text-blue-100 mb-6",children:"Learn more about how climate prediction markets work and get started trading."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs(E,{to:"/how-it-works",className:"inline-flex items-center justify-center px-6 py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:["How It Works",n.jsx(Ns,{className:"w-4 h-4 ml-2"})]}),n.jsx(E,{to:"/category/trending",className:"inline-flex items-center justify-center px-6 py-3 border border-white text-white rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"Browse Markets"})]})]})]})})}function zy({market:t}){return n.jsxs("div",{className:"relative h-[85vh] w-full",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 sm:p-12 lg:p-16",children:n.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[n.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-4",children:t.title}),n.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mb-8",children:t.description}),n.jsxs("div",{className:"flex items-center space-x-8 mb-8",children:[n.jsxs("div",{className:"flex items-center text-green-400",children:[n.jsx(ge,{className:"h-5 w-5 mr-2"}),n.jsxs("span",{className:"text-lg font-medium",children:["$",t.volume.toLocaleString()]})]}),n.jsxs("div",{className:"flex items-center text-blue-400",children:[n.jsx(jt,{className:"h-5 w-5 mr-2"}),n.jsx("span",{className:"text-lg",children:Xs(new Date(t.target_date),"MMMM d, yyyy")})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(E,{to:`/market/${t.id}`,className:"inline-flex items-center px-6 py-3 rounded-lg bg-white text-black font-medium hover:bg-gray-200 transition-colors",children:[n.jsx($m,{className:"h-5 w-5 mr-2"}),"Trade Now"]}),n.jsxs("button",{className:"inline-flex items-center px-6 py-3 rounded-lg bg-gray-600/80 text-white font-medium hover:bg-gray-500/80 transition-colors",children:[n.jsx(Am,{className:"h-5 w-5 mr-2"}),"More Info"]})]})]})})]})}function Ky({isOpen:t,onClose:e,onLogin:s,onSignup:r,onWalletConnect:i}){const[a,o]=v.useState("login"),[l,c]=v.useState(""),[d,u]=v.useState(""),[h,m]=v.useState(""),[f,x]=v.useState(!1),[p,g]=v.useState(!1),[y,w]=v.useState(""),[b,j]=v.useState(""),_=async O=>{O.preventDefault(),w(""),j(""),g(!0);try{if(a==="signup"){if(!h.trim())throw new Error("Name is required");if(!l.trim())throw new Error("Email is required");if(!l.includes("@"))throw new Error("Please enter a valid email address");if(d.length<6)throw new Error("Password must be at least 6 characters");await new Promise($=>setTimeout($,1e3)),r&&r(l,d,h),j("Account created successfully! Please check your email to verify your account."),o("login"),m(""),u("")}else{if(!l.trim())throw new Error("Email is required");if(!d.trim())throw new Error("Password is required");await new Promise($=>setTimeout($,1e3)),s&&s(l,d),j("Logged in successfully!"),e()}}catch($){w($.message||"An error occurred. Please try again.")}finally{g(!1)}},S=()=>{i&&i(),e()},C=()=>{c(""),u(""),m(""),w(""),j(""),x(!1)},P=()=>{o(a==="login"?"signup":"login"),C()};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl max-w-md w-full p-6 relative",children:[n.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:n.jsx(Nn,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome to Climate Markets"}),n.jsx("p",{className:"text-gray-400",children:a==="signup"?"Create your account to start trading climate predictions":"Connect your wallet or sign in to start trading"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:[n.jsx(qr,{className:"w-5 h-5"}),n.jsx("span",{children:"Connect Wallet"})]}),n.jsxs("div",{className:"flex items-center my-4",children:[n.jsx("div",{className:"flex-1 border-t border-gray-700"}),n.jsx("span",{className:"px-4 text-gray-400 text-sm",children:"or"}),n.jsx("div",{className:"flex-1 border-t border-gray-700"})]})]}),n.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a==="signup"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",value:h,onChange:O=>m(O.target.value),placeholder:"Enter your full name",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 transition-colors",disabled:p})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"email",value:l,onChange:O=>c(O.target.value),placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 transition-colors",disabled:p})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Om,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:f?"text":"password",value:d,onChange:O=>u(O.target.value),placeholder:a==="signup"?"Create a password":"Enter your password",className:"w-full pl-10 pr-12 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 transition-colors",disabled:p}),n.jsx("button",{type:"button",onClick:()=>x(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:p,children:f?n.jsx(bn,{className:"w-4 h-4"}):n.jsx(wn,{className:"w-4 h-4"})})]}),a==="signup"&&n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Password must be at least 6 characters long"})]}),y&&n.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-900/20 border border-red-800 rounded-lg",children:[n.jsx(km,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-red-400",children:y})]}),b&&n.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-900/20 border border-green-800 rounded-lg",children:[n.jsx(L,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-green-400",children:b})]}),n.jsx("button",{type:"submit",disabled:p,className:"w-full flex items-center justify-center space-x-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:p?n.jsxs(n.Fragment,{children:[n.jsx(Mm,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Processing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:a==="signup"?"Create Account":"Sign In"}),n.jsx(Nm,{className:"w-4 h-4"})]})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-gray-400",children:[a==="login"?"Don't have an account?":"Already have an account?",n.jsx("button",{onClick:P,className:"ml-2 text-blue-400 hover:text-blue-300 font-medium transition-colors",children:a==="login"?"Sign Up":"Log In"})]})}),n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-800",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 bg-gray-800 hover:bg-gray-700 text-white py-2 px-4 rounded-lg transition-colors",children:[n.jsx(mt,{className:"w-4 h-4"}),n.jsx("span",{children:"Continue with Google"})]}),n.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 bg-gray-800 hover:bg-gray-700 text-white py-2 px-4 rounded-lg transition-colors",children:[n.jsx(Ss,{className:"w-4 h-4"}),n.jsx("span",{children:"Continue with Phone"})]})]})}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-xs text-gray-400",children:["By continuing, you agree to our"," ",n.jsx("a",{href:"/terms",className:"text-blue-400 hover:text-blue-300",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"/privacy",className:"text-blue-400 hover:text-blue-300",children:"Privacy Policy"})]})})]})}):null}function Gy({isConnected:t,userAddress:e,onConnect:s,onDisconnect:r}){const[i,a]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState(""),[u,h]=v.useState(""),m=g=>`${g.slice(0,6)}...${g.slice(-4)}`,f=(g,y)=>{console.log("Login with email:",g),d(g),a(!1)},x=(g,y,w)=>{console.log("Signup with email:",g,"name:",w),d(g),h(w),a(!1)},p=()=>{console.log("Connecting wallet..."),s(),a(!1)};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-sm border-b border-gray-800",children:n.jsx("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-12",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Climate Markets"}),n.jsx("div",{className:"h-4 w-px bg-gray-700"}),n.jsx("span",{className:"text-xs text-green-400",children:"Live Trading"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{className:"p-1.5 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors",children:n.jsx(vn,{className:"h-4 w-4 text-gray-400"})}),t?n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>l(!o),className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors",children:[n.jsx(qr,{className:"h-4 w-4 text-green-400"}),n.jsx("span",{className:"text-xs text-white font-medium",children:e?m(e):"Connected"}),n.jsx(ft,{className:"h-4 w-4 text-gray-400"})]}),o&&n.jsx(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute right-0 top-full mt-2 w-48 bg-gray-900 border border-gray-800 rounded-lg shadow-lg",children:n.jsxs("div",{className:"p-2 space-y-1",children:[n.jsxs("button",{className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-gray-300 hover:text-white hover:bg-gray-800 rounded transition-colors",children:[n.jsx(ft,{className:"h-4 w-4"}),n.jsx("span",{children:"Profile"})]}),n.jsxs("button",{className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-gray-300 hover:text-white hover:bg-gray-800 rounded transition-colors",children:[n.jsx(_n,{className:"h-4 w-4"}),n.jsx("span",{children:"Settings"})]}),n.jsx("div",{className:"h-px bg-gray-800 my-1"}),n.jsxs("button",{onClick:r,className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-gray-800 rounded transition-colors",children:[n.jsx(Dm,{className:"h-4 w-4"}),n.jsx("span",{children:"Disconnect"})]})]})})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:s,className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg bg-blue-600 hover:bg-blue-700 transition-colors",children:[n.jsx(qr,{className:"h-4 w-4 text-white"}),n.jsx("span",{className:"text-xs text-white font-medium",children:"Connect Wallet"})]}),n.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors",children:[n.jsx(Rm,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-xs text-gray-300",children:"Log In"})]}),n.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg bg-green-600 hover:bg-green-700 transition-colors",children:[n.jsx(Fm,{className:"h-4 w-4 text-white"}),n.jsx("span",{className:"text-xs text-white font-medium",children:"Sign Up"})]})]})]})]})})}),n.jsx(Ky,{isOpen:i,onClose:()=>a(!1),onLogin:f,onSignup:x,onWalletConnect:p})]})}function Yy(){const t=new Date().getFullYear();return n.jsx("footer",{className:"bg-black border-t border-gray-800",children:n.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rl,{className:"h-8 w-8 text-green-500"}),n.jsx("span",{className:"text-xl font-bold text-white",children:"Climate Markets"})]}),n.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Decentralized climate prediction markets. Trade the future of our planet."}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("a",{href:"https://twitter.com/climatemarkets",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors",children:n.jsx(Vm,{className:"h-5 w-5"})}),n.jsx("a",{href:"https://github.com/climatemarkets",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-300 transition-colors",children:n.jsx(Cm,{className:"h-5 w-5"})}),n.jsx("a",{href:"mailto:hello@climate.markets",className:"text-gray-400 hover:text-green-400 transition-colors",children:n.jsx(mt,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-white font-semibold",children:"Product"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsx(E,{to:"/category/trending",className:"text-gray-400 hover:text-white transition-colors",children:"Trending Markets"})}),n.jsx("li",{children:n.jsx(E,{to:"/category/temperature",className:"text-gray-400 hover:text-white transition-colors",children:"Temperature Predictions"})}),n.jsx("li",{children:n.jsx(E,{to:"/category/emissions",className:"text-gray-400 hover:text-white transition-colors",children:"Carbon Emissions"})}),n.jsx("li",{children:n.jsx(E,{to:"/wallet",className:"text-gray-400 hover:text-white transition-colors",children:"Wallet Integration"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-white font-semibold",children:"Support"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsxs("a",{href:"https://docs.climate.markets",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-1",children:[n.jsx("span",{children:"Documentation"}),n.jsx(ht,{className:"h-3 w-3"})]})}),n.jsx("li",{children:n.jsxs("a",{href:"https://discord.gg/climatemarkets",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-1",children:[n.jsx("span",{children:"Discord Community"}),n.jsx(ht,{className:"h-3 w-3"})]})}),n.jsx("li",{children:n.jsx("a",{href:"mailto:support@climate.markets",className:"text-gray-400 hover:text-white transition-colors",children:"Contact Support"})}),n.jsx("li",{children:n.jsx(E,{to:"/how-it-works",className:"text-gray-400 hover:text-white transition-colors",children:"How It Works"})}),n.jsx("li",{children:n.jsx(E,{to:"/faq",className:"text-gray-400 hover:text-white transition-colors",children:"FAQ"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-white font-semibold",children:"Legal"}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:n.jsxs(E,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-1",children:[n.jsx(kt,{className:"h-3 w-3"}),n.jsx("span",{children:"Privacy Policy"})]})}),n.jsx("li",{children:n.jsxs(E,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors flex items-center space-x-1",children:[n.jsx(jn,{className:"h-3 w-3"}),n.jsx("span",{children:"Terms of Use"})]})}),n.jsx("li",{children:n.jsx(E,{to:"/disclaimer",className:"text-gray-400 hover:text-white transition-colors",children:"Risk Disclaimer"})}),n.jsx("li",{children:n.jsx(E,{to:"/cookies",className:"text-gray-400 hover:text-white transition-colors",children:"Cookie Policy"})})]})]})]}),n.jsx("div",{className:"mt-12 pt-8 border-t border-gray-800",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[n.jsxs("div",{className:"text-gray-400 text-sm",children:[" ",t," Climate Markets. All rights reserved."]}),n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:[n.jsx("span",{children:"Made with  for the planet"}),n.jsx("span",{children:""}),n.jsx("span",{children:"Built on Ethereum"}),n.jsx("span",{children:""}),n.jsx("span",{children:"Open Source"})]})]})})]})})}const mo="your_supabase_project_url_here",fo="your_supabase_anon_key_here",dn=!mo.includes("your_supabase")&&!fo.includes("your_supabase")?wt(mo,fo):null;dn||console.warn("Supabase not configured. Please add your Supabase credentials to the .env file.");const Nr="55f24b5d234bc2b682d0e649c9def42f",Sr=[Yc,Jc];let ws,Bc=!1;if(Nr.includes("your_web3"))console.warn("Web3Modal not configured. Please add your project ID to the .env file."),ws=ai({autoConnect:!0,chains:Sr});else{const{chains:t}=Kc(Sr,[Qc({projectId:Nr})]);ws=ai({autoConnect:!0,chains:t}),bm({wagmiConfig:ws,projectId:Nr,chains:Sr}),Bc=!0}function Jy(){const[t,e]=v.useState([]),[s,r]=v.useState(""),[i,a]=v.useState(!1),[o,l]=v.useState(!1),[c,d]=v.useState("");v.useEffect(()=>{u();const p=localStorage.getItem("walletConnected")==="true",g=localStorage.getItem("userAddress");p&&g&&(l(!0),d(g),console.log("Restored wallet connection:",g));const y=()=>{a(window.scrollY>0)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]);async function u(){if(!dn){console.warn("Supabase not configured. Using mock data."),e([{id:"1",category_id:"temperature",title:"Global Temperature 2024",description:"Will the global average temperature exceed 1.5C above pre-industrial levels?",target_date:"2024-12-31T23:59:59Z",current_price:.75,volume:125e3,country:"Global",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"}],resolution_criteria:"Based on global average temperature data from major meteorological organizations",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"2",category_id:"emissions",title:"Carbon Emissions Target",description:"Will global carbon emissions decrease by 5% in 2024?",target_date:"2024-12-31T23:59:59Z",current_price:.45,volume:89e3,country:"Global",verification_sources:[{name:"IEA",url:"https://www.iea.org"}],resolution_criteria:"Based on official carbon emission reports from major economies",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"3",category_id:"disasters",title:" Florida  Category 3+ Hurricane Landfall Before Nov 2025",description:"Will a Category 3 or stronger hurricane make landfall in Florida before November 2025?",target_date:"2025-10-31T23:59:59Z",current_price:.28,volume:156e3,country:"USA",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NHC",url:"https://www.nhc.noaa.gov"}],resolution_criteria:"Official hurricane data from National Hurricane Center",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"4",category_id:"disasters",title:" California  Wildfire > 10,000 acres by September",description:"Will a wildfire in California exceed 10,000 acres in size by September 2024?",target_date:"2024-09-01T23:59:59Z",current_price:.54,volume:98e3,country:"USA",verification_sources:[{name:"Cal Fire",url:"https://www.fire.ca.gov"}],resolution_criteria:"Official wildfire data from California Department of Forestry and Fire Protection",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"5",category_id:"records",title:" Phoenix, AZ  All-Time High Temperature Broken in 2025",description:"Will Phoenix, Arizona break its all-time high temperature record in 2025?",target_date:"2025-12-31T23:59:59Z",current_price:.41,volume:67e3,country:"USA",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NWS Phoenix",url:"https://www.weather.gov/psr"}],resolution_criteria:"Official temperature data from National Weather Service Phoenix",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"6",category_id:"records",title:" Atlantic  Fastest Sustained Hurricane Winds in a Decade",description:"Will the Atlantic basin see a hurricane with sustained winds exceeding 180 mph in 2024?",target_date:"2024-11-30T23:59:59Z",current_price:.66,volume:112e3,country:"Atlantic",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NHC",url:"https://www.nhc.noaa.gov"}],resolution_criteria:"Official hurricane wind speed data from National Hurricane Center",sustainability_fee_percentage:2.5,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"7",category_id:"precipitation",title:" Minneapolis, MN  Snowfall on Thanksgiving Day",description:"Will there be measurable snowfall (0.1 inches) in Minneapolis, MN on Thanksgiving Day 2024?",target_date:"2024-11-27T23:59:59Z",current_price:.35,volume:89e3,country:"USA",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NWS Minneapolis",url:"https://www.weather.gov/mpx"}],resolution_criteria:"Official snowfall data from National Weather Service Minneapolis",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"8",category_id:"precipitation",title:" Phoenix, AZ  No measurable rain in October",description:"Will Phoenix, Arizona receive no measurable rainfall (0.01 inches) during October 2024?",target_date:"2024-10-31T23:59:59Z",current_price:.72,volume:76e3,country:"USA",verification_sources:[{name:"NOAA",url:"https://www.noaa.gov"},{name:"NWS Phoenix",url:"https://www.weather.gov/psr"}],resolution_criteria:"Official precipitation data from National Weather Service Phoenix",sustainability_fee_percentage:2,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}]);return}try{const{data:p,error:g}=await dn.from("prediction_markets").select("*").order("created_at",{ascending:!1});if(g)throw g;e(p||[])}catch(p){console.error("Error fetching markets:",p)}}const h={trending:t.filter(p=>p.volume>5e4),temperature:t.filter(p=>p.title.toLowerCase().includes("temperature")),precipitation:t.filter(p=>p.title.toLowerCase().includes("rain")||p.title.toLowerCase().includes("snow")||p.title.toLowerCase().includes("drought")),emissions:t.filter(p=>p.title.toLowerCase().includes("carbon")),disasters:t.filter(p=>p.title.toLowerCase().includes("hurricane")||p.title.toLowerCase().includes("earthquake")||p.title.toLowerCase().includes("flood")||p.title.toLowerCase().includes("wildfire")),records:t.filter(p=>p.title.toLowerCase().includes("record"))},m=t[0],f=async()=>{try{console.log("Connecting wallet to testnet...");const p="0x1234567890123456789012345678901234567890";l(!0),d(p),localStorage.setItem("walletConnected","true"),localStorage.setItem("userAddress",p),console.log("Wallet connected:",p)}catch(p){console.error("Failed to connect wallet:",p)}},x=()=>{l(!1),d(""),localStorage.removeItem("walletConnected"),localStorage.removeItem("userAddress"),console.log("Wallet disconnected")};return n.jsx(Gc,{config:ws,children:n.jsxs("div",{className:"min-h-screen bg-black text-white",children:[n.jsx(Dy,{}),n.jsx(Gy,{isConnected:o,userAddress:c,onConnect:f,onDisconnect:x}),n.jsx("header",{className:`fixed w-full z-40 transition-all duration-500 ${i?"bg-black":"bg-gradient-to-b from-black/80 to-transparent"}`,style:{top:"48px"},children:n.jsx("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center space-x-8",children:[n.jsxs(E,{to:"/",className:"flex items-center",children:[n.jsx(rl,{className:"h-8 w-8 text-green-500"}),n.jsx("h1",{className:"ml-2 text-2xl font-bold bg-gradient-to-r from-green-400 to-blue-500 bg-clip-text text-transparent",children:"Climate Markets"})]}),n.jsxs("nav",{className:"hidden md:flex space-x-6",children:[n.jsx(E,{to:"/category/trending",className:"text-sm text-gray-300 hover:text-white",children:"Trending"}),n.jsx(E,{to:"/category/temperature",className:"text-sm text-gray-300 hover:text-white",children:"Temperature"}),n.jsx(E,{to:"/category/precipitation",className:"text-sm text-gray-300 hover:text-white",children:"Precipitation"}),n.jsx(E,{to:"/category/emissions",className:"text-sm text-gray-300 hover:text-white",children:"Emissions"}),n.jsx(E,{to:"/category/disasters",className:"text-sm text-gray-300 hover:text-white",children:"Natural Disasters"}),n.jsx(E,{to:"/category/records",className:"text-sm text-gray-300 hover:text-white",children:"Records"}),n.jsx(E,{to:"/wallet",className:"text-sm text-blue-400 hover:text-blue-300",children:"Wallet"})]})]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsx("div",{className:"relative",children:n.jsx(ol,{className:"h-5 w-5 text-gray-400 hover:text-white cursor-pointer transition-colors"})}),n.jsx(vn,{className:"h-5 w-5 text-gray-400 hover:text-white cursor-pointer transition-colors"}),Bc&&n.jsx("w3m-button",{})]})]})})}),n.jsxs(Jd,{children:[n.jsx(ne,{path:"/",element:n.jsxs("main",{children:[m&&n.jsx(zy,{market:m}),n.jsxs("div",{className:"relative z-10 mt-[-100px] pt-24 space-y-8",children:[n.jsx(rt,{title:"Trending Markets",markets:h.trending,id:"trending"}),n.jsx(rt,{title:"Temperature Predictions",markets:h.temperature,id:"temperature"}),n.jsx(rt,{title:"Precipitation Markets",markets:h.precipitation,id:"precipitation"}),n.jsx(rt,{title:"Carbon Emissions",markets:h.emissions,id:"emissions"}),n.jsx(rt,{title:"Natural Disasters",markets:h.disasters,id:"disasters"}),n.jsx(rt,{title:"Climate Records",markets:h.records,id:"records"})]})]})}),n.jsx(ne,{path:"/market/:id",element:n.jsx(Py,{})}),n.jsx(ne,{path:"/category/:category",element:n.jsx(Ey,{})}),n.jsx(ne,{path:"/wallet",element:n.jsx(Iy,{})}),n.jsx(ne,{path:"/privacy",element:n.jsx($y,{})}),n.jsx(ne,{path:"/terms",element:n.jsx(Uy,{})}),n.jsx(ne,{path:"/how-it-works",element:n.jsx(Vy,{})}),n.jsx(ne,{path:"/faq",element:n.jsx(Hy,{})}),n.jsx(ne,{path:"/dashboard",element:n.jsx(Fy,{})}),n.jsx(ne,{path:"/profile",element:n.jsx(Wy,{})}),n.jsx(ne,{path:"/settings",element:n.jsx(qy,{})})]}),n.jsx(Yy,{})]})})}xo(document.getElementById("root")).render(n.jsx(v.StrictMode,{children:n.jsx(ru,{children:n.jsx(Jy,{})})}));
